(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function LT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dy={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=Symbol.for("react.transitional.element"),kT=Symbol.for("react.fragment");function my(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:PT,type:e,key:i,ref:t!==void 0?t:null,props:n}}$o.Fragment=kT;$o.jsx=my;$o.jsxs=my;dy.exports=$o;var S=dy.exports,gy={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=Symbol.for("react.transitional.element"),BT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),HT=Symbol.for("react.strict_mode"),GT=Symbol.for("react.profiler"),QT=Symbol.for("react.consumer"),KT=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),py=Symbol.for("react.lazy"),jm=Symbol.iterator;function ZT(e){return e===null||typeof e!="object"?null:(e=jm&&e[jm]||e["@@iterator"],typeof e=="function"?e:null)}var yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_y=Object.assign,vy={};function es(e,t,n){this.props=e,this.context=t,this.refs=vy,this.updater=n||yy}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ey(){}Ey.prototype=es.prototype;function sf(e,t,n){this.props=e,this.context=t,this.refs=vy,this.updater=n||yy}var rf=sf.prototype=new Ey;rf.constructor=sf;_y(rf,es.prototype);rf.isPureReactComponent=!0;var zm=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},Ty=Object.prototype.hasOwnProperty;function lf(e,t,n,i,a,s){return n=s.ref,{$$typeof:af,type:e,key:t,ref:n!==void 0?n:null,props:s}}function $T(e,t){return lf(e.type,t,void 0,void 0,void 0,e.props)}function of(e){return typeof e=="object"&&e!==null&&e.$$typeof===af}function JT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lm=/\/+/g;function Ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JT(""+e.key):t.toString(36)}function Pm(){}function WT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Pm,Pm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function la(e,t,n,i,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case af:case BT:l=!0;break;case py:return l=e._init,la(l(e._payload),t,n,i,a)}}if(l)return a=a(e),l=i===""?"."+Ju(e,0):i,zm(a)?(n="",l!=null&&(n=l.replace(Lm,"$&/")+"/"),la(a,t,n,"",function(h){return h})):a!=null&&(of(a)&&(a=$T(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Lm,"$&/")+"/")+l)),t.push(a)),1;l=0;var o=i===""?".":i+":";if(zm(e))for(var u=0;u<e.length;u++)i=e[u],s=o+Ju(i,u),l+=la(i,t,n,s,a);else if(u=ZT(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=o+Ju(i,u++),l+=la(i,t,n,s,a);else if(s==="object"){if(typeof e.then=="function")return la(WT(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function pl(e,t,n){if(e==null)return e;var i=[],a=0;return la(e,i,"","",function(s){return t.call(n,s,a++)}),i}function t1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var km=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function e1(){}$.Children={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!of(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=es;$.Fragment=qT;$.Profiler=GT;$.PureComponent=sf;$.StrictMode=HT;$.Suspense=YT;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At;$.__COMPILER_RUNTIME={__proto__:null,c:function(e){return At.H.useMemoCache(e)}};$.cache=function(e){return function(){return e.apply(null,arguments)}};$.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=_y({},e.props),a=e.key,s=void 0;if(t!=null)for(l in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(a=""+t.key),t)!Ty.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return lf(e.type,a,void 0,void 0,s,i)};$.createContext=function(e){return e={$$typeof:KT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:QT,_context:e},e};$.createElement=function(e,t,n){var i,a={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Ty.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)a[i]===void 0&&(a[i]=l[i]);return lf(e,s,void 0,void 0,null,a)};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:FT,render:e}};$.isValidElement=of;$.lazy=function(e){return{$$typeof:py,_payload:{_status:-1,_result:e},_init:t1}};$.memo=function(e,t){return{$$typeof:XT,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=At.T,n={};At.T=n;try{var i=e(),a=At.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(e1,km)}catch(s){km(s)}finally{At.T=t}};$.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()};$.use=function(e){return At.H.use(e)};$.useActionState=function(e,t,n){return At.H.useActionState(e,t,n)};$.useCallback=function(e,t){return At.H.useCallback(e,t)};$.useContext=function(e){return At.H.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e,t){return At.H.useDeferredValue(e,t)};$.useEffect=function(e,t,n){var i=At.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};$.useId=function(){return At.H.useId()};$.useImperativeHandle=function(e,t,n){return At.H.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return At.H.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return At.H.useLayoutEffect(e,t)};$.useMemo=function(e,t){return At.H.useMemo(e,t)};$.useOptimistic=function(e,t){return At.H.useOptimistic(e,t)};$.useReducer=function(e,t,n){return At.H.useReducer(e,t,n)};$.useRef=function(e){return At.H.useRef(e)};$.useState=function(e){return At.H.useState(e)};$.useSyncExternalStore=function(e,t,n){return At.H.useSyncExternalStore(e,t,n)};$.useTransition=function(){return At.H.useTransition()};$.version="19.1.0";gy.exports=$;var Lt=gy.exports;const n1=LT(Lt);var Ay={exports:{}},Jo={},by={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,Z){var Y=k.length;k.push(Z);t:for(;0<Y;){var yt=Y-1>>>1,Nt=k[yt];if(0<a(Nt,Z))k[yt]=Z,k[Y]=Nt,Y=yt;else break t}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Z=k[0],Y=k.pop();if(Y!==Z){k[0]=Y;t:for(var yt=0,Nt=k.length,ta=Nt>>>1;yt<ta;){var Ae=2*(yt+1)-1,Mt=k[Ae],dn=Ae+1,$e=k[dn];if(0>a(Mt,Y))dn<Nt&&0>a($e,Mt)?(k[yt]=$e,k[dn]=Y,yt=dn):(k[yt]=Mt,k[Ae]=Y,yt=Ae);else if(dn<Nt&&0>a($e,Y))k[yt]=$e,k[dn]=Y,yt=dn;else break t}}return Z}function a(k,Z){var Y=k.sortIndex-Z.sortIndex;return Y!==0?Y:k.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],h=[],d=1,p=null,g=3,_=!1,I=!1,M=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function C(k){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=k)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function P(k){if(M=!1,C(k),!I)if(n(u)!==null)I=!0,q||(q=!0,D());else{var Z=n(h);Z!==null&&fn(P,Z.startTime-k)}}var q=!1,v=-1,y=5,T=-1;function A(){return j?!0:!(e.unstable_now()-T<y)}function x(){if(j=!1,q){var k=e.unstable_now();T=k;var Z=!0;try{t:{I=!1,M&&(M=!1,E(v),v=-1),_=!0;var Y=g;try{e:{for(C(k),p=n(u);p!==null&&!(p.expirationTime>k&&A());){var yt=p.callback;if(typeof yt=="function"){p.callback=null,g=p.priorityLevel;var Nt=yt(p.expirationTime<=k);if(k=e.unstable_now(),typeof Nt=="function"){p.callback=Nt,C(k),Z=!0;break e}p===n(u)&&i(u),C(k)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var ta=n(h);ta!==null&&fn(P,ta.startTime-k),Z=!1}}break t}finally{p=null,g=Y,_=!1}Z=void 0}}finally{Z?D():q=!1}}}var D;if(typeof w=="function")D=function(){w(x)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Ge=b.port2;b.port1.onmessage=x,D=function(){Ge.postMessage(null)}}else D=function(){R(x,0)};function fn(k,Z){v=R(function(){k(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var Y=g;g=Z;try{return k()}finally{g=Y}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=g;g=k;try{return Z()}finally{g=Y}},e.unstable_scheduleCallback=function(k,Z,Y){var yt=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?yt+Y:yt):Y=yt,k){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=Y+Nt,k={id:d++,callback:Z,priorityLevel:k,startTime:Y,expirationTime:Nt,sortIndex:-1},Y>yt?(k.sortIndex=Y,t(h,k),n(u)===null&&k===n(h)&&(M?(E(v),v=-1):M=!0,fn(P,Y-yt))):(k.sortIndex=Nt,t(u,k),I||_||(I=!0,q||(q=!0,D()))),k},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(k){var Z=g;return function(){var Y=g;g=Z;try{return k.apply(this,arguments)}finally{g=Y}}}})(Sy);by.exports=Sy;var i1=by.exports,Ry={exports:{}},ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=Lt;function wy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pn(){}var me={d:{f:Pn,r:function(){throw Error(wy(522))},D:Pn,C:Pn,L:Pn,m:Pn,X:Pn,S:Pn,M:Pn},p:0,findDOMNode:null},s1=Symbol.for("react.portal");function r1(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s1,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Bs=a1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me;ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(wy(299));return r1(e,t,null,n)};ge.flushSync=function(e){var t=Bs.T,n=me.p;try{if(Bs.T=null,me.p=2,e)return e()}finally{Bs.T=t,me.p=n,me.d.f()}};ge.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,me.d.C(e,t))};ge.prefetchDNS=function(e){typeof e=="string"&&me.d.D(e)};ge.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Wo(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?me.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):n==="script"&&me.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ge.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Wo(t.as,t.crossOrigin);me.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&me.d.M(e)};ge.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Wo(n,t.crossOrigin);me.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ge.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Wo(t.as,t.crossOrigin);me.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else me.d.m(e)};ge.requestFormReset=function(e){me.d.r(e)};ge.unstable_batchedUpdates=function(e,t){return e(t)};ge.useFormState=function(e,t,n){return Bs.H.useFormState(e,t,n)};ge.useFormStatus=function(){return Bs.H.useHostTransitionStatus()};ge.version="19.1.0";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),Ry.exports=ge;var l1=Ry.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=i1,Dy=Lt,o1=l1;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bm(e){if(Cr(e)!==e)throw Error(U(188))}function u1(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Bm(a),e;if(s===i)return Bm(a),t;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=a,i=s;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,i=s;break}if(o===i){l=!0,i=a,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,i=a;break}if(o===i){l=!0,i=s,n=a;break}o=o.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Vy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Vy(e),t!==null)return t;e=e.sibling}return null}var vt=Object.assign,c1=Symbol.for("react.element"),yl=Symbol.for("react.transitional.element"),Os=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),My=Symbol.for("react.consumer"),En=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),Gc=Symbol.for("react.activity"),f1=Symbol.for("react.memo_cache_sentinel"),qm=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var d1=Symbol.for("react.client.reference");function Qc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===d1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ga:return"Fragment";case Bc:return"Profiler";case Iy:return"StrictMode";case qc:return"Suspense";case Hc:return"SuspenseList";case Gc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Os:return"Portal";case En:return(e.displayName||"Context")+".Provider";case My:return(e._context.displayName||"Context")+".Consumer";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:Qc(e.type)||"Memo";case qn:t=e._payload,e=e._init;try{return Qc(e(t))}catch{}}return null}var Us=Array.isArray,K=Dy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=o1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mi={pending:!1,data:null,method:null,action:null},Kc=[],pa=-1;function cn(e){return{current:e}}function Yt(e){0>pa||(e.current=Kc[pa],Kc[pa]=null,pa--)}function bt(e,t){pa++,Kc[pa]=e.current,e.current=t}var nn=cn(null),rr=cn(null),Wn=cn(null),no=cn(null);function io(e,t){switch(bt(Wn,t),bt(rr,e),bt(nn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fg(t),e=Zv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Yt(nn),bt(nn,e)}function za(){Yt(nn),Yt(rr),Yt(Wn)}function Fc(e){e.memoizedState!==null&&bt(no,e);var t=nn.current,n=Zv(t,e.type);t!==n&&(bt(rr,e),bt(nn,n))}function ao(e){rr.current===e&&(Yt(nn),Yt(rr)),no.current===e&&(Yt(no),pr._currentValue=Mi)}var Yc=Object.prototype.hasOwnProperty,hf=Ht.unstable_scheduleCallback,Wu=Ht.unstable_cancelCallback,m1=Ht.unstable_shouldYield,g1=Ht.unstable_requestPaint,an=Ht.unstable_now,p1=Ht.unstable_getCurrentPriorityLevel,Oy=Ht.unstable_ImmediatePriority,Uy=Ht.unstable_UserBlockingPriority,so=Ht.unstable_NormalPriority,y1=Ht.unstable_LowPriority,jy=Ht.unstable_IdlePriority,_1=Ht.log,v1=Ht.unstable_setDisableYieldValue,Vr=null,De=null;function Yn(e){if(typeof _1=="function"&&v1(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Vr,e)}catch{}}var Ne=Math.clz32?Math.clz32:A1,E1=Math.log,T1=Math.LN2;function A1(e){return e>>>=0,e===0?32:31-(E1(e)/T1|0)|0}var _l=256,vl=4194304;function Di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?a=Di(i):(l&=o,l!==0?a=Di(l):n||(n=o&~e,n!==0&&(a=Di(n))))):(o=i&~s,o!==0?a=Di(o):l!==0?a=Di(l):n||(n=i&~e,n!==0&&(a=Di(n)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function Ir(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function b1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zy(){var e=_l;return _l<<=1,!(_l&4194048)&&(_l=256),e}function Ly(){var e=vl;return vl<<=1,!(vl&62914560)&&(vl=4194304),e}function tc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function S1(e,t,n,i,a,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-Ne(n),p=1<<d;o[d]=0,u[d]=-1;var g=h[d];if(g!==null)for(h[d]=null,d=0;d<g.length;d++){var _=g[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&Py(e,i,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function Py(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ne(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function ky(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ne(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function ff(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function df(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function By(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function R1(e,t){var n=ot.p;try{return ot.p=e,t()}finally{ot.p=n}}var Ti=Math.random().toString(36).slice(2),ue="__reactFiber$"+Ti,Ee="__reactProps$"+Ti,ns="__reactContainer$"+Ti,Xc="__reactEvents$"+Ti,w1="__reactListeners$"+Ti,x1="__reactHandles$"+Ti,Hm="__reactResources$"+Ti,Or="__reactMarker$"+Ti;function mf(e){delete e[ue],delete e[Ee],delete e[Xc],delete e[w1],delete e[x1]}function ya(e){var t=e[ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[ue]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zg(e);e!==null;){if(n=e[ue])return n;e=Zg(e)}return t}e=n,n=e.parentNode}return null}function is(e){if(e=e[ue]||e[ns]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function js(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function xa(e){var t=e[Hm];return t||(t=e[Hm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Kt(e){e[Or]=!0}var qy=new Set,Hy={};function Ki(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(Hy[e]=t,e=0;e<t.length;e++)qy.add(t[e])}var D1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gm={},Qm={};function N1(e){return Yc.call(Qm,e)?!0:Yc.call(Gm,e)?!1:D1.test(e)?Qm[e]=!0:(Gm[e]=!0,!1)}function zl(e,t,n){if(N1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function El(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function pn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var ec,Km;function oa(e){if(ec===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||"",Km=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+e+Km}var nc=!1;function ic(e,t){if(!e||nc)return"";nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var g=_}Reflect.construct(e,[],p)}else{try{p.call()}catch(_){g=_}e.call(p.prototype)}}else{try{throw Error()}catch(_){g=_}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),l=s[0],o=s[1];if(l&&o){var u=l.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=a);break}}}finally{nc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?oa(n):""}function C1(e){switch(e.tag){case 26:case 27:case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return ic(e.type,!1);case 11:return ic(e.type.render,!1);case 1:return ic(e.type,!0);case 31:return oa("Activity");default:return""}}function Fm(e){try{var t="";do t+=C1(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Oe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V1(e){var t=Gy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){i=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=V1(e))}function Qy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Gy(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var I1=/[\n"\\]/g;function ze(e){return e.replace(I1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zc(e,t,n,i,a,s,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Oe(t)):e.value!==""+Oe(t)&&(e.value=""+Oe(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?$c(e,l,Oe(t)):n!=null?$c(e,l,Oe(n)):i!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Oe(o):e.removeAttribute("name")}function Ky(e,t,n,i,a,s,l,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Oe(n):"",t=t!=null?""+Oe(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l)}function $c(e,t,n){t==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Da(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Oe(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fy(e,t,n){if(t!=null&&(t=""+Oe(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Oe(n):""}function Yy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(Us(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Oe(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var M1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ym(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||M1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xy(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Ym(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&Ym(e,s,t[s])}function gf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return U1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Jc=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Na=null;function Xm(e){var t=is(e);if(t&&(e=t.stateNode)){var n=e[Ee]||null;t:switch(e=t.stateNode,t.type){case"input":if(Zc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Ee]||null;if(!a)throw Error(U(90));Zc(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Qy(i)}break t;case"textarea":Fy(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Da(e,!!n.multiple,t,!1)}}}var ac=!1;function Zy(e,t,n){if(ac)return e(t,n);ac=!0;try{var i=e(t);return i}finally{if(ac=!1,(_a!==null||Na!==null)&&(cu(),_a&&(t=_a,e=Na,Na=_a=null,Xm(t),e)))for(t=0;t<e.length;t++)Xm(e[t])}}function lr(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ee]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(Dn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Wc=!1}var Xn=null,yf=null,Pl=null;function $y(){if(Pl)return Pl;var e,t=yf,n=t.length,i,a="value"in Xn?Xn.value:Xn.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===a[s-i];i++);return Pl=a.slice(e,1<i?1-i:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function Zm(){return!1}function Te(e){function t(n,i,a,s,l){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:Zm,this.isPropagationStopped=Zm,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=Te(Fi),Ur=vt({},Fi,{view:0,detail:0}),j1=Te(Ur),sc,rc,Ds,nu=vt({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(sc=e.screenX-Ds.screenX,rc=e.screenY-Ds.screenY):rc=sc=0,Ds=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),$m=Te(nu),z1=vt({},nu,{dataTransfer:0}),L1=Te(z1),P1=vt({},Ur,{relatedTarget:0}),lc=Te(P1),k1=vt({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=Te(k1),q1=vt({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H1=Te(q1),G1=vt({},Fi,{data:0}),Jm=Te(G1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F1[e])?!!t[e]:!1}function _f(){return Y1}var X1=vt({},Ur,{key:function(e){if(e.key){var t=Q1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Z1=Te(X1),$1=vt({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=Te($1),J1=vt({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),W1=Te(J1),tA=vt({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),eA=Te(tA),nA=vt({},nu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iA=Te(nA),aA=vt({},Fi,{newState:0,oldState:0}),sA=Te(aA),rA=[9,13,27,32],vf=Dn&&"CompositionEvent"in window,qs=null;Dn&&"documentMode"in document&&(qs=document.documentMode);var lA=Dn&&"TextEvent"in window&&!qs,Jy=Dn&&(!vf||qs&&8<qs&&11>=qs),tg=" ",eg=!1;function Wy(e,t){switch(e){case"keyup":return rA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function oA(e,t){switch(e){case"compositionend":return t_(t);case"keypress":return t.which!==32?null:(eg=!0,tg);case"textInput":return e=t.data,e===tg&&eg?null:e;default:return null}}function uA(e,t){if(va)return e==="compositionend"||!vf&&Wy(e,t)?(e=$y(),Pl=yf=Xn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jy&&t.locale!=="ko"?null:t.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cA[e.type]:t==="textarea"}function e_(e,t,n,i){_a?Na?Na.push(i):Na=[i]:_a=i,t=wo(t,"onChange"),0<t.length&&(n=new eu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hs=null,or=null;function hA(e){Fv(e,0)}function iu(e){var t=js(e);if(Qy(t))return e}function ig(e,t){if(e==="change")return t}var n_=!1;if(Dn){var oc;if(Dn){var uc="oninput"in document;if(!uc){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),uc=typeof ag.oninput=="function"}oc=uc}else oc=!1;n_=oc&&(!document.documentMode||9<document.documentMode)}function sg(){Hs&&(Hs.detachEvent("onpropertychange",i_),or=Hs=null)}function i_(e){if(e.propertyName==="value"&&iu(or)){var t=[];e_(t,or,e,pf(e)),Zy(hA,t)}}function fA(e,t,n){e==="focusin"?(sg(),Hs=t,or=n,Hs.attachEvent("onpropertychange",i_)):e==="focusout"&&sg()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(or)}function mA(e,t){if(e==="click")return iu(t)}function gA(e,t){if(e==="input"||e==="change")return iu(t)}function pA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ie=typeof Object.is=="function"?Object.is:pA;function ur(e,t){if(Ie(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Yc.call(t,a)||!Ie(e[a],t[a]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,t){var n=rg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=rg(n)}}function a_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lo(e.document)}return t}function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yA=Dn&&"documentMode"in document&&11>=document.documentMode,Ea=null,th=null,Gs=null,eh=!1;function og(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eh||Ea==null||Ea!==lo(i)||(i=Ea,"selectionStart"in i&&Ef(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gs&&ur(Gs,i)||(Gs=i,i=wo(th,"onSelect"),0<i.length&&(t=new eu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ea)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},cc={},r_={};Dn&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Yi(e){if(cc[e])return cc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in r_)return cc[e]=t[n];return e}var l_=Yi("animationend"),o_=Yi("animationiteration"),u_=Yi("animationstart"),_A=Yi("transitionrun"),vA=Yi("transitionstart"),EA=Yi("transitioncancel"),c_=Yi("transitionend"),h_=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function Ze(e,t){h_.set(e,t),Ki(t,[e])}var ug=new WeakMap;function Le(e,t){if(typeof e=="object"&&e!==null){var n=ug.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Fm(t)},ug.set(e,t),t)}return{value:e,source:t,stack:Fm(t)}}var Me=[],Aa=0,Tf=0;function au(){for(var e=Aa,t=Tf=Aa=0;t<e;){var n=Me[t];Me[t++]=null;var i=Me[t];Me[t++]=null;var a=Me[t];Me[t++]=null;var s=Me[t];if(Me[t++]=null,i!==null&&a!==null){var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}s!==0&&f_(n,a,s)}}function su(e,t,n,i){Me[Aa++]=e,Me[Aa++]=t,Me[Aa++]=n,Me[Aa++]=i,Tf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Af(e,t,n,i){return su(e,t,n,i),oo(e)}function as(e,t){return su(e,null,null,t),oo(e)}function f_(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-Ne(n),e=s.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),s):null}function oo(e){if(50<tr)throw tr=0,bh=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ba={};function TA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xe(e,t,n,i){return new TA(e,t,n,i)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var n=e.alternate;return n===null?(n=xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function d_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bl(e,t,n,i,a,s){var l=0;if(i=e,typeof e=="function")bf(e)&&(l=1);else if(typeof e=="string")l=bb(e,n,nn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Gc:return e=xe(31,n,t,a),e.elementType=Gc,e.lanes=s,e;case ga:return Oi(n.children,a,s,t);case Iy:l=8,a|=24;break;case Bc:return e=xe(12,n,t,a|2),e.elementType=Bc,e.lanes=s,e;case qc:return e=xe(13,n,t,a),e.elementType=qc,e.lanes=s,e;case Hc:return e=xe(19,n,t,a),e.elementType=Hc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h1:case En:l=10;break t;case My:l=9;break t;case uf:l=11;break t;case cf:l=14;break t;case qn:l=16,i=null;break t}l=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=xe(l,n,t,a),t.elementType=e,t.type=i,t.lanes=s,t}function Oi(e,t,n,i){return e=xe(7,e,i,t),e.lanes=n,e}function hc(e,t,n){return e=xe(6,e,null,t),e.lanes=n,e}function fc(e,t,n){return t=xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sa=[],Ra=0,uo=null,co=0,Ue=[],je=0,Ui=null,Tn=1,An="";function Ni(e,t){Sa[Ra++]=co,Sa[Ra++]=uo,uo=e,co=t}function m_(e,t,n){Ue[je++]=Tn,Ue[je++]=An,Ue[je++]=Ui,Ui=e;var i=Tn;e=An;var a=32-Ne(i)-1;i&=~(1<<a),n+=1;var s=32-Ne(t)+a;if(30<s){var l=a-a%5;s=(i&(1<<l)-1).toString(32),i>>=l,a-=l,Tn=1<<32-Ne(t)+a|n<<a|i,An=s+e}else Tn=1<<s|n<<a|i,An=e}function Sf(e){e.return!==null&&(Ni(e,1),m_(e,1,0))}function Rf(e){for(;e===uo;)uo=Sa[--Ra],Sa[Ra]=null,co=Sa[--Ra],Sa[Ra]=null;for(;e===Ui;)Ui=Ue[--je],Ue[je]=null,An=Ue[--je],Ue[je]=null,Tn=Ue[--je],Ue[je]=null}var de=null,xt=null,lt=!1,ji=null,tn=!1,ih=Error(U(519));function ki(e){var t=Error(U(418,""));throw cr(Le(t,e)),ih}function cg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ue]=e,t[Ee]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<dr.length;n++)tt(dr[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Ky(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ro(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Yy(t,i.value,i.defaultValue,i.children),ro(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Xv(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=du),t=!0):t=!1,t||ki(e)}function hg(e){for(de=e.return;de;)switch(de.tag){case 5:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:de=de.return}}function Ns(e){if(e!==de)return!1;if(!lt)return hg(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Nh(e.type,e.memoizedProps)),n=!n),n&&xt&&ki(e),hg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){xt=Ye(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}xt=null}}else t===27?(t=xt,Ai(e.type)?(e=Ih,Ih=null,xt=e):xt=t):xt=de?Ye(e.stateNode.nextSibling):null;return!0}function jr(){xt=de=null,lt=!1}function fg(){var e=ji;return e!==null&&(_e===null?_e=e:_e.push.apply(_e,e),ji=null),e}function cr(e){ji===null?ji=[e]:ji.push(e)}var ah=cn(null),Xi=null,bn=null;function Gn(e,t,n){bt(ah,t._currentValue),t._currentValue=n}function wn(e){e._currentValue=ah.current,Yt(ah)}function sh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function rh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var l=a.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),sh(s.return,n,e),i||(l=null);break t}s=o.next}}else if(a.tag===18){if(l=a.return,l===null)throw Error(U(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),sh(l,n,e),l=null}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}}function zr(e,t,n,i){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var l=a.alternate;if(l===null)throw Error(U(387));if(l=l.memoizedProps,l!==null){var o=a.type;Ie(a.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(a===no.current){if(l=a.alternate,l===null)throw Error(U(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(pr):e=[pr])}a=a.return}e!==null&&rh(t,e,n,i),t.flags|=262144}function ho(e){for(e=e.firstContext;e!==null;){if(!Ie(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Xi=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ce(e){return g_(Xi,e)}function Al(e,t){return Xi===null&&Bi(e),g_(e,t)}function g_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(U(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},bA=Ht.unstable_scheduleCallback,SA=Ht.unstable_NormalPriority,zt={$$typeof:En,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new AA,data:new Map,refCount:0}}function Lr(e){e.refCount--,e.refCount===0&&bA(SA,function(){e.controller.abort()})}var Qs=null,lh=0,ka=0,Ca=null;function RA(e,t){if(Qs===null){var n=Qs=[];lh=0,ka=Xf(),Ca={status:"pending",value:void 0,then:function(i){n.push(i)}}}return lh++,t.then(dg,dg),t}function dg(){if(--lh===0&&Qs!==null){Ca!==null&&(Ca.status="fulfilled");var e=Qs;Qs=null,ka=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wA(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var mg=K.S;K.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&RA(e,t),mg!==null&&mg(e,t)};var zi=cn(null);function xf(){var e=zi.current;return e!==null?e:pt.pooledCache}function ql(e,t){t===null?bt(zi,zi.current):bt(zi,t.pool)}function p_(){var e=xf();return e===null?null:{parent:zt._currentValue,pool:e}}var Pr=Error(U(460)),y_=Error(U(474)),ru=Error(U(542)),oh={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bl(){}function __(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bl,bl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yg(e),e;default:if(typeof t.status=="string")t.then(bl,bl);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yg(e),e}throw Ks=t,Pr}}var Ks=null;function pg(){if(Ks===null)throw Error(U(459));var e=Ks;return Ks=null,e}function yg(e){if(e===Pr||e===ru)throw Error(U(483))}var Hn=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=oo(e),f_(e,null,n),t}return su(e,i,t,n),oo(e)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ky(e,n)}}function dc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ch=!1;function Ys(){if(ch){var e=Ca;if(e!==null)throw e}}function Xs(e,t,n,i){ch=!1;var a=e.updateQueue;Hn=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,l===null?s=h:l.next=h,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=a.baseState;l=0,d=h=u=null,o=s;do{var g=o.lane&-536870913,_=g!==o.lane;if(_?(st&g)===g:(i&g)===g){g!==0&&g===ka&&(ch=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var I=e,M=o;g=t;var j=n;switch(M.tag){case 1:if(I=M.payload,typeof I=="function"){p=I.call(j,p,g);break t}p=I;break t;case 3:I.flags=I.flags&-65537|128;case 0:if(I=M.payload,g=typeof I=="function"?I.call(j,p,g):I,g==null)break t;p=vt({},p,g);break t;case 2:Hn=!0}}g=o.callback,g!==null&&(e.flags|=64,_&&(e.flags|=8192),_=a.callbacks,_===null?a.callbacks=[g]:_.push(g))}else _={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,l|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;_=o,o=_.next,_.next=null,a.lastBaseUpdate=_,a.shared.pending=null}}while(!0);d===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,s===null&&(a.shared.lanes=0),mi|=l,e.lanes=l,e.memoizedState=p}}function v_(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function E_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)v_(n[e],t)}var Ba=cn(null),fo=cn(0);function _g(e,t){e=Vn,bt(fo,e),bt(Ba,t),Vn=e|t.baseLanes}function hh(){bt(fo,Vn),bt(Ba,Ba.current)}function Nf(){Vn=fo.current,Yt(Ba),Yt(fo)}var fi=0,W=null,dt=null,Ut=null,mo=!1,Va=!1,qi=!1,go=0,hr=0,Ia=null,xA=0;function Ct(){throw Error(U(321))}function Cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ie(e[n],t[n]))return!1;return!0}function Vf(e,t,n,i,a,s){return fi=s,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?$_:J_,qi=!1,s=n(i,a),qi=!1,Va&&(s=A_(t,n,i,a)),T_(e),s}function T_(e){K.H=po;var t=dt!==null&&dt.next!==null;if(fi=0,Ut=dt=W=null,mo=!1,hr=0,Ia=null,t)throw Error(U(300));e===null||Ft||(e=e.dependencies,e!==null&&ho(e)&&(Ft=!0))}function A_(e,t,n,i){W=e;var a=0;do{if(Va&&(Ia=null),hr=0,Va=!1,25<=a)throw Error(U(301));if(a+=1,Ut=dt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}K.H=OA,s=t(n,i)}while(Va);return s}function DA(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?kr(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(W.flags|=1024),t}function If(){var e=go!==0;return go=0,e}function Mf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Of(e){if(mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mo=!1}fi=0,Ut=dt=W=null,Va=!1,hr=go=0,Ia=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?W.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function jt(){if(dt===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Ut===null?W.memoizedState:Ut.next;if(t!==null)Ut=t,dt=e;else{if(e===null)throw W.alternate===null?Error(U(467)):Error(U(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ut===null?W.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var t=hr;return hr+=1,Ia===null&&(Ia=[]),e=__(Ia,e,t),t=W,(Ut===null?t.memoizedState:Ut.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?$_:J_),e}function lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===En)return ce(e)}throw Error(U(438,String(e)))}function jf(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Uf(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=f1;return t.index++,n}function Nn(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=jt();return zf(t,dt,e)}function zf(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var o=l=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(st&p)===p:(fi&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===ka&&(d=!0);else if((fi&g)===g){h=h.next,g===ka&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,l=s):u=u.next=p,W.lanes|=g,mi|=g;p=h.action,qi&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else g={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,l=s):u=u.next=g,W.lanes|=p,mi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?l=s:u.next=o,!Ie(s,e.memoizedState)&&(Ft=!0,d&&(n=Ca,n!==null)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=u,i.lastRenderedState=s}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function mc(e){var t=jt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);Ie(s,t.memoizedState)||(Ft=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function b_(e,t,n){var i=W,a=jt(),s=lt;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=t();var l=!Ie((dt||a).memoizedState,n);l&&(a.memoizedState=n,Ft=!0),a=a.queue;var o=w_.bind(null,i,a,e);if(Br(2048,8,o,[e]),a.getSnapshot!==t||l||Ut!==null&&Ut.memoizedState.tag&1){if(i.flags|=2048,qa(9,ou(),R_.bind(null,i,a,n,t),null),pt===null)throw Error(U(349));s||fi&124||S_(i,t,n)}return n}function S_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Uf(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R_(e,t,n,i){t.value=n,t.getSnapshot=i,x_(t)&&D_(e)}function w_(e,t,n){return n(function(){x_(t)&&D_(e)})}function x_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ie(e,n)}catch{return!0}}function D_(e){var t=as(e,2);t!==null&&Ve(t,e,2)}function fh(e){var t=pe();if(typeof e=="function"){var n=e;if(e=n(),qi){Yn(!0);try{n()}finally{Yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function N_(e,t,n,i){return e.baseState=n,zf(e,dt,typeof i=="function"?i:Nn)}function NA(e,t,n,i,a){if(uu(e))throw Error(U(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};K.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,C_(t,s)):(s.next=n.next,t.pending=n.next=s)}}function C_(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var s=K.T,l={};K.T=l;try{var o=n(a,i),u=K.S;u!==null&&u(l,o),vg(e,t,o)}catch(h){dh(e,t,h)}finally{K.T=s}}else try{s=n(a,i),vg(e,t,s)}catch(h){dh(e,t,h)}}function vg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Eg(e,t,i)},function(i){return dh(e,t,i)}):Eg(e,t,n)}function Eg(e,t,n){t.status="fulfilled",t.value=n,V_(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,C_(e,n)))}function dh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,V_(t),t=t.next;while(t!==i)}e.action=null}function V_(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function I_(e,t){return t}function Tg(e,t){if(lt){var n=pt.formState;if(n!==null){t:{var i=W;if(lt){if(xt){e:{for(var a=xt,s=tn;a.nodeType!==8;){if(!s){a=null;break e}if(a=Ye(a.nextSibling),a===null){a=null;break e}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){xt=Ye(a.nextSibling),i=a.data==="F!";break t}}ki(i)}i=!1}i&&(t=n[0])}}return n=pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:t},n.queue=i,n=Y_.bind(null,W,i),i.dispatch=n,i=fh(!1),s=Bf.bind(null,W,!1,i.queue),i=pe(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=NA.bind(null,W,a,s,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ag(e){var t=jt();return M_(t,dt,e)}function M_(e,t,n){if(t=zf(e,t,I_)[0],e=Hl(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=kr(t)}catch(l){throw l===Pr?ru:l}else i=t;t=jt();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(W.flags|=2048,qa(9,ou(),CA.bind(null,a,n),null)),[i,s,e]}function CA(e,t){e.action=t}function bg(e){var t=jt(),n=dt;if(n!==null)return M_(t,n,e);jt(),t=t.memoizedState,n=jt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function qa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=Uf(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ou(){return{destroy:void 0,resource:void 0}}function O_(){return jt().memoizedState}function Gl(e,t,n,i){var a=pe();i=i===void 0?null:i,W.flags|=e,a.memoizedState=qa(1|t,ou(),n,i)}function Br(e,t,n,i){var a=jt();i=i===void 0?null:i;var s=a.memoizedState.inst;dt!==null&&i!==null&&Cf(i,dt.memoizedState.deps)?a.memoizedState=qa(t,s,n,i):(W.flags|=e,a.memoizedState=qa(1|t,s,n,i))}function Sg(e,t){Gl(8390656,8,e,t)}function U_(e,t){Br(2048,8,e,t)}function j_(e,t){return Br(4,2,e,t)}function z_(e,t){return Br(4,4,e,t)}function L_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P_(e,t,n){n=n!=null?n.concat([e]):null,Br(4,4,L_.bind(null,t,e),n)}function Lf(){}function k_(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Cf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function B_(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Cf(t,i[1]))return i[0];if(i=e(),qi){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[i,t],i}function Pf(e,t,n){return n===void 0||fi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Vv(),W.lanes|=e,mi|=e,n)}function q_(e,t,n,i){return Ie(n,t)?n:Ba.current!==null?(e=Pf(e,n,i),Ie(e,t)||(Ft=!0),e):fi&42?(e=Vv(),W.lanes|=e,mi|=e,t):(Ft=!0,e.memoizedState=n)}function H_(e,t,n,i,a){var s=ot.p;ot.p=s!==0&&8>s?s:8;var l=K.T,o={};K.T=o,Bf(e,!1,t,n);try{var u=a(),h=K.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=wA(u,i);Zs(e,t,d,Ce(e))}else Zs(e,t,i,Ce(e))}catch(p){Zs(e,t,{then:function(){},status:"rejected",reason:p},Ce())}finally{ot.p=s,K.T=l}}function VA(){}function mh(e,t,n,i){if(e.tag!==5)throw Error(U(476));var a=G_(e).queue;H_(e,a,t,Mi,n===null?VA:function(){return Q_(e),n(i)})}function G_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Mi,baseState:Mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:Mi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Q_(e){var t=G_(e).next.queue;Zs(e,t,{},Ce())}function kf(){return ce(pr)}function K_(){return jt().memoizedState}function F_(){return jt().memoizedState}function IA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ce();e=ti(n);var i=ei(t,e,n);i!==null&&(Ve(i,t,n),Fs(i,t,n)),t={cache:wf()},e.payload=t;return}t=t.return}}function MA(e,t,n){var i=Ce();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},uu(e)?X_(t,n):(n=Af(e,t,n,i),n!==null&&(Ve(n,e,i),Z_(n,t,i)))}function Y_(e,t,n){var i=Ce();Zs(e,t,n,i)}function Zs(e,t,n,i){var a={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(uu(e))X_(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,o=s(l,n);if(a.hasEagerState=!0,a.eagerState=o,Ie(o,l))return su(e,t,a,0),pt===null&&au(),!1}catch{}finally{}if(n=Af(e,t,a,i),n!==null)return Ve(n,e,i),Z_(n,t,i),!0}return!1}function Bf(e,t,n,i){if(i={lane:2,revertLane:Xf(),action:i,hasEagerState:!1,eagerState:null,next:null},uu(e)){if(t)throw Error(U(479))}else t=Af(e,n,i,2),t!==null&&Ve(t,e,2)}function uu(e){var t=e.alternate;return e===W||t!==null&&t===W}function X_(e,t){Va=mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z_(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ky(e,n)}}var po={readContext:ce,use:lu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},$_={readContext:ce,use:lu,useCallback:function(e,t){return pe().memoizedState=[e,t===void 0?null:t],e},useContext:ce,useEffect:Sg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Gl(4194308,4,L_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gl(4194308,4,e,t)},useInsertionEffect:function(e,t){Gl(4,2,e,t)},useMemo:function(e,t){var n=pe();t=t===void 0?null:t;var i=e();if(qi){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pe();if(n!==void 0){var a=n(t);if(qi){Yn(!0);try{n(t)}finally{Yn(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=MA.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=pe();return e={current:e},t.memoizedState=e},useState:function(e){e=fh(e);var t=e.queue,n=Y_.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lf,useDeferredValue:function(e,t){var n=pe();return Pf(n,e,t)},useTransition:function(){var e=fh(!1);return e=H_.bind(null,W,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,a=pe();if(lt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),pt===null)throw Error(U(349));st&124||S_(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Sg(w_.bind(null,i,s,e),[e]),i.flags|=2048,qa(9,ou(),R_.bind(null,i,s,n,t),null),n},useId:function(){var e=pe(),t=pt.identifierPrefix;if(lt){var n=An,i=Tn;n=(i&~(1<<32-Ne(i)-1)).toString(32)+n,t=""+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=xA++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:kf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e){var t=pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bf.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:jf,useCacheRefresh:function(){return pe().memoizedState=IA.bind(null,W)}},J_={readContext:ce,use:lu,useCallback:k_,useContext:ce,useEffect:U_,useImperativeHandle:P_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:B_,useReducer:Hl,useRef:O_,useState:function(){return Hl(Nn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=jt();return q_(n,dt.memoizedState,e,t)},useTransition:function(){var e=Hl(Nn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:b_,useId:K_,useHostTransitionStatus:kf,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,t){var n=jt();return N_(n,dt,e,t)},useMemoCache:jf,useCacheRefresh:F_},OA={readContext:ce,use:lu,useCallback:k_,useContext:ce,useEffect:U_,useImperativeHandle:P_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:B_,useReducer:mc,useRef:O_,useState:function(){return mc(Nn)},useDebugValue:Lf,useDeferredValue:function(e,t){var n=jt();return dt===null?Pf(n,e,t):q_(n,dt.memoizedState,e,t)},useTransition:function(){var e=mc(Nn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:kr(e),t]},useSyncExternalStore:b_,useId:K_,useHostTransitionStatus:kf,useFormState:bg,useActionState:bg,useOptimistic:function(e,t){var n=jt();return dt!==null?N_(n,dt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jf,useCacheRefresh:F_},Ma=null,fr=0;function Sl(e){var t=fr;return fr+=1,Ma===null&&(Ma=[]),__(Ma,e,t)}function Cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Rl(e,t){throw t.$$typeof===c1?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rg(e){var t=e._init;return t(e._payload)}function W_(e){function t(R,E){if(e){var w=R.deletions;w===null?(R.deletions=[E],R.flags|=16):w.push(E)}}function n(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function i(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function a(R,E){return R=Rn(R,E),R.index=0,R.sibling=null,R}function s(R,E,w){return R.index=w,e?(w=R.alternate,w!==null?(w=w.index,w<E?(R.flags|=67108866,E):w):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function l(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function o(R,E,w,C){return E===null||E.tag!==6?(E=hc(w,R.mode,C),E.return=R,E):(E=a(E,w),E.return=R,E)}function u(R,E,w,C){var P=w.type;return P===ga?d(R,E,w.props.children,C,w.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qn&&Rg(P)===E.type)?(E=a(E,w.props),Cs(E,w),E.return=R,E):(E=Bl(w.type,w.key,w.props,null,R.mode,C),Cs(E,w),E.return=R,E)}function h(R,E,w,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=fc(w,R.mode,C),E.return=R,E):(E=a(E,w.children||[]),E.return=R,E)}function d(R,E,w,C,P){return E===null||E.tag!==7?(E=Oi(w,R.mode,C,P),E.return=R,E):(E=a(E,w),E.return=R,E)}function p(R,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=hc(""+E,R.mode,w),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yl:return w=Bl(E.type,E.key,E.props,null,R.mode,w),Cs(w,E),w.return=R,w;case Os:return E=fc(E,R.mode,w),E.return=R,E;case qn:var C=E._init;return E=C(E._payload),p(R,E,w)}if(Us(E)||ws(E))return E=Oi(E,R.mode,w,null),E.return=R,E;if(typeof E.then=="function")return p(R,Sl(E),w);if(E.$$typeof===En)return p(R,Al(R,E),w);Rl(R,E)}return null}function g(R,E,w,C){var P=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return P!==null?null:o(R,E,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yl:return w.key===P?u(R,E,w,C):null;case Os:return w.key===P?h(R,E,w,C):null;case qn:return P=w._init,w=P(w._payload),g(R,E,w,C)}if(Us(w)||ws(w))return P!==null?null:d(R,E,w,C,null);if(typeof w.then=="function")return g(R,E,Sl(w),C);if(w.$$typeof===En)return g(R,E,Al(R,w),C);Rl(R,w)}return null}function _(R,E,w,C,P){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return R=R.get(w)||null,o(E,R,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yl:return R=R.get(C.key===null?w:C.key)||null,u(E,R,C,P);case Os:return R=R.get(C.key===null?w:C.key)||null,h(E,R,C,P);case qn:var q=C._init;return C=q(C._payload),_(R,E,w,C,P)}if(Us(C)||ws(C))return R=R.get(w)||null,d(E,R,C,P,null);if(typeof C.then=="function")return _(R,E,w,Sl(C),P);if(C.$$typeof===En)return _(R,E,w,Al(E,C),P);Rl(E,C)}return null}function I(R,E,w,C){for(var P=null,q=null,v=E,y=E=0,T=null;v!==null&&y<w.length;y++){v.index>y?(T=v,v=null):T=v.sibling;var A=g(R,v,w[y],C);if(A===null){v===null&&(v=T);break}e&&v&&A.alternate===null&&t(R,v),E=s(A,E,y),q===null?P=A:q.sibling=A,q=A,v=T}if(y===w.length)return n(R,v),lt&&Ni(R,y),P;if(v===null){for(;y<w.length;y++)v=p(R,w[y],C),v!==null&&(E=s(v,E,y),q===null?P=v:q.sibling=v,q=v);return lt&&Ni(R,y),P}for(v=i(v);y<w.length;y++)T=_(v,R,y,w[y],C),T!==null&&(e&&T.alternate!==null&&v.delete(T.key===null?y:T.key),E=s(T,E,y),q===null?P=T:q.sibling=T,q=T);return e&&v.forEach(function(x){return t(R,x)}),lt&&Ni(R,y),P}function M(R,E,w,C){if(w==null)throw Error(U(151));for(var P=null,q=null,v=E,y=E=0,T=null,A=w.next();v!==null&&!A.done;y++,A=w.next()){v.index>y?(T=v,v=null):T=v.sibling;var x=g(R,v,A.value,C);if(x===null){v===null&&(v=T);break}e&&v&&x.alternate===null&&t(R,v),E=s(x,E,y),q===null?P=x:q.sibling=x,q=x,v=T}if(A.done)return n(R,v),lt&&Ni(R,y),P;if(v===null){for(;!A.done;y++,A=w.next())A=p(R,A.value,C),A!==null&&(E=s(A,E,y),q===null?P=A:q.sibling=A,q=A);return lt&&Ni(R,y),P}for(v=i(v);!A.done;y++,A=w.next())A=_(v,R,y,A.value,C),A!==null&&(e&&A.alternate!==null&&v.delete(A.key===null?y:A.key),E=s(A,E,y),q===null?P=A:q.sibling=A,q=A);return e&&v.forEach(function(D){return t(R,D)}),lt&&Ni(R,y),P}function j(R,E,w,C){if(typeof w=="object"&&w!==null&&w.type===ga&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yl:t:{for(var P=w.key;E!==null;){if(E.key===P){if(P=w.type,P===ga){if(E.tag===7){n(R,E.sibling),C=a(E,w.props.children),C.return=R,R=C;break t}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qn&&Rg(P)===E.type){n(R,E.sibling),C=a(E,w.props),Cs(C,w),C.return=R,R=C;break t}n(R,E);break}else t(R,E);E=E.sibling}w.type===ga?(C=Oi(w.props.children,R.mode,C,w.key),C.return=R,R=C):(C=Bl(w.type,w.key,w.props,null,R.mode,C),Cs(C,w),C.return=R,R=C)}return l(R);case Os:t:{for(P=w.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(R,E.sibling),C=a(E,w.children||[]),C.return=R,R=C;break t}else{n(R,E);break}else t(R,E);E=E.sibling}C=fc(w,R.mode,C),C.return=R,R=C}return l(R);case qn:return P=w._init,w=P(w._payload),j(R,E,w,C)}if(Us(w))return I(R,E,w,C);if(ws(w)){if(P=ws(w),typeof P!="function")throw Error(U(150));return w=P.call(w),M(R,E,w,C)}if(typeof w.then=="function")return j(R,E,Sl(w),C);if(w.$$typeof===En)return j(R,E,Al(R,w),C);Rl(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(n(R,E.sibling),C=a(E,w),C.return=R,R=C):(n(R,E),C=hc(w,R.mode,C),C.return=R,R=C),l(R)):n(R,E)}return function(R,E,w,C){try{fr=0;var P=j(R,E,w,C);return Ma=null,P}catch(v){if(v===Pr||v===ru)throw v;var q=xe(29,v,null,R.mode);return q.lanes=C,q.return=R,q}finally{}}}var Ha=W_(!0),tv=W_(!1),Be=cn(null),sn=null;function Qn(e){var t=e.alternate;bt(Pt,Pt.current&1),bt(Be,e),sn===null&&(t===null||Ba.current!==null||t.memoizedState!==null)&&(sn=e)}function ev(e){if(e.tag===22){if(bt(Pt,Pt.current),bt(Be,e),sn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(sn=e)}}else Kn()}function Kn(){bt(Pt,Pt.current),bt(Be,Be.current)}function Sn(e){Yt(Be),sn===e&&(sn=null),Yt(Pt)}var Pt=cn(0);function yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Vh(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ce(),a=ti(i);a.payload=t,n!=null&&(a.callback=n),t=ei(e,a,i),t!==null&&(Ve(t,e,i),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ce(),a=ti(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ei(e,a,i),t!==null&&(Ve(t,e,i),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),i=ti(n);i.tag=2,t!=null&&(i.callback=t),t=ei(e,i,n),t!==null&&(Ve(t,e,n),Fs(t,e,n))}};function wg(e,t,n,i,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,l):t.prototype&&t.prototype.isPureReactComponent?!ur(n,i)||!ur(a,s):!0}function xg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gh.enqueueReplaceState(t,t.state,null)}function Hi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=vt({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nv(e){_o(e)}function iv(e){console.error(e)}function av(e){_o(e)}function vo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Dg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ph(e,t,n){return n=ti(n),n.tag=3,n.payload={element:null},n.callback=function(){vo(e,t)},n}function sv(e){return e=ti(e),e.tag=3,e}function rv(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=i.value;e.payload=function(){return a(s)},e.callback=function(){Dg(t,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Dg(t,n,i),typeof a!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function UA(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&zr(t,n,a,!0),n=Be.current,n!==null){switch(n.tag){case 13:return sn===null?Sh():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===oh?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),wc(e,i,a)),!1;case 22:return n.flags|=65536,i===oh?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),wc(e,i,a)),!1}throw Error(U(435,n.tag))}return wc(e,i,a),Sh(),!1}if(lt)return t=Be.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==ih&&(e=Error(U(422),{cause:i}),cr(Le(e,n)))):(i!==ih&&(t=Error(U(423),{cause:i}),cr(Le(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=Le(i,n),a=ph(e.stateNode,i,a),dc(e,a),Dt!==4&&(Dt=2)),!1;var s=Error(U(520),{cause:i});if(s=Le(s,n),Ws===null?Ws=[s]:Ws.push(s),Dt!==4&&(Dt=2),t===null)return!0;i=Le(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ph(n.stateNode,i,e),dc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=sv(a),rv(a,e,n,i),dc(n,a),!1}n=n.return}while(n!==null);return!1}var lv=Error(U(461)),Ft=!1;function Zt(e,t,n,i){t.child=e===null?tv(t,null,n,i):Ha(t,e.child,n,i)}function Ng(e,t,n,i,a){n=n.render;var s=t.ref;if("ref"in i){var l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}else l=i;return Bi(t),i=Vf(e,t,n,l,s,a),o=If(),e!==null&&!Ft?(Mf(e,t,a),Cn(e,t,a)):(lt&&o&&Sf(t),t.flags|=1,Zt(e,t,i,a),t.child)}function Cg(e,t,n,i,a){if(e===null){var s=n.type;return typeof s=="function"&&!bf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,ov(e,t,s,i,a)):(e=Bl(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!qf(e,a)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ur,n(l,i)&&e.ref===t.ref)return Cn(e,t,a)}return t.flags|=1,e=Rn(s,i),e.ref=t.ref,e.return=t,t.child=e}function ov(e,t,n,i,a){if(e!==null){var s=e.memoizedProps;if(ur(s,i)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=i=s,qf(e,a))e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Cn(e,t,a)}return yh(e,t,n,i,a)}function uv(e,t,n){var i=t.pendingProps,a=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Vg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(t,s!==null?s.cachePool:null),s!==null?_g(t,s):hh(),ev(t);else return t.lanes=t.childLanes=536870912,Vg(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ql(t,s.cachePool),_g(t,s),Kn(),t.memoizedState=null):(e!==null&&ql(t,null),hh(),Kn());return Zt(e,t,a,n),t.child}function Vg(e,t,n,i){var a=xf();return a=a===null?null:{parent:zt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ql(t,null),hh(),ev(t),e!==null&&zr(e,t,i,!0),null}function Ql(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yh(e,t,n,i,a){return Bi(t),n=Vf(e,t,n,i,void 0,a),i=If(),e!==null&&!Ft?(Mf(e,t,a),Cn(e,t,a)):(lt&&i&&Sf(t),t.flags|=1,Zt(e,t,n,a),t.child)}function Ig(e,t,n,i,a,s){return Bi(t),t.updateQueue=null,n=A_(t,i,n,a),T_(e),i=If(),e!==null&&!Ft?(Mf(e,t,s),Cn(e,t,s)):(lt&&i&&Sf(t),t.flags|=1,Zt(e,t,n,s),t.child)}function Mg(e,t,n,i,a){if(Bi(t),t.stateNode===null){var s=ba,l=n.contextType;typeof l=="object"&&l!==null&&(s=ce(l)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gh,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Df(t),l=n.contextType,s.context=typeof l=="object"&&l!==null?ce(l):ba,s.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(gc(t,n,l,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&gh.enqueueReplaceState(s,s.state,null),Xs(t,i,s,a),Ys(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,u=Hi(n,o);s.props=u;var h=s.context,d=n.contextType;l=ba,typeof d=="object"&&d!==null&&(l=ce(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||h!==l)&&xg(t,s,i,l),Hn=!1;var g=t.memoizedState;s.state=g,Xs(t,i,s,a),Ys(),h=t.memoizedState,o||g!==h||Hn?(typeof p=="function"&&(gc(t,n,p,i),h=t.memoizedState),(u=Hn||wg(t,n,u,i,g,h,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=l,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,uh(e,t),l=t.memoizedProps,d=Hi(n,l),s.props=d,p=t.pendingProps,g=s.context,h=n.contextType,u=ba,typeof h=="object"&&h!==null&&(u=ce(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||g!==u)&&xg(t,s,i,u),Hn=!1,g=t.memoizedState,s.state=g,Xs(t,i,s,a),Ys();var _=t.memoizedState;l!==p||g!==_||Hn||e!==null&&e.dependencies!==null&&ho(e.dependencies)?(typeof o=="function"&&(gc(t,n,o,i),_=t.memoizedState),(d=Hn||wg(t,n,d,i,g,_,u)||e!==null&&e.dependencies!==null&&ho(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ql(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,n,a)):Zt(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Cn(e,t,a),e}function Og(e,t,n,i){return jr(),t.flags|=256,Zt(e,t,n,i),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:p_()}}function _c(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ke),e}function cv(e,t,n){var i=t.pendingProps,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),l&&(a=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(a?Qn(t):Kn(),lt){var o=xt,u;if(u=o){t:{for(u=o,o=tn;u.nodeType!==8;){if(!o){o=null;break t}if(u=Ye(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:Ui!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},u=xe(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,de=t,xt=null,u=!0):u=!1}u||ki(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Vh(o)?t.lanes=32:t.lanes=536870912,null;Sn(t)}return o=i.children,i=i.fallback,a?(Kn(),a=t.mode,o=Eo({mode:"hidden",children:o},a),i=Oi(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,a=t.child,a.memoizedState=yc(n),a.childLanes=_c(e,l,n),t.memoizedState=pc,i):(Qn(t),_h(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(s)t.flags&256?(Qn(t),t.flags&=-257,t=vc(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),a=i.fallback,o=t.mode,i=Eo({mode:"visible",children:i.children},o),a=Oi(a,o,n,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,Ha(t,e.child,null,n),i=t.child,i.memoizedState=yc(n),i.childLanes=_c(e,l,n),t.memoizedState=pc,t=a);else if(Qn(t),Vh(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var h=l.dgst;l=h,i=Error(U(419)),i.stack="",i.digest=l,cr({value:i,source:null,stack:null}),t=vc(e,t,n)}else if(Ft||zr(e,t,n,!1),l=(n&e.childLanes)!==0,Ft||l){if(l=pt,l!==null&&(i=n&-n,i=i&42?1:ff(i),i=i&(l.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,as(e,i),Ve(l,e,i),lv;o.data==="$?"||Sh(),t=vc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,xt=Ye(o.nextSibling),de=t,lt=!0,ji=null,tn=!1,e!==null&&(Ue[je++]=Tn,Ue[je++]=An,Ue[je++]=Ui,Tn=e.id,An=e.overflow,Ui=t),t=_h(t,i.children),t.flags|=4096);return t}return a?(Kn(),a=i.fallback,o=t.mode,u=e.child,h=u.sibling,i=Rn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?a=Rn(h,a):(a=Oi(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o===null?o=yc(n):(u=o.cachePool,u!==null?(h=zt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=p_(),o={baseLanes:o.baseLanes|n,cachePool:u}),a.memoizedState=o,a.childLanes=_c(e,l,n),t.memoizedState=pc,i):(Qn(t),n=e.child,e=n.sibling,n=Rn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function _h(e,t){return t=Eo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Eo(e,t){return e=xe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vc(e,t,n){return Ha(t,e.child,null,n),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ug(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sh(e.return,t,n)}function Ec(e,t,n,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a)}function hv(e,t,n){var i=t.pendingProps,a=i.revealOrder,s=i.tail;if(Zt(e,t,i.children,n),i=Pt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,n,t);else if(e.tag===19)Ug(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(bt(Pt,i),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&yo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ec(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ec(t,!0,n,null,s);break;case"together":Ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(n&t.childLanes))if(e!==null){if(zr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ho(e)))}function jA(e,t,n){switch(t.tag){case 3:io(t,t.stateNode.containerInfo),Gn(t,zt,e.memoizedState.cache),jr();break;case 27:case 5:Fc(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qn(t),t.flags|=128,null):n&t.child.childLanes?cv(e,t,n):(Qn(t),e=Cn(e,t,n),e!==null?e.sibling:null);Qn(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(zr(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return hv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),bt(Pt,Pt.current),i)break;return null;case 22:case 23:return t.lanes=0,uv(e,t,n);case 24:Gn(t,zt,e.memoizedState.cache)}return Cn(e,t,n)}function fv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ft=!0;else{if(!qf(e,n)&&!(t.flags&128))return Ft=!1,jA(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,lt&&t.flags&1048576&&m_(t,co,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,typeof i=="function")bf(i)?(e=Hi(i,e),t.tag=1,t=Mg(null,t,i,e,n)):(t.tag=0,t=yh(null,t,i,e,n));else{if(i!=null){if(a=i.$$typeof,a===uf){t.tag=11,t=Ng(null,t,i,e,n);break t}else if(a===cf){t.tag=14,t=Cg(null,t,i,e,n);break t}}throw t=Qc(i)||i,Error(U(306,t,""))}}return t;case 0:return yh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=Hi(i,t.pendingProps),Mg(e,t,i,a,n);case 3:t:{if(io(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,uh(e,t),Xs(t,i,null,n);var l=t.memoizedState;if(i=l.cache,Gn(t,zt,i),i!==s.cache&&rh(t,[zt],n,!0),Ys(),i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Og(e,t,i,n);break t}else if(i!==a){a=Le(Error(U(424)),t),cr(a),t=Og(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Ye(e.firstChild),de=t,lt=!0,ji=null,tn=!0,n=tv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(jr(),i===a){t=Cn(e,t,n);break t}Zt(e,t,i,n)}t=t.child}return t;case 26:return Ql(e,t),e===null?(n=Jg(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=xo(Wn.current).createElement(n),i[ue]=t,i[Ee]=e,ee(i,n,e),Kt(i),t.stateNode=i):t.memoizedState=Jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fc(t),e===null&&lt&&(i=t.stateNode=Jv(t.type,t.pendingProps,Wn.current),de=t,tn=!0,a=xt,Ai(t.type)?(Ih=a,xt=Ye(i.firstChild)):xt=a),Zt(e,t,t.pendingProps.children,n),Ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((a=i=xt)&&(i=cb(i,t.type,t.pendingProps,tn),i!==null?(t.stateNode=i,de=t,xt=Ye(i.firstChild),tn=!1,a=!0):a=!1),a||ki(t)),Fc(t),a=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Nh(a,s)?i=null:l!==null&&Nh(a,l)&&(t.flags|=32),t.memoizedState!==null&&(a=Vf(e,t,DA,null,null,n),pr._currentValue=a),Ql(e,t),Zt(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=xt)&&(n=hb(n,t.pendingProps,tn),n!==null?(t.stateNode=n,de=t,xt=null,e=!0):e=!1),e||ki(t)),null;case 13:return cv(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ha(t,null,i,n):Zt(e,t,i,n),t.child;case 11:return Ng(e,t,t.type,t.pendingProps,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Gn(t,t.type,i.value),Zt(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Bi(t),a=ce(a),i=i(a),t.flags|=1,Zt(e,t,i,n),t.child;case 14:return Cg(e,t,t.type,t.pendingProps,n);case 15:return ov(e,t,t.type,t.pendingProps,n);case 19:return hv(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Eo(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Rn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return uv(e,t,n);case 24:return Bi(t),i=ce(zt),e===null?(a=xf(),a===null&&(a=pt,s=wf(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},Df(t),Gn(t,zt,a)):(e.lanes&n&&(uh(e,t),Xs(t,null,null,n),Ys()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gn(t,zt,i)):(i=s.cache,Gn(t,zt,i),i!==a.cache&&rh(t,[zt],n,!0))),Zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function yn(e){e.flags|=4}function jg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!e0(t)){if(t=Be.current,t!==null&&((st&4194048)===st?sn!==null:(st&62914560)!==st&&!(st&536870912)||t!==sn))throw Ks=oh,y_;e.flags|=8192}}function wl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ly():536870912,e.lanes|=t,Ga|=t)}function Vs(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zA(e,t,n){var i=t.pendingProps;switch(Rf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wn(zt),za(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?yn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fg())),St(t),null;case 26:return n=t.memoizedState,e===null?(yn(t),n!==null?(St(t),jg(t,n)):(St(t),t.flags&=-16777217)):n?n!==e.memoizedState?(yn(t),St(t),jg(t,n)):(St(t),t.flags&=-16777217):(e.memoizedProps!==i&&yn(t),St(t),t.flags&=-16777217),null;case 27:ao(t),n=Wn.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return St(t),null}e=nn.current,Ns(t)?cg(t):(e=Jv(a,i,n),t.stateNode=e,yn(t))}return St(t),null;case 5:if(ao(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return St(t),null}if(e=nn.current,Ns(t))cg(t);else{switch(a=xo(Wn.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?a.createElement(n,{is:i.is}):a.createElement(n)}}e[ue]=t,e[Ee]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;t:switch(ee(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&yn(t)}}return St(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=Wn.current,Ns(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=de,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[ue]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Xv(e.nodeValue,n)),e||ki(t)}else e=xo(e).createTextNode(i),e[ue]=t,t.stateNode=e}return St(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ns(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(U(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[ue]=t}else jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),a=!1}else a=fg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Sn(t),t):(Sn(t),null)}if(Sn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),wl(t,t.updateQueue),St(t),null;case 4:return za(),e===null&&Zf(t.stateNode.containerInfo),St(t),null;case 10:return wn(t.type),St(t),null;case 19:if(Yt(Pt),a=t.memoizedState,a===null)return St(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Vs(a,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=yo(e),s!==null){for(t.flags|=128,Vs(a,!1),e=s.updateQueue,t.updateQueue=e,wl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)d_(n,e),n=n.sibling;return bt(Pt,Pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&an()>Ao&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304)}else{if(!i)if(e=yo(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,wl(t,e),Vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!lt)return St(t),null}else 2*an()-a.renderingStartTime>Ao&&n!==536870912&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=an(),t.sibling=null,e=Pt.current,bt(Pt,i?e&1|2:e&1),t):(St(t),null);case 22:case 23:return Sn(t),Nf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),n=t.updateQueue,n!==null&&wl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Yt(zi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wn(zt),St(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function LA(e,t){switch(Rf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(zt),za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ao(t),null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(Pt),null;case 4:return za(),null;case 10:return wn(t.type),null;case 22:case 23:return Sn(t),Nf(),e!==null&&Yt(zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(zt),null;case 25:return null;default:return null}}function dv(e,t){switch(Rf(t),t.tag){case 3:wn(zt),za();break;case 26:case 27:case 5:ao(t);break;case 4:za();break;case 13:Sn(t);break;case 19:Yt(Pt);break;case 10:wn(t.type);break;case 22:case 23:Sn(t),Nf(),e!==null&&Yt(zi);break;case 24:wn(zt)}}function qr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var s=n.create,l=n.inst;i=s(),l.destroy=i}n=n.next}while(n!==a)}}catch(o){gt(t,t.return,o)}}function di(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var s=a.next;i=s;do{if((i.tag&e)===e){var l=i.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(d){gt(a,u,d)}}}i=i.next}while(i!==s)}}catch(d){gt(t,t.return,d)}}function mv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{E_(t,n)}catch(i){gt(e,e.return,i)}}}function gv(e,t,n){n.props=Hi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){gt(e,t,i)}}function $s(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){gt(e,t,a)}}function en(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){gt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){gt(e,t,a)}else n.current=null}function pv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){gt(e,e.return,a)}}function Tc(e,t,n){try{var i=e.stateNode;sb(i,e.type,n,t),i[Ee]=t}catch(a){gt(e,e.return,a)}}function yv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function Ac(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=du));else if(i!==4&&(i===27&&Ai(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vh(e,t,n),e=e.sibling;e!==null;)vh(e,t,n),e=e.sibling}function To(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ai(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}function _v(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ee(t,i,n),t[ue]=e,t[Ee]=n}catch(s){gt(e,e.return,s)}}var vn=!1,Vt=!1,bc=!1,zg=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function PA(e,t){if(e=e.containerInfo,xh=Vo,e=s_(e),Ef(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var l=0,o=-1,u=-1,h=0,d=0,p=e,g=null;e:for(;;){for(var _;p!==n||a!==0&&p.nodeType!==3||(o=l+a),p!==s||i!==0&&p.nodeType!==3||(u=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===e)break e;if(g===n&&++h===a&&(o=l),g===s&&++d===i&&(u=l),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dh={focusedElem:e,selectionRange:n},Vo=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var I=Hi(n.type,a,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(I,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){gt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ch(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ch(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function vv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n),i&4&&qr(5,n);break;case 1:if(kn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){gt(n,n.return,l)}else{var a=Hi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){gt(n,n.return,l)}}i&64&&mv(n),i&512&&$s(n,n.return);break;case 3:if(kn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{E_(e,t)}catch(l){gt(n,n.return,l)}}break;case 27:t===null&&i&4&&_v(n);case 26:case 5:kn(e,n),t===null&&i&4&&pv(n),i&512&&$s(n,n.return);break;case 12:kn(e,n);break;case 13:kn(e,n),i&4&&Av(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=YA.bind(null,n),fb(e,n))));break;case 22:if(i=n.memoizedState!==null||vn,!i){t=t!==null&&t.memoizedState!==null||Vt,a=vn;var s=Vt;vn=i,(Vt=t)&&!s?Bn(e,n,(n.subtreeFlags&8772)!==0):kn(e,n),vn=a,Vt=s}break;case 30:break;default:kn(e,n)}}function Ev(e){var t=e.alternate;t!==null&&(e.alternate=null,Ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,ye=!1;function _n(e,t,n){for(n=n.child;n!==null;)Tv(e,t,n),n=n.sibling}function Tv(e,t,n){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Vr,n)}catch{}switch(n.tag){case 26:Vt||en(n,t),_n(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||en(n,t);var i=Et,a=ye;Ai(n.type)&&(Et=n.stateNode,ye=!1),_n(e,t,n),er(n.stateNode),Et=i,ye=a;break;case 5:Vt||en(n,t);case 6:if(i=Et,a=ye,Et=null,_n(e,t,n),Et=i,ye=a,Et!==null)if(ye)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(s){gt(n,t,s)}else try{Et.removeChild(n.stateNode)}catch(s){gt(n,t,s)}break;case 18:Et!==null&&(ye?(e=Et,Xg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vr(e)):Xg(Et,n.stateNode));break;case 4:i=Et,a=ye,Et=n.stateNode.containerInfo,ye=!0,_n(e,t,n),Et=i,ye=a;break;case 0:case 11:case 14:case 15:Vt||di(2,n,t),Vt||di(4,n,t),_n(e,t,n);break;case 1:Vt||(en(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&gv(n,t,i)),_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:Vt=(i=Vt)||n.memoizedState!==null,_n(e,t,n),Vt=i;break;default:_n(e,t,n)}}function Av(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vr(e)}catch(n){gt(t,t.return,n)}}function kA(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zg),t;default:throw Error(U(435,e.tag))}}function Sc(e,t){var n=kA(e);t.forEach(function(i){var a=XA.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}function Se(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],s=e,l=t,o=l;t:for(;o!==null;){switch(o.tag){case 27:if(Ai(o.type)){Et=o.stateNode,ye=!1;break t}break;case 5:Et=o.stateNode,ye=!1;break t;case 3:case 4:Et=o.stateNode.containerInfo,ye=!0;break t}o=o.return}if(Et===null)throw Error(U(160));Tv(s,l,a),Et=null,ye=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)bv(t,e),t=t.sibling}var Ke=null;function bv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Se(t,e),Re(e),i&4&&(di(3,e,e.return),qr(3,e),di(5,e,e.return));break;case 1:Se(t,e),Re(e),i&512&&(Vt||n===null||en(n,n.return)),i&64&&vn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=Ke;if(Se(t,e),Re(e),i&512&&(Vt||n===null||en(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":s=a.getElementsByTagName("title")[0],(!s||s[Or]||s[ue]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),ee(s,i,n),s[ue]=e,Kt(s),i=s;break t;case"link":var l=tp("link","href",a).get(i+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(s=l[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break e}}s=a.createElement(i),ee(s,i,n),a.head.appendChild(s);break;case"meta":if(l=tp("meta","content",a).get(i+(n.content||""))){for(o=0;o<l.length;o++)if(s=l[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break e}}s=a.createElement(i),ee(s,i,n),a.head.appendChild(s);break;default:throw Error(U(468,i))}s[ue]=e,Kt(s),i=s}e.stateNode=i}else ep(a,e.type,e.stateNode);else e.stateNode=Wg(a,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?ep(a,e.type,e.stateNode):Wg(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Tc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Se(t,e),Re(e),i&512&&(Vt||n===null||en(n,n.return)),n!==null&&i&4&&Tc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Se(t,e),Re(e),i&512&&(Vt||n===null||en(n,n.return)),e.flags&32){a=e.stateNode;try{Pa(a,"")}catch(_){gt(e,e.return,_)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Tc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(bc=!0);break;case 6:if(Se(t,e),Re(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){gt(e,e.return,_)}}break;case 3:if(Yl=null,a=Ke,Ke=Do(t.containerInfo),Se(t,e),Ke=a,Re(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(_){gt(e,e.return,_)}bc&&(bc=!1,Sv(e));break;case 4:i=Ke,Ke=Do(e.stateNode.containerInfo),Se(t,e),Re(e),Ke=i;break;case 12:Se(t,e),Re(e);break;case 13:Se(t,e),Re(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ff=an()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Sc(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=vn,d=Vt;if(vn=h||a,Vt=d||u,Se(t,e),Vt=d,vn=h,Re(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||vn||Vt||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,a)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(_){gt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(_){gt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Sc(e,n))));break;case 19:Se(t,e),Re(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Sc(e,i)));break;case 30:break;case 21:break;default:Se(t,e),Re(e)}}function Re(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(yv(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var a=n.stateNode,s=Ac(e);To(e,s,a);break;case 5:var l=n.stateNode;n.flags&32&&(Pa(l,""),n.flags&=-33);var o=Ac(e);To(e,o,l);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ac(e);vh(e,h,u);break;default:throw Error(U(161))}}catch(d){gt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vv(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:di(4,t,t.return),Ci(t);break;case 1:en(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gv(t,t.return,n),Ci(t);break;case 27:er(t.stateNode);case 26:case 5:en(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function Bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(a,s,n),qr(4,s);break;case 1:if(Bn(a,s,n),i=s,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){gt(i,i.return,h)}if(i=s,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)v_(u[a],o)}catch(h){gt(i,i.return,h)}}n&&l&64&&mv(s),$s(s,s.return);break;case 27:_v(s);case 26:case 5:Bn(a,s,n),n&&i===null&&l&4&&pv(s),$s(s,s.return);break;case 12:Bn(a,s,n);break;case 13:Bn(a,s,n),n&&l&4&&Av(a,s);break;case 22:s.memoizedState===null&&Bn(a,s,n),$s(s,s.return);break;case 30:break;default:Bn(a,s,n)}t=t.sibling}}function Hf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Lr(n))}function Gf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lr(e))}function Je(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rv(e,t,n,i),t=t.sibling}function Rv(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Je(e,t,n,i),a&2048&&qr(9,t);break;case 1:Je(e,t,n,i);break;case 3:Je(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lr(e)));break;case 12:if(a&2048){Je(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,o=s.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){gt(t,t.return,u)}}else Je(e,t,n,i);break;case 13:Je(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?Je(e,t,n,i):Js(e,t):s._visibility&2?Je(e,t,n,i):(s._visibility|=2,ua(e,t,n,i,(t.subtreeFlags&10256)!==0)),a&2048&&Hf(l,t);break;case 24:Je(e,t,n,i),a&2048&&Gf(t.alternate,t);break;default:Je(e,t,n,i)}}function ua(e,t,n,i,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,l=t,o=n,u=i,h=l.flags;switch(l.tag){case 0:case 11:case 15:ua(s,l,o,u,a),qr(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?ua(s,l,o,u,a):Js(s,l):(d._visibility|=2,ua(s,l,o,u,a)),a&&h&2048&&Hf(l.alternate,l);break;case 24:ua(s,l,o,u,a),a&&h&2048&&Gf(l.alternate,l);break;default:ua(s,l,o,u,a)}t=t.sibling}}function Js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Js(n,i),a&2048&&Hf(i.alternate,i);break;case 24:Js(n,i),a&2048&&Gf(i.alternate,i);break;default:Js(n,i)}t=t.sibling}}var zs=8192;function sa(e){if(e.subtreeFlags&zs)for(e=e.child;e!==null;)wv(e),e=e.sibling}function wv(e){switch(e.tag){case 26:sa(e),e.flags&zs&&e.memoizedState!==null&&Rb(Ke,e.memoizedState,e.memoizedProps);break;case 5:sa(e);break;case 3:case 4:var t=Ke;Ke=Do(e.stateNode.containerInfo),sa(e),Ke=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=zs,zs=16777216,sa(e),zs=t):sa(e));break;default:sa(e)}}function xv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Is(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Nv(i,e)}xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dv(e),e=e.sibling}function Dv(e){switch(e.tag){case 0:case 11:case 15:Is(e),e.flags&2048&&di(9,e,e.return);break;case 3:Is(e);break;case 12:Is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kl(e)):Is(e);break;default:Is(e)}}function Kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Nv(i,e)}xv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:di(8,t,t.return),Kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Kl(t));break;default:Kl(t)}e=e.sibling}}function Nv(e,t){for(;Qt!==null;){var n=Qt;switch(n.tag){case 0:case 11:case 15:di(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Lr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qt=i;else t:for(n=e;Qt!==null;){i=Qt;var a=i.sibling,s=i.return;if(Ev(i),i===n){Qt=null;break t}if(a!==null){a.return=s,Qt=a;break t}Qt=s}}}var BA={getCacheForType:function(e){var t=ce(zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},qA=typeof WeakMap=="function"?WeakMap:Map,ht=0,pt=null,et=null,st=0,ct=0,we=null,Zn=!1,ss=!1,Qf=!1,Vn=0,Dt=0,mi=0,Li=0,Kf=0,ke=0,Ga=0,Ws=null,_e=null,Eh=!1,Ff=0,Ao=1/0,bo=null,ni=null,Wt=0,ii=null,Qa=null,Oa=0,Th=0,Ah=null,Cv=null,tr=0,bh=null;function Ce(){if(ht&2&&st!==0)return st&-st;if(K.T!==null){var e=ka;return e!==0?e:Xf()}return By()}function Vv(){ke===0&&(ke=!(st&536870912)||lt?zy():536870912);var e=Be.current;return e!==null&&(e.flags|=32),ke}function Ve(e,t,n){(e===pt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),$n(e,st,ke,!1)),Mr(e,n),(!(ht&2)||e!==pt)&&(e===pt&&(!(ht&2)&&(Li|=n),Dt===4&&$n(e,st,ke,!1)),hn(e))}function Iv(e,t,n){if(ht&6)throw Error(U(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ir(e,t),a=i?QA(e,t):Rc(e,t,!0),s=i;do{if(a===0){ss&&!i&&$n(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!HA(n)){a=Rc(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;t:{var o=e;a=Ws;var u=o.current.memoizedState.isDehydrated;if(u&&(Ka(o,l).flags|=256),l=Rc(o,l,!1),l!==2){if(Qf&&!u){o.errorRecoveryDisabledLanes|=s,Li|=s,a=4;break t}s=_e,_e=a,s!==null&&(_e===null?_e=s:_e.push.apply(_e,s))}a=l}if(s=!1,a!==2)continue}}if(a===1){Ka(e,0),$n(e,t,0,!0);break}t:{switch(i=e,s=a,s){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:$n(i,t,ke,!Zn);break t;case 2:_e=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(a=Ff+300-an(),10<a)){if($n(i,t,ke,!Zn),tu(i,0,!0)!==0)break t;i.timeoutHandle=$v(Lg.bind(null,i,n,_e,bo,Eh,t,ke,Li,Ga,Zn,s,2,-0,0),a);break t}Lg(i,n,_e,bo,Eh,t,ke,Li,Ga,Zn,s,0,-0,0)}}break}while(!0);hn(e)}function Lg(e,t,n,i,a,s,l,o,u,h,d,p,g,_){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(gr={stylesheets:null,count:0,unsuspend:Sb},wv(t),p=wb(),p!==null)){e.cancelPendingCommit=p(kg.bind(null,e,t,s,n,i,a,l,o,u,d,1,g,_)),$n(e,s,l,!h);return}kg(e,t,s,n,i,a,l,o,u)}function HA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!Ie(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,n,i){t&=~Kf,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var s=31-Ne(a),l=1<<s;i[s]=-1,a&=~l}n!==0&&Py(e,n,t)}function cu(){return ht&6?!0:(Hr(0),!1)}function Yf(){if(et!==null){if(ct===0)var e=et.return;else e=et,bn=Xi=null,Of(e),Ma=null,fr=0,e=et;for(;e!==null;)dv(e.alternate,e),e=e.return;et=null}}function Ka(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,lb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Yf(),pt=e,et=n=Rn(e.current,null),st=t,ct=0,we=null,Zn=!1,ss=Ir(e,t),Qf=!1,Ga=ke=Kf=Li=mi=Dt=0,_e=Ws=null,Eh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Ne(i),s=1<<a;t|=e[a],i&=~s}return Vn=t,au(),n}function Mv(e,t){W=null,K.H=po,t===Pr||t===ru?(t=pg(),ct=3):t===y_?(t=pg(),ct=4):ct=t===lv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,we=t,et===null&&(Dt=1,vo(e,Le(t,e.current)))}function Ov(){var e=K.H;return K.H=po,e===null?po:e}function Uv(){var e=K.A;return K.A=BA,e}function Sh(){Dt=4,Zn||(st&4194048)!==st&&Be.current!==null||(ss=!0),!(mi&134217727)&&!(Li&134217727)||pt===null||$n(pt,st,ke,!1)}function Rc(e,t,n){var i=ht;ht|=2;var a=Ov(),s=Uv();(pt!==e||st!==t)&&(bo=null,Ka(e,t)),t=!1;var l=Dt;t:do try{if(ct!==0&&et!==null){var o=et,u=we;switch(ct){case 8:Yf(),l=6;break t;case 3:case 2:case 9:case 6:Be.current===null&&(t=!0);var h=ct;if(ct=0,we=null,wa(e,o,u,h),n&&ss){l=0;break t}break;default:h=ct,ct=0,we=null,wa(e,o,u,h)}}GA(),l=Dt;break}catch(d){Mv(e,d)}while(!0);return t&&e.shellSuspendCounter++,bn=Xi=null,ht=i,K.H=a,K.A=s,et===null&&(pt=null,st=0,au()),l}function GA(){for(;et!==null;)jv(et)}function QA(e,t){var n=ht;ht|=2;var i=Ov(),a=Uv();pt!==e||st!==t?(bo=null,Ao=an()+500,Ka(e,t)):ss=Ir(e,t);t:do try{if(ct!==0&&et!==null){t=et;var s=we;e:switch(ct){case 1:ct=0,we=null,wa(e,t,s,1);break;case 2:case 9:if(gg(s)){ct=0,we=null,Pg(t);break}t=function(){ct!==2&&ct!==9||pt!==e||(ct=7),hn(e)},s.then(t,t);break t;case 3:ct=7;break t;case 4:ct=5;break t;case 7:gg(s)?(ct=0,we=null,Pg(t)):(ct=0,we=null,wa(e,t,s,7));break;case 5:var l=null;switch(et.tag){case 26:l=et.memoizedState;case 5:case 27:var o=et;if(!l||e0(l)){ct=0,we=null;var u=o.sibling;if(u!==null)et=u;else{var h=o.return;h!==null?(et=h,hu(h)):et=null}break e}}ct=0,we=null,wa(e,t,s,5);break;case 6:ct=0,we=null,wa(e,t,s,6);break;case 8:Yf(),Dt=6;break t;default:throw Error(U(462))}}KA();break}catch(d){Mv(e,d)}while(!0);return bn=Xi=null,K.H=i,K.A=a,ht=n,et!==null?0:(pt=null,st=0,au(),Dt)}function KA(){for(;et!==null&&!m1();)jv(et)}function jv(e){var t=fv(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?hu(e):et=t}function Pg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ig(n,t,t.pendingProps,t.type,void 0,st);break;case 11:t=Ig(n,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:Of(t);default:dv(n,t),t=et=d_(t,Vn),t=fv(n,t,Vn)}e.memoizedProps=e.pendingProps,t===null?hu(e):et=t}function wa(e,t,n,i){bn=Xi=null,Of(t),Ma=null,fr=0;var a=t.return;try{if(UA(e,a,t,n,st)){Dt=1,vo(e,Le(n,e.current)),et=null;return}}catch(s){if(a!==null)throw et=a,s;Dt=1,vo(e,Le(n,e.current)),et=null;return}t.flags&32768?(lt||i===1?e=!0:ss||st&536870912?e=!1:(Zn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Be.current,i!==null&&i.tag===13&&(i.flags|=16384))),zv(t,e)):hu(t)}function hu(e){var t=e;do{if(t.flags&32768){zv(t,Zn);return}e=t.return;var n=zA(t.alternate,t,Vn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Dt===0&&(Dt=5)}function zv(e,t){do{var n=LA(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Dt=6,et=null}function kg(e,t,n,i,a,s,l,o,u){e.cancelPendingCommit=null;do fu();while(Wt!==0);if(ht&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(s=t.lanes|t.childLanes,s|=Tf,S1(e,n,s,l,o,u),e===pt&&(et=pt=null,st=0),Qa=t,ii=e,Oa=n,Th=s,Ah=a,Cv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ZA(so,function(){return qv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,a=ot.p,ot.p=2,l=ht,ht|=4;try{PA(e,t,n)}finally{ht=l,ot.p=a,K.T=i}}Wt=1,Lv(),Pv(),kv()}}function Lv(){if(Wt===1){Wt=0;var e=ii,t=Qa,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ot.p;ot.p=2;var a=ht;ht|=4;try{bv(t,e);var s=Dh,l=s_(e.containerInfo),o=s.focusedElem,u=s.selectionRange;if(l!==o&&o&&o.ownerDocument&&a_(o.ownerDocument.documentElement,o)){if(u!==null&&Ef(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var _=g.getSelection(),I=o.textContent.length,M=Math.min(u.start,I),j=u.end===void 0?M:Math.min(u.end,I);!_.extend&&M>j&&(l=j,j=M,M=l);var R=lg(o,M),E=lg(o,j);if(R&&E&&(_.rangeCount!==1||_.anchorNode!==R.node||_.anchorOffset!==R.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var w=p.createRange();w.setStart(R.node,R.offset),_.removeAllRanges(),M>j?(_.addRange(w),_.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),_.addRange(w))}}}}for(p=[],_=o;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var C=p[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Vo=!!xh,Dh=xh=null}finally{ht=a,ot.p=i,K.T=n}}e.current=t,Wt=2}}function Pv(){if(Wt===2){Wt=0;var e=ii,t=Qa,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ot.p;ot.p=2;var a=ht;ht|=4;try{vv(e,t.alternate,t)}finally{ht=a,ot.p=i,K.T=n}}Wt=3}}function kv(){if(Wt===4||Wt===3){Wt=0,g1();var e=ii,t=Qa,n=Oa,i=Cv;t.subtreeFlags&10256||t.flags&10256?Wt=5:(Wt=0,Qa=ii=null,Bv(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ni=null),df(n),t=t.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Vr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,a=ot.p,ot.p=2,K.T=null;try{for(var s=e.onRecoverableError,l=0;l<i.length;l++){var o=i[l];s(o.value,{componentStack:o.stack})}}finally{K.T=t,ot.p=a}}Oa&3&&fu(),hn(e),a=e.pendingLanes,n&4194090&&a&42?e===bh?tr++:(tr=0,bh=e):tr=0,Hr(0)}}function Bv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lr(t)))}function fu(e){return Lv(),Pv(),kv(),qv()}function qv(){if(Wt!==5)return!1;var e=ii,t=Th;Th=0;var n=df(Oa),i=K.T,a=ot.p;try{ot.p=32>n?32:n,K.T=null,n=Ah,Ah=null;var s=ii,l=Oa;if(Wt=0,Qa=ii=null,Oa=0,ht&6)throw Error(U(331));var o=ht;if(ht|=4,Dv(s.current),Rv(s,s.current,l,n),ht=o,Hr(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Vr,s)}catch{}return!0}finally{ot.p=a,K.T=i,Bv(e,t)}}function Bg(e,t,n){t=Le(n,t),t=ph(e.stateNode,t,2),e=ei(e,t,2),e!==null&&(Mr(e,2),hn(e))}function gt(e,t,n){if(e.tag===3)Bg(e,e,n);else for(;t!==null;){if(t.tag===3){Bg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ni===null||!ni.has(i))){e=Le(n,e),n=sv(2),i=ei(t,n,2),i!==null&&(rv(n,i,t,e),Mr(i,2),hn(i));break}}t=t.return}}function wc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new qA;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Qf=!0,a.add(n),e=FA.bind(null,e,t,n),t.then(e,e))}function FA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pt===e&&(st&n)===n&&(Dt===4||Dt===3&&(st&62914560)===st&&300>an()-Ff?!(ht&2)&&Ka(e,0):Kf|=n,Ga===st&&(Ga=0)),hn(e)}function Hv(e,t){t===0&&(t=Ly()),e=as(e,t),e!==null&&(Mr(e,t),hn(e))}function YA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hv(e,n)}function XA(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),Hv(e,n)}function ZA(e,t){return hf(e,t)}var So=null,ca=null,Rh=!1,Ro=!1,xc=!1,Pi=0;function hn(e){e!==ca&&e.next===null&&(ca===null?So=ca=e:ca=ca.next=e),Ro=!0,Rh||(Rh=!0,JA())}function Hr(e,t){if(!xc&&Ro){xc=!0;do for(var n=!1,i=So;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var s=0;else{var l=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Ne(42|e)+1)-1,s&=a&~(l&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,qg(i,s))}else s=st,s=tu(i,i===pt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Ir(i,s)||(n=!0,qg(i,s));i=i.next}while(n);xc=!1}}function $A(){Gv()}function Gv(){Ro=Rh=!1;var e=0;Pi!==0&&(rb()&&(e=Pi),Pi=0);for(var t=an(),n=null,i=So;i!==null;){var a=i.next,s=Qv(i,t);s===0?(i.next=null,n===null?So=a:n.next=a,a===null&&(ca=n)):(n=i,(e!==0||s&3)&&(Ro=!0)),i=a}Hr(e)}function Qv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Ne(s),o=1<<l,u=a[l];u===-1?(!(o&n)||o&i)&&(a[l]=b1(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}if(t=pt,n=st,n=tu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Wu(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ir(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Wu(i),df(n)){case 2:case 8:n=Uy;break;case 32:n=so;break;case 268435456:n=jy;break;default:n=so}return i=Kv.bind(null,e),n=hf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Wu(i),e.callbackPriority=2,e.callbackNode=null,2}function Kv(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fu()&&e.callbackNode!==n)return null;var i=st;return i=tu(e,e===pt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Iv(e,i,t),Qv(e,an()),e.callbackNode!=null&&e.callbackNode===n?Kv.bind(null,e):null)}function qg(e,t){if(fu())return null;Iv(e,t,!0)}function JA(){ob(function(){ht&6?hf(Oy,$A):Gv()})}function Xf(){return Pi===0&&(Pi=zy()),Pi}function Hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function Gg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function WA(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var s=Hg((a[Ee]||null).action),l=i.submitter;l&&(t=(t=l[Ee]||null)?Hg(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var o=new eu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pi!==0){var u=l?Gg(a,l):new FormData(a);mh(n,{pending:!0,data:u,method:a.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=l?Gg(a,l):new FormData(a),mh(n,{pending:!0,data:u,method:a.method,action:s},s,u))},currentTarget:a}]})}}for(var Dc=0;Dc<nh.length;Dc++){var Nc=nh[Dc],tb=Nc.toLowerCase(),eb=Nc[0].toUpperCase()+Nc.slice(1);Ze(tb,"on"+eb)}Ze(l_,"onAnimationEnd");Ze(o_,"onAnimationIteration");Ze(u_,"onAnimationStart");Ze("dblclick","onDoubleClick");Ze("focusin","onFocus");Ze("focusout","onBlur");Ze(_A,"onTransitionRun");Ze(vA,"onTransitionStart");Ze(EA,"onTransitionCancel");Ze(c_,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dr));function Fv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var l=i.length-1;0<=l;l--){var o=i[l],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(d){_o(d)}a.currentTarget=null,s=u}else for(l=0;l<i.length;l++){if(o=i[l],u=o.instance,h=o.currentTarget,o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(d){_o(d)}a.currentTarget=null,s=u}}}}function tt(e,t){var n=t[Xc];n===void 0&&(n=t[Xc]=new Set);var i=e+"__bubble";n.has(i)||(Yv(t,e,2,!1),n.add(i))}function Cc(e,t,n){var i=0;t&&(i|=4),Yv(n,e,i,t)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[xl]){e[xl]=!0,qy.forEach(function(n){n!=="selectionchange"&&(nb.has(n)||Cc(n,!1,e),Cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xl]||(t[xl]=!0,Cc("selectionchange",!1,t))}}function Yv(e,t,n,i){switch(r0(t)){case 2:var a=Nb;break;case 8:a=Cb;break;default:a=td}n=a.bind(null,t,n,e),a=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vc(e,t,n,i,a){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var o=i.stateNode.containerInfo;if(o===a)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&l.stateNode.containerInfo===a)return;l=l.return}for(;o!==null;){if(l=ya(o),l===null)return;if(u=l.tag,u===5||u===6||u===26||u===27){i=s=l;continue t}o=o.parentNode}}i=i.return}Zy(function(){var h=s,d=pf(n),p=[];t:{var g=h_.get(e);if(g!==void 0){var _=eu,I=e;switch(e){case"keypress":if(kl(n)===0)break t;case"keydown":case"keyup":_=Z1;break;case"focusin":I="focus",_=lc;break;case"focusout":I="blur",_=lc;break;case"beforeblur":case"afterblur":_=lc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=W1;break;case l_:case o_:case u_:_=B1;break;case c_:_=eA;break;case"scroll":case"scrollend":_=j1;break;case"wheel":_=iA;break;case"copy":case"cut":case"paste":_=H1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Wm;break;case"toggle":case"beforetoggle":_=sA}var M=(t&4)!==0,j=!M&&(e==="scroll"||e==="scrollend"),R=M?g!==null?g+"Capture":null:g;M=[];for(var E=h,w;E!==null;){var C=E;if(w=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||w===null||R===null||(C=lr(E,R),C!=null&&M.push(mr(E,C,w))),j)break;E=E.return}0<M.length&&(g=new _(g,I,null,n,d),p.push({event:g,listeners:M}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==Jc&&(I=n.relatedTarget||n.fromElement)&&(ya(I)||I[ns]))break t;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=h,I=I?ya(I):null,I!==null&&(j=Cr(I),M=I.tag,I!==j||M!==5&&M!==27&&M!==6)&&(I=null)):(_=null,I=h),_!==I)){if(M=$m,C="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(M=Wm,C="onPointerLeave",R="onPointerEnter",E="pointer"),j=_==null?g:js(_),w=I==null?g:js(I),g=new M(C,E+"leave",_,n,d),g.target=j,g.relatedTarget=w,C=null,ya(d)===h&&(M=new M(R,E+"enter",I,n,d),M.target=w,M.relatedTarget=j,C=M),j=C,_&&I)e:{for(M=_,R=I,E=0,w=M;w;w=ra(w))E++;for(w=0,C=R;C;C=ra(C))w++;for(;0<E-w;)M=ra(M),E--;for(;0<w-E;)R=ra(R),w--;for(;E--;){if(M===R||R!==null&&M===R.alternate)break e;M=ra(M),R=ra(R)}M=null}else M=null;_!==null&&Qg(p,g,_,M,!1),I!==null&&j!==null&&Qg(p,j,I,M,!0)}}t:{if(g=h?js(h):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var P=ig;else if(ng(g))if(n_)P=gA;else{P=dA;var q=fA}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&gf(h.elementType)&&(P=ig):P=mA;if(P&&(P=P(e,h))){e_(p,P,n,d);break t}q&&q(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&$c(g,"number",g.value)}switch(q=h?js(h):window,e){case"focusin":(ng(q)||q.contentEditable==="true")&&(Ea=q,th=h,Gs=null);break;case"focusout":Gs=th=Ea=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,og(p,n,d);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":og(p,n,d)}var v;if(vf)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else va?Wy(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Jy&&n.locale!=="ko"&&(va||y!=="onCompositionStart"?y==="onCompositionEnd"&&va&&(v=$y()):(Xn=d,yf="value"in Xn?Xn.value:Xn.textContent,va=!0)),q=wo(h,y),0<q.length&&(y=new Jm(y,e,null,n,d),p.push({event:y,listeners:q}),v?y.data=v:(v=t_(n),v!==null&&(y.data=v)))),(v=lA?oA(e,n):uA(e,n))&&(y=wo(h,"onBeforeInput"),0<y.length&&(q=new Jm("onBeforeInput","beforeinput",null,n,d),p.push({event:q,listeners:y}),q.data=v)),WA(p,e,h,n,d)}Fv(p,t)})}function mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wo(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=lr(e,n),a!=null&&i.unshift(mr(e,a,s)),a=lr(e,t),a!=null&&i.push(mr(e,a,s))),e.tag===3)return i;e=e.return}return[]}function ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qg(e,t,n,i,a){for(var s=t._reactName,l=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=lr(n,s),h!=null&&l.unshift(mr(n,h,u))):a||(h=lr(n,s),h!=null&&l.push(mr(n,h,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ib=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(ab,"")}function Xv(e,t){return t=Kg(t),Kg(e)===t}function du(){}function ft(e,t,n,i,a,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Pa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Pa(e,""+i);break;case"className":El(e,"class",i);break;case"tabIndex":El(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,n,i);break;case"style":Xy(e,i,s);break;case"data":if(t!=="object"){El(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ll(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ft(e,t,"name",a.name,a,null),ft(e,t,"formEncType",a.formEncType,a,null),ft(e,t,"formMethod",a.formMethod,a,null),ft(e,t,"formTarget",a.formTarget,a,null)):(ft(e,t,"encType",a.encType,a,null),ft(e,t,"method",a.method,a,null),ft(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ll(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=du);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ll(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),zl(e,"popover",i);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":zl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=O1.get(n)||n,zl(e,n,i))}}function wh(e,t,n,i,a,s){switch(n){case"style":Xy(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Pa(e,i):(typeof i=="number"||typeof i=="bigint")&&Pa(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[Ee]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):zl(e,n,i)}}}function ee(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l!=null)switch(s){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:ft(e,t,s,l,n,null)}}a&&ft(e,t,"srcSet",n.srcSet,n,null),i&&ft(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var o=s=l=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":a=d;break;case"type":l=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:ft(e,t,i,d,n,null)}}Ky(e,s,o,u,h,l,a,!1),ro(e);return;case"select":tt("invalid",e),i=l=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:ft(e,t,a,o,n,null)}t=s,n=l,e.multiple=!!i,t!=null?Da(e,!!i,t,!1):n!=null&&Da(e,!!i,n,!0);return;case"textarea":tt("invalid",e),s=a=i=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":a=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:ft(e,t,l,o,n,null)}Yy(e,i,a,s),ro(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ft(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<dr.length;i++)tt(dr[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:ft(e,t,h,i,n,null)}return;default:if(gf(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&wh(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&ft(e,t,o,i,n,null))}function sb(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,l=null,o=null,u=null,h=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||ft(e,t,_,null,i,p)}}for(var g in i){var _=i[g];if(p=n[g],i.hasOwnProperty(g)&&(_!=null||p!=null))switch(g){case"type":s=_;break;case"name":a=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":l=_;break;case"defaultValue":o=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(U(137,t));break;default:_!==p&&ft(e,t,g,_,i,p)}}Zc(e,l,o,u,h,d,s,a);return;case"select":_=l=o=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||ft(e,t,s,null,i,u)}for(a in i)if(s=i[a],u=n[a],i.hasOwnProperty(a)&&(s!=null||u!=null))switch(a){case"value":g=s;break;case"defaultValue":o=s;break;case"multiple":l=s;default:s!==u&&ft(e,t,a,s,i,u)}t=o,n=l,i=_,g!=null?Da(e,!!n,g,!1):!!i!=!!n&&(t!=null?Da(e,!!n,t,!0):Da(e,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(e,t,o,null,i,a)}for(l in i)if(a=i[l],s=n[l],i.hasOwnProperty(l)&&(a!=null||s!=null))switch(l){case"value":g=a;break;case"defaultValue":_=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(U(91));break;default:a!==s&&ft(e,t,l,a,i,s)}Fy(e,g,_);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:ft(e,t,I,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ft(e,t,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!=null&&!i.hasOwnProperty(M)&&ft(e,t,M,null,i,g);for(h in i)if(g=i[h],_=n[h],i.hasOwnProperty(h)&&g!==_&&(g!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,t));break;default:ft(e,t,h,g,i,_)}return;default:if(gf(t)){for(var j in n)g=n[j],n.hasOwnProperty(j)&&g!==void 0&&!i.hasOwnProperty(j)&&wh(e,t,j,void 0,i,g);for(d in i)g=i[d],_=n[d],!i.hasOwnProperty(d)||g===_||g===void 0&&_===void 0||wh(e,t,d,g,i,_);return}}for(var R in n)g=n[R],n.hasOwnProperty(R)&&g!=null&&!i.hasOwnProperty(R)&&ft(e,t,R,null,i,g);for(p in i)g=i[p],_=n[p],!i.hasOwnProperty(p)||g===_||g==null&&_==null||ft(e,t,p,g,i,_)}var xh=null,Dh=null;function xo(e){return e.nodeType===9?e:e.ownerDocument}function Fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ic=null;function rb(){var e=window.event;return e&&e.type==="popstate"?e===Ic?!1:(Ic=e,!0):(Ic=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(ub)}:$v;function ub(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function Xg(e,t){var n=t,i=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var l=e.ownerDocument;if(n&1&&er(l.documentElement),n&2&&er(l.body),n&4)for(n=l.head,er(n),l=n.firstChild;l;){var o=l.nextSibling,u=l.nodeName;l[Or]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=o}}if(a===0){e.removeChild(s),vr(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);vr(t)}function Ch(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ch(n),mf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function cb(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Or])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Ye(e.nextSibling),e===null)break}return null}function hb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ye(e.nextSibling),e===null))return null;return e}function Vh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ye(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ih=null;function Zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Jv(e,t,n){switch(t=xo(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mf(e)}var qe=new Map,$g=new Set;function Do(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=ot.d;ot.d={f:db,r:mb,D:gb,C:pb,L:yb,m:_b,X:Eb,S:vb,M:Tb};function db(){var e=Un.f(),t=cu();return e||t}function mb(e){var t=is(e);t!==null&&t.tag===5&&t.type==="form"?Q_(t):Un.r(e)}var rs=typeof document>"u"?null:document;function Wv(e,t,n){var i=rs;if(i&&typeof t=="string"&&t){var a=ze(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),$g.has(a)||($g.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ee(t,"link",e),Kt(t),i.head.appendChild(t)))}}function gb(e){Un.D(e),Wv("dns-prefetch",e,null)}function pb(e,t){Un.C(e,t),Wv("preconnect",e,t)}function yb(e,t,n){Un.L(e,t,n);var i=rs;if(i&&e&&t){var a='link[rel="preload"][as="'+ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+ze(n.imageSizes)+'"]')):a+='[href="'+ze(e)+'"]';var s=a;switch(t){case"style":s=Fa(e);break;case"script":s=ls(e)}qe.has(s)||(e=vt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qe.set(s,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(Gr(s))||t==="script"&&i.querySelector(Qr(s))||(t=i.createElement("link"),ee(t,"link",e),Kt(t),i.head.appendChild(t)))}}function _b(e,t){Un.m(e,t);var n=rs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+ze(i)+'"][href="'+ze(e)+'"]',s=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ls(e)}if(!qe.has(s)&&(e=vt({rel:"modulepreload",href:e},t),qe.set(s,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qr(s)))return}i=n.createElement("link"),ee(i,"link",e),Kt(i),n.head.appendChild(i)}}}function vb(e,t,n){Un.S(e,t,n);var i=rs;if(i&&e){var a=xa(i).hoistableStyles,s=Fa(e);t=t||"default";var l=a.get(s);if(!l){var o={loading:0,preload:null};if(l=i.querySelector(Gr(s)))o.loading=5;else{e=vt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qe.get(s))&&$f(e,n);var u=l=i.createElement("link");Kt(u),ee(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Fl(l,t,i)}l={type:"stylesheet",instance:l,count:1,state:o},a.set(s,l)}}}function Eb(e,t){Un.X(e,t);var n=rs;if(n&&e){var i=xa(n).hoistableScripts,a=ls(e),s=i.get(a);s||(s=n.querySelector(Qr(a)),s||(e=vt({src:e,async:!0},t),(t=qe.get(a))&&Jf(e,t),s=n.createElement("script"),Kt(s),ee(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function Tb(e,t){Un.M(e,t);var n=rs;if(n&&e){var i=xa(n).hoistableScripts,a=ls(e),s=i.get(a);s||(s=n.querySelector(Qr(a)),s||(e=vt({src:e,async:!0,type:"module"},t),(t=qe.get(a))&&Jf(e,t),s=n.createElement("script"),Kt(s),ee(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function Jg(e,t,n,i){var a=(a=Wn.current)?Do(a):null;if(!a)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=xa(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var s=xa(a).hoistableStyles,l=s.get(e);if(l||(a=a.ownerDocument||a,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=a.querySelector(Gr(e)))&&!s._p&&(l.instance=s,l.state.loading=5),qe.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qe.set(e,n),s||Ab(a,e,n,l.state))),t&&i===null)throw Error(U(528,""));return l}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ls(n),n=xa(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function Fa(e){return'href="'+ze(e)+'"'}function Gr(e){return'link[rel="stylesheet"]['+e+"]"}function t0(e){return vt({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ee(t,"link",n),Kt(t),e.head.appendChild(t))}function ls(e){return'[src="'+ze(e)+'"]'}function Qr(e){return"script[async]"+e}function Wg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ze(n.href)+'"]');if(i)return t.instance=i,Kt(i),i;var a=vt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Kt(i),ee(i,"style",a),Fl(i,n.precedence,e),t.instance=i;case"stylesheet":a=Fa(n.href);var s=e.querySelector(Gr(a));if(s)return t.state.loading|=4,t.instance=s,Kt(s),s;i=t0(n),(a=qe.get(a))&&$f(i,a),s=(e.ownerDocument||e).createElement("link"),Kt(s);var l=s;return l._p=new Promise(function(o,u){l.onload=o,l.onerror=u}),ee(s,"link",i),t.state.loading|=4,Fl(s,n.precedence,e),t.instance=s;case"script":return s=ls(n.src),(a=e.querySelector(Qr(s)))?(t.instance=a,Kt(a),a):(i=n,(a=qe.get(s))&&(i=vt({},n),Jf(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),Kt(a),ee(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Fl(i,n.precedence,e));return t.instance}function Fl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,s=a,l=0;l<i.length;l++){var o=i[l];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function $f(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yl=null;function tp(e,t,n){if(Yl===null){var i=new Map,a=Yl=new Map;a.set(n,i)}else a=Yl,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Or]||s[ue]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var o=i.get(l);o?o.push(s):i.set(l,[s])}}return i}function ep(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function e0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var gr=null;function Sb(){}function Rb(e,t,n){if(gr===null)throw Error(U(475));var i=gr;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=Fa(n.href),s=e.querySelector(Gr(a));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=No.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Kt(s);return}s=e.ownerDocument||e,n=t0(n),(a=qe.get(a))&&$f(n,a),s=s.createElement("link"),Kt(s);var l=s;l._p=new Promise(function(o,u){l.onload=o,l.onerror=u}),ee(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=No.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function wb(){if(gr===null)throw Error(U(475));var e=gr;return e.stylesheets&&e.count===0&&Mh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Mh(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function No(){if(this.count--,this.count===0){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Co=null;function Mh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Co=new Map,t.forEach(xb,e),Co=null,No.call(e))}function xb(e,t){if(!(t.state.loading&4)){var n=Co.get(e);if(n)var i=n.get(null);else{n=new Map,Co.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var l=a[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}a=t.instance,l=a.getAttribute("data-precedence"),s=n.get(l)||i,s===i&&n.set(null,a),n.set(l,a),this.count++,i=No.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var pr={$$typeof:En,Provider:null,Consumer:null,_currentValue:Mi,_currentValue2:Mi,_threadCount:0};function Db(e,t,n,i,a,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.hiddenUpdates=tc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function n0(e,t,n,i,a,s,l,o,u,h,d,p){return e=new Db(e,t,n,l,o,u,h,p),t=1,s===!0&&(t|=24),s=xe(3,null,null,t),e.current=s,s.stateNode=e,t=wf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Df(s),e}function i0(e){return e?(e=ba,e):ba}function a0(e,t,n,i,a,s){a=i0(a),i.context===null?i.context=a:i.pendingContext=a,i=ti(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ei(e,i,t),n!==null&&(Ve(n,e,t),Fs(n,e,t))}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function s0(e){if(e.tag===13){var t=as(e,67108864);t!==null&&Ve(t,e,67108864),Wf(e,67108864)}}var Vo=!0;function Nb(e,t,n,i){var a=K.T;K.T=null;var s=ot.p;try{ot.p=2,td(e,t,n,i)}finally{ot.p=s,K.T=a}}function Cb(e,t,n,i){var a=K.T;K.T=null;var s=ot.p;try{ot.p=8,td(e,t,n,i)}finally{ot.p=s,K.T=a}}function td(e,t,n,i){if(Vo){var a=Oh(i);if(a===null)Vc(e,t,i,Io,n),ip(e,i);else if(Ib(a,e,t,n,i))i.stopPropagation();else if(ip(e,i),t&4&&-1<Vb.indexOf(e)){for(;a!==null;){var s=is(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Di(s.pendingLanes);if(l!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var u=1<<31-Ne(l);o.entanglements[1]|=u,l&=~u}hn(s),!(ht&6)&&(Ao=an()+500,Hr(0))}}break;case 13:o=as(s,2),o!==null&&Ve(o,s,2),cu(),Wf(s,2)}if(s=Oh(i),s===null&&Vc(e,t,i,Io,n),s===a)break;a=s}a!==null&&i.stopPropagation()}else Vc(e,t,i,null,n)}}function Oh(e){return e=pf(e),ed(e)}var Io=null;function ed(e){if(Io=null,e=ya(e),e!==null){var t=Cr(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Cy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Io=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(p1()){case Oy:return 2;case Uy:return 8;case so:case y1:return 32;case jy:return 268435456;default:return 32}default:return 32}}var Uh=!1,ai=null,si=null,ri=null,yr=new Map,_r=new Map,Fn=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ip(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function Ms(e,t,n,i,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},t!==null&&(t=is(t),t!==null&&s0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ib(e,t,n,i,a){switch(t){case"focusin":return ai=Ms(ai,e,t,n,i,a),!0;case"dragenter":return si=Ms(si,e,t,n,i,a),!0;case"mouseover":return ri=Ms(ri,e,t,n,i,a),!0;case"pointerover":var s=a.pointerId;return yr.set(s,Ms(yr.get(s)||null,e,t,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,_r.set(s,Ms(_r.get(s)||null,e,t,n,i,a)),!0}return!1}function l0(e){var t=ya(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=Cy(n),t!==null){e.blockedOn=t,R1(e.priority,function(){if(n.tag===13){var i=Ce();i=ff(i);var a=as(n,i);a!==null&&Ve(a,n,i),Wf(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Jc=i,n.target.dispatchEvent(i),Jc=null}else return t=is(n),t!==null&&s0(t),e.blockedOn=n,!1;t.shift()}return!0}function ap(e,t,n){Xl(e)&&n.delete(t)}function Mb(){Uh=!1,ai!==null&&Xl(ai)&&(ai=null),si!==null&&Xl(si)&&(si=null),ri!==null&&Xl(ri)&&(ri=null),yr.forEach(ap),_r.forEach(ap)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Uh||(Uh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,Mb)))}var Nl=null;function sp(e){Nl!==e&&(Nl=e,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,function(){Nl===e&&(Nl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(ed(i||n)===null)continue;break}var s=is(n);s!==null&&(e.splice(t,3),t-=3,mh(s,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function vr(e){function t(u){return Dl(u,e)}ai!==null&&Dl(ai,e),si!==null&&Dl(si,e),ri!==null&&Dl(ri,e),yr.forEach(t),_r.forEach(t);for(var n=0;n<Fn.length;n++){var i=Fn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&Fn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],s=n[i+1],l=a[Ee]||null;if(typeof s=="function")l||sp(n);else if(l){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,l=s[Ee]||null)o=l.formAction;else if(ed(a)!==null)continue}else o=l.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),sp(n)}}}function nd(e){this._internalRoot=e}mu.prototype.render=nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Ce();a0(n,i,e,t,null,null)};mu.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;a0(e.current,2,null,e,null,null),cu(),t[ns]=null}};function mu(e){this._internalRoot=e}mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=By();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&l0(e)}};var rp=Dy.version;if(rp!=="19.1.0")throw Error(U(527,rp,"19.1.0"));ot.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=u1(t),e=e!==null?Vy(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Vr=Cl.inject(Ob),De=Cl}catch{}}Jo.createRoot=function(e,t){if(!Ny(e))throw Error(U(299));var n=!1,i="",a=nv,s=iv,l=av,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=n0(e,1,!1,null,null,n,i,a,s,l,o,null),e[ns]=t.current,Zf(e),new nd(t)};Jo.hydrateRoot=function(e,t,n){if(!Ny(e))throw Error(U(299));var i=!1,a="",s=nv,l=iv,o=av,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=n0(e,1,!0,t,n??null,i,a,s,l,o,u,h),t.context=i0(null),n=t.current,i=Ce(),i=ff(i),a=ti(i),a.callback=null,ei(n,a,i),n=i,t.current.lanes=n,Mr(t,n),hn(t),e[ns]=t.current,Zf(e),new mu(t)};Jo.version="19.1.0";function o0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o0)}catch(e){console.error(e)}}o0(),Ay.exports=Jo;var Ub=Ay.exports;const jb=()=>{};var lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},zb=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[i++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[n++],l=e[n++],o=e[n++],u=((a&7)<<18|(s&63)<<12|(l&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],l=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return t.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const s=e[a],l=a+1<e.length,o=l?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|h>>6,_=h&63;u||(_=64,l||(g=64)),i.push(n[d],n[p],n[g],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const s=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,s==null||o==null||h==null||p==null)throw new Lb;const g=s<<2|o>>4;if(i.push(g),h!==64){const _=o<<4&240|h>>2;if(i.push(_),p!==64){const I=h<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(e){const t=u0(e);return c0.encodeByteArray(t,!0)},Mo=function(e){return Pb(e).replace(/\./g,"")},kb=function(e){try{return c0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof lp>"u")return;const e=lp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Gb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kb(e[1]);return t&&JSON.parse(t)},id=()=>{try{return jb()||qb()||Hb()||Gb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Qb=e=>{var t,n;return(n=(t=id())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Kb=e=>{const t=Qb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},h0=()=>{var e;return(e=id())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mo(JSON.stringify(n)),Mo(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){var e;const t=(e=id())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;t(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="FirebaseError";class os extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=tS,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f0.prototype.create)}}class f0{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,s=this.errors[t],l=s?eS(s,i):"Error",o=`${this.serviceName}: ${l} (${a}).`;return new os(a,o,i)}}function eS(e,t){return e.replace(nS,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const nS=/\{\$([^}]+)}/g;function Oo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const s=e[a],l=t[a];if(op(s)&&op(l)){if(!Oo(s,l))return!1}else if(s!==l)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function op(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(e){return e&&e._delegate?e._delegate:e}class Tr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Fb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sS(t))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});i.resolve(s)}catch{}}}}clearInstance(t=Vi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vi){return this.instances.has(t)}getOptions(t=Vi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&l.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&t(l,a),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Vi){return this.component?this.component.multipleInstances?t:Vi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(e){return e===Vi?void 0:e}function sS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const lS={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},oS=at.INFO,uS={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},cS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=uS[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d0{constructor(t){this.name=t,this._logLevel=oS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const hS=(e,t)=>t.some(n=>e instanceof n);let up,cp;function fS(){return up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return cp||(cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,jh=new WeakMap,g0=new WeakMap,Mc=new WeakMap,ad=new WeakMap;function mS(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(li(e.result)),a()},l=()=>{i(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&m0.set(n,e)}).catch(()=>{}),ad.set(t,e),t}function gS(e){if(jh.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});jh.set(e,t)}let zh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||g0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pS(e){zh=e(zh)}function yS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Oc(this),t,...n);return g0.set(i,t.sort?t.sort():[t]),li(i)}:dS().includes(e)?function(...t){return e.apply(Oc(this),t),li(m0.get(this))}:function(...t){return li(e.apply(Oc(this),t))}}function _S(e){return typeof e=="function"?yS(e):(e instanceof IDBTransaction&&gS(e),hS(e,fS())?new Proxy(e,zh):e)}function li(e){if(e instanceof IDBRequest)return mS(e);if(Mc.has(e))return Mc.get(e);const t=_S(e);return t!==e&&(Mc.set(e,t),ad.set(t,e)),t}const Oc=e=>ad.get(e);function vS(e,t,{blocked:n,upgrade:i,blocking:a,terminated:s}={}){const l=indexedDB.open(e,t),o=li(l);return i&&l.addEventListener("upgradeneeded",u=>{i(li(l.result),u.oldVersion,u.newVersion,li(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Uc=new Map;function hp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uc.get(t))return Uc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=TS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ES.includes(n)))return;const s=async function(l,...o){const u=this.transaction(l,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return Uc.set(t,s),s}pS(e=>({...e,get:(t,n,i)=>hp(t,n)||e.get(t,n,i),has:(t,n)=>!!hp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lh="@firebase/app",fp="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new d0("@firebase/app"),SS="@firebase/app-compat",RS="@firebase/analytics-compat",wS="@firebase/analytics",xS="@firebase/app-check-compat",DS="@firebase/app-check",NS="@firebase/auth",CS="@firebase/auth-compat",VS="@firebase/database",IS="@firebase/data-connect",MS="@firebase/database-compat",OS="@firebase/functions",US="@firebase/functions-compat",jS="@firebase/installations",zS="@firebase/installations-compat",LS="@firebase/messaging",PS="@firebase/messaging-compat",kS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",GS="@firebase/storage",QS="@firebase/storage-compat",KS="@firebase/firestore",FS="@firebase/vertexai",YS="@firebase/firestore-compat",XS="firebase",ZS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",$S={[Lh]:"fire-core",[SS]:"fire-core-compat",[wS]:"fire-analytics",[RS]:"fire-analytics-compat",[DS]:"fire-app-check",[xS]:"fire-app-check-compat",[NS]:"fire-auth",[CS]:"fire-auth-compat",[VS]:"fire-rtdb",[IS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[OS]:"fire-fn",[US]:"fire-fn-compat",[jS]:"fire-iid",[zS]:"fire-iid-compat",[LS]:"fire-fcm",[PS]:"fire-fcm-compat",[kS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[GS]:"fire-gcs",[QS]:"fire-gcs-compat",[KS]:"fire-fst",[YS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Map,JS=new Map,kh=new Map;function dp(e,t){try{e.container.addComponent(t)}catch(n){In.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jo(e){const t=e.name;if(kh.has(t))return In.debug(`There were multiple attempts to register component ${t}.`),!1;kh.set(t,e);for(const n of Uo.values())dp(n,e);for(const n of JS.values())dp(n,e);return!0}function WS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function t2(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new f0("app","Firebase",e2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=ZS;function p0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw oi.create("bad-app-name",{appName:String(a)});if(n||(n=h0()),!n)throw oi.create("no-options");const s=Uo.get(a);if(s){if(Oo(n,s.options)&&Oo(i,s.config))return s;throw oi.create("duplicate-app",{appName:a})}const l=new rS(a);for(const u of kh.values())l.addComponent(u);const o=new n2(n,i,l);return Uo.set(a,o),o}function a2(e=Ph){const t=Uo.get(e);if(!t&&e===Ph&&h0())return p0();if(!t)throw oi.create("no-app",{appName:e});return t}function Ua(e,t,n){var i;let a=(i=$S[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const s=a.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const o=[`Unable to register library "${a}" with version "${t}":`];s&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&o.push("and"),l&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),In.warn(o.join(" "));return}jo(new Tr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firebase-heartbeat-database",r2=1,Ar="firebase-heartbeat-store";let jc=null;function y0(){return jc||(jc=vS(s2,r2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ar)}catch(n){console.warn(n)}}}}).catch(e=>{throw oi.create("idb-open",{originalErrorMessage:e.message})})),jc}async function l2(e){try{const n=(await y0()).transaction(Ar),i=await n.objectStore(Ar).get(_0(e));return await n.done,i}catch(t){if(t instanceof os)In.warn(t.message);else{const n=oi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});In.warn(n.message)}}}async function mp(e,t){try{const i=(await y0()).transaction(Ar,"readwrite");await i.objectStore(Ar).put(t,_0(e)),await i.done}catch(n){if(n instanceof os)In.warn(n.message);else{const i=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});In.warn(i.message)}}}function _0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1024,u2=30;class c2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gp();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>u2){const l=d2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){In.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gp(),{heartbeatsToSend:i,unsentEntries:a}=h2(this._heartbeatsCache.heartbeats),s=Mo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return In.warn(n),""}}}function gp(){return new Date().toISOString().substring(0,10)}function h2(e,t=o2){const n=[];let i=e.slice();for(const a of e){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),pp(n)>t){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),pp(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class f2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return mp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return mp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function pp(e){return Mo(JSON.stringify({version:2,heartbeats:e})).length}function d2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){jo(new Tr("platform-logger",t=>new AS(t),"PRIVATE")),jo(new Tr("heartbeat",t=>new c2(t),"PRIVATE")),Ua(Lh,fp,e),Ua(Lh,fp,"esm2017"),Ua("fire-js","")}m2("");var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,v0;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(v,y){function T(){}T.prototype=y.prototype,v.D=y.prototype,v.prototype=new T,v.prototype.constructor=v,v.C=function(A,x,D){for(var b=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)b[Ge-2]=arguments[Ge];return y.prototype[x].apply(A,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(v,y,T){T||(T=0);var A=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)A[x]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(x=0;16>x;++x)A[x]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=v.g[0],T=v.g[1],x=v.g[2];var D=v.g[3],b=y+(D^T&(x^D))+A[0]+3614090360&4294967295;y=T+(b<<7&4294967295|b>>>25),b=D+(x^y&(T^x))+A[1]+3905402710&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(T^D&(y^T))+A[2]+606105819&4294967295,x=D+(b<<17&4294967295|b>>>15),b=T+(y^x&(D^y))+A[3]+3250441966&4294967295,T=x+(b<<22&4294967295|b>>>10),b=y+(D^T&(x^D))+A[4]+4118548399&4294967295,y=T+(b<<7&4294967295|b>>>25),b=D+(x^y&(T^x))+A[5]+1200080426&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(T^D&(y^T))+A[6]+2821735955&4294967295,x=D+(b<<17&4294967295|b>>>15),b=T+(y^x&(D^y))+A[7]+4249261313&4294967295,T=x+(b<<22&4294967295|b>>>10),b=y+(D^T&(x^D))+A[8]+1770035416&4294967295,y=T+(b<<7&4294967295|b>>>25),b=D+(x^y&(T^x))+A[9]+2336552879&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(T^D&(y^T))+A[10]+4294925233&4294967295,x=D+(b<<17&4294967295|b>>>15),b=T+(y^x&(D^y))+A[11]+2304563134&4294967295,T=x+(b<<22&4294967295|b>>>10),b=y+(D^T&(x^D))+A[12]+1804603682&4294967295,y=T+(b<<7&4294967295|b>>>25),b=D+(x^y&(T^x))+A[13]+4254626195&4294967295,D=y+(b<<12&4294967295|b>>>20),b=x+(T^D&(y^T))+A[14]+2792965006&4294967295,x=D+(b<<17&4294967295|b>>>15),b=T+(y^x&(D^y))+A[15]+1236535329&4294967295,T=x+(b<<22&4294967295|b>>>10),b=y+(x^D&(T^x))+A[1]+4129170786&4294967295,y=T+(b<<5&4294967295|b>>>27),b=D+(T^x&(y^T))+A[6]+3225465664&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^T&(D^y))+A[11]+643717713&4294967295,x=D+(b<<14&4294967295|b>>>18),b=T+(D^y&(x^D))+A[0]+3921069994&4294967295,T=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(T^x))+A[5]+3593408605&4294967295,y=T+(b<<5&4294967295|b>>>27),b=D+(T^x&(y^T))+A[10]+38016083&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^T&(D^y))+A[15]+3634488961&4294967295,x=D+(b<<14&4294967295|b>>>18),b=T+(D^y&(x^D))+A[4]+3889429448&4294967295,T=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(T^x))+A[9]+568446438&4294967295,y=T+(b<<5&4294967295|b>>>27),b=D+(T^x&(y^T))+A[14]+3275163606&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^T&(D^y))+A[3]+4107603335&4294967295,x=D+(b<<14&4294967295|b>>>18),b=T+(D^y&(x^D))+A[8]+1163531501&4294967295,T=x+(b<<20&4294967295|b>>>12),b=y+(x^D&(T^x))+A[13]+2850285829&4294967295,y=T+(b<<5&4294967295|b>>>27),b=D+(T^x&(y^T))+A[2]+4243563512&4294967295,D=y+(b<<9&4294967295|b>>>23),b=x+(y^T&(D^y))+A[7]+1735328473&4294967295,x=D+(b<<14&4294967295|b>>>18),b=T+(D^y&(x^D))+A[12]+2368359562&4294967295,T=x+(b<<20&4294967295|b>>>12),b=y+(T^x^D)+A[5]+4294588738&4294967295,y=T+(b<<4&4294967295|b>>>28),b=D+(y^T^x)+A[8]+2272392833&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^T)+A[11]+1839030562&4294967295,x=D+(b<<16&4294967295|b>>>16),b=T+(x^D^y)+A[14]+4259657740&4294967295,T=x+(b<<23&4294967295|b>>>9),b=y+(T^x^D)+A[1]+2763975236&4294967295,y=T+(b<<4&4294967295|b>>>28),b=D+(y^T^x)+A[4]+1272893353&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^T)+A[7]+4139469664&4294967295,x=D+(b<<16&4294967295|b>>>16),b=T+(x^D^y)+A[10]+3200236656&4294967295,T=x+(b<<23&4294967295|b>>>9),b=y+(T^x^D)+A[13]+681279174&4294967295,y=T+(b<<4&4294967295|b>>>28),b=D+(y^T^x)+A[0]+3936430074&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^T)+A[3]+3572445317&4294967295,x=D+(b<<16&4294967295|b>>>16),b=T+(x^D^y)+A[6]+76029189&4294967295,T=x+(b<<23&4294967295|b>>>9),b=y+(T^x^D)+A[9]+3654602809&4294967295,y=T+(b<<4&4294967295|b>>>28),b=D+(y^T^x)+A[12]+3873151461&4294967295,D=y+(b<<11&4294967295|b>>>21),b=x+(D^y^T)+A[15]+530742520&4294967295,x=D+(b<<16&4294967295|b>>>16),b=T+(x^D^y)+A[2]+3299628645&4294967295,T=x+(b<<23&4294967295|b>>>9),b=y+(x^(T|~D))+A[0]+4096336452&4294967295,y=T+(b<<6&4294967295|b>>>26),b=D+(T^(y|~x))+A[7]+1126891415&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~T))+A[14]+2878612391&4294967295,x=D+(b<<15&4294967295|b>>>17),b=T+(D^(x|~y))+A[5]+4237533241&4294967295,T=x+(b<<21&4294967295|b>>>11),b=y+(x^(T|~D))+A[12]+1700485571&4294967295,y=T+(b<<6&4294967295|b>>>26),b=D+(T^(y|~x))+A[3]+2399980690&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~T))+A[10]+4293915773&4294967295,x=D+(b<<15&4294967295|b>>>17),b=T+(D^(x|~y))+A[1]+2240044497&4294967295,T=x+(b<<21&4294967295|b>>>11),b=y+(x^(T|~D))+A[8]+1873313359&4294967295,y=T+(b<<6&4294967295|b>>>26),b=D+(T^(y|~x))+A[15]+4264355552&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~T))+A[6]+2734768916&4294967295,x=D+(b<<15&4294967295|b>>>17),b=T+(D^(x|~y))+A[13]+1309151649&4294967295,T=x+(b<<21&4294967295|b>>>11),b=y+(x^(T|~D))+A[4]+4149444226&4294967295,y=T+(b<<6&4294967295|b>>>26),b=D+(T^(y|~x))+A[11]+3174756917&4294967295,D=y+(b<<10&4294967295|b>>>22),b=x+(y^(D|~T))+A[2]+718787259&4294967295,x=D+(b<<15&4294967295|b>>>17),b=T+(D^(x|~y))+A[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,v.g[2]=v.g[2]+x&4294967295,v.g[3]=v.g[3]+D&4294967295}i.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var T=y-this.blockSize,A=this.B,x=this.h,D=0;D<y;){if(x==0)for(;D<=T;)a(this,v,D),D+=this.blockSize;if(typeof v=="string"){for(;D<y;)if(A[x++]=v.charCodeAt(D++),x==this.blockSize){a(this,A),x=0;break}}else for(;D<y;)if(A[x++]=v[D++],x==this.blockSize){a(this,A),x=0;break}}this.h=x,this.o+=y},i.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var T=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=T&255,T/=256;for(this.u(v),v=Array(16),y=T=0;4>y;++y)for(var A=0;32>A;A+=8)v[T++]=this.g[y]>>>A&255;return v};function s(v,y){var T=o;return Object.prototype.hasOwnProperty.call(T,v)?T[v]:T[v]=y(v)}function l(v,y){this.h=y;for(var T=[],A=!0,x=v.length-1;0<=x;x--){var D=v[x]|0;A&&D==y||(T[x]=D,A=!1)}this.g=T}var o={};function u(v){return-128<=v&&128>v?s(v,function(y){return new l([y|0],0>y?-1:0)}):new l([v|0],0>v?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return j(h(-v));for(var y=[],T=1,A=0;v>=T;A++)y[A]=v/T|0,T*=4294967296;return new l(y,0)}function d(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return j(d(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(y,8)),A=p,x=0;x<v.length;x+=8){var D=Math.min(8,v.length-x),b=parseInt(v.substring(x,x+D),y);8>D?(D=h(Math.pow(y,D)),A=A.j(D).add(h(b))):(A=A.j(T),A=A.add(h(b)))}return A}var p=u(0),g=u(1),_=u(16777216);e=l.prototype,e.m=function(){if(M(this))return-j(this).m();for(var v=0,y=1,T=0;T<this.g.length;T++){var A=this.i(T);v+=(0<=A?A:4294967296+A)*y,y*=4294967296}return v},e.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I(this))return"0";if(M(this))return"-"+j(this).toString(v);for(var y=h(Math.pow(v,6)),T=this,A="";;){var x=C(T,y).g;T=R(T,x.j(y));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(v);if(T=x,I(T))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},e.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function I(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function M(v){return v.h==-1}e.l=function(v){return v=R(this,v),M(v)?-1:I(v)?0:1};function j(v){for(var y=v.g.length,T=[],A=0;A<y;A++)T[A]=~v.g[A];return new l(T,~v.h).add(g)}e.abs=function(){return M(this)?j(this):this},e.add=function(v){for(var y=Math.max(this.g.length,v.g.length),T=[],A=0,x=0;x<=y;x++){var D=A+(this.i(x)&65535)+(v.i(x)&65535),b=(D>>>16)+(this.i(x)>>>16)+(v.i(x)>>>16);A=b>>>16,D&=65535,b&=65535,T[x]=b<<16|D}return new l(T,T[T.length-1]&-2147483648?-1:0)};function R(v,y){return v.add(j(y))}e.j=function(v){if(I(this)||I(v))return p;if(M(this))return M(v)?j(this).j(j(v)):j(j(this).j(v));if(M(v))return j(this.j(j(v)));if(0>this.l(_)&&0>v.l(_))return h(this.m()*v.m());for(var y=this.g.length+v.g.length,T=[],A=0;A<2*y;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<v.g.length;x++){var D=this.i(A)>>>16,b=this.i(A)&65535,Ge=v.i(x)>>>16,fn=v.i(x)&65535;T[2*A+2*x]+=b*fn,E(T,2*A+2*x),T[2*A+2*x+1]+=D*fn,E(T,2*A+2*x+1),T[2*A+2*x+1]+=b*Ge,E(T,2*A+2*x+1),T[2*A+2*x+2]+=D*Ge,E(T,2*A+2*x+2)}for(A=0;A<y;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=y;A<2*y;A++)T[A]=0;return new l(T,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function w(v,y){this.g=v,this.h=y}function C(v,y){if(I(y))throw Error("division by zero");if(I(v))return new w(p,p);if(M(v))return y=C(j(v),y),new w(j(y.g),j(y.h));if(M(y))return y=C(v,j(y)),new w(j(y.g),y.h);if(30<v.g.length){if(M(v)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var T=g,A=y;0>=A.l(v);)T=P(T),A=P(A);var x=q(T,1),D=q(A,1);for(A=q(A,2),T=q(T,2);!I(A);){var b=D.add(A);0>=b.l(v)&&(x=x.add(T),D=b),A=q(A,1),T=q(T,1)}return y=R(v,x.j(y)),new w(x,y)}for(x=p;0<=v.l(y);){for(T=Math.max(1,Math.floor(v.m()/y.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=h(T),b=D.j(y);M(b)||0<b.l(v);)T-=A,D=h(T),b=D.j(y);I(D)&&(D=g),x=x.add(D),v=R(v,b)}return new w(x,v)}e.A=function(v){return C(this,v).h},e.and=function(v){for(var y=Math.max(this.g.length,v.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)&v.i(A);return new l(T,this.h&v.h)},e.or=function(v){for(var y=Math.max(this.g.length,v.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)|v.i(A);return new l(T,this.h|v.h)},e.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)^v.i(A);return new l(T,this.h^v.h)};function P(v){for(var y=v.g.length+1,T=[],A=0;A<y;A++)T[A]=v.i(A)<<1|v.i(A-1)>>>31;return new l(T,v.h)}function q(v,y){var T=y>>5;y%=32;for(var A=v.g.length-T,x=[],D=0;D<A;D++)x[D]=0<y?v.i(D+T)>>>y|v.i(D+T+1)<<32-y:v.i(D+T);return new l(x,v.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,v0=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=d,ui=l}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,Ls,T0,Zl,Bh,A0,b0,S0;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,c,f){return r==Array.prototype||r==Object.prototype||(r[c]=f.value),r};function n(r){r=[typeof globalThis=="object"&&globalThis,r,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var c=0;c<r.length;++c){var f=r[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function a(r,c){if(c)t:{var f=i;r=r.split(".");for(var m=0;m<r.length-1;m++){var N=r[m];if(!(N in f))break t;f=f[N]}r=r[r.length-1],m=f[r],c=c(m),c!=m&&c!=null&&t(f,r,{configurable:!0,writable:!0,value:c})}}function s(r,c){r instanceof String&&(r+="");var f=0,m=!1,N={next:function(){if(!m&&f<r.length){var V=f++;return{value:c(V,r[V]),done:!1}}return m=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}a("Array.prototype.values",function(r){return r||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},o=this||self;function u(r){var c=typeof r;return c=c!="object"?c:r?Array.isArray(r)?"array":c:"null",c=="array"||c=="object"&&typeof r.length=="number"}function h(r){var c=typeof r;return c=="object"&&r!=null||c=="function"}function d(r,c,f){return r.call.apply(r.bind,arguments)}function p(r,c,f){if(!r)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,m),r.apply(c,N)}}return function(){return r.apply(c,arguments)}}function g(r,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function _(r,c){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),r.apply(this,m)}}function I(r,c){function f(){}f.prototype=c.prototype,r.aa=c.prototype,r.prototype=new f,r.prototype.constructor=r,r.Qb=function(m,N,V){for(var L=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)L[mt-2]=arguments[mt];return c.prototype[N].apply(m,L)}}function M(r){const c=r.length;if(0<c){const f=Array(c);for(let m=0;m<c;m++)f[m]=r[m];return f}return[]}function j(r,c){for(let f=1;f<arguments.length;f++){const m=arguments[f];if(u(m)){const N=r.length||0,V=m.length||0;r.length=N+V;for(let L=0;L<V;L++)r[N+L]=m[L]}else r.push(m)}}class R{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(r){return/^[\s\xa0]*$/.test(r)}function w(){var r=o.navigator;return r&&(r=r.userAgent)?r:""}function C(r){return C[" "](r),r}C[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function q(r,c,f){for(const m in r)c.call(f,r[m],m,r)}function v(r,c){for(const f in r)c.call(void 0,r[f],f,r)}function y(r){const c={};for(const f in r)c[f]=r[f];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(r,c){let f,m;for(let N=1;N<arguments.length;N++){m=arguments[N];for(f in m)r[f]=m[f];for(let V=0;V<T.length;V++)f=T[V],Object.prototype.hasOwnProperty.call(m,f)&&(r[f]=m[f])}}function x(r){var c=1;r=r.split(":");const f=[];for(;0<c&&r.length;)f.push(r.shift()),c--;return r.length&&f.push(r.join(":")),f}function D(r){o.setTimeout(()=>{throw r},0)}function b(){var r=yt;let c=null;return r.g&&(c=r.g,r.g=r.g.next,r.g||(r.h=null),c.next=null),c}class Ge{constructor(){this.h=this.g=null}add(c,f){const m=fn.get();m.set(c,f),this.h?this.h.next=m:this.g=m,this.h=m}}var fn=new R(()=>new k,r=>r.reset());class k{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,Y=!1,yt=new Ge,Nt=()=>{const r=o.Promise.resolve(void 0);Z=()=>{r.then(ta)}};var ta=()=>{for(var r;r=b();){try{r.h.call(r.g)}catch(f){D(f)}var c=fn;c.j(r),100>c.h&&(c.h++,r.next=c.g,c.g=r)}Y=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(r,c){this.type=r,this.g=this.target=c,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var r=!1,c=Object.defineProperty({},"passive",{get:function(){r=!0}});try{const f=()=>{};o.addEventListener("test",f,c),o.removeEventListener("test",f,c)}catch{}return r}();function $e(r,c){if(Mt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var f=this.type=r.type,m=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=c,c=r.relatedTarget){if(P){t:{try{C(c.nodeName);var N=!0;break t}catch{}N=!1}N||(c=null)}}else f=="mouseover"?c=r.fromElement:f=="mouseout"&&(c=r.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:rT[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&$e.aa.h.call(this)}}I($e,Mt);var rT={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),lT=0;function oT(r,c,f,m,N){this.listener=r,this.proxy=null,this.src=c,this.type=f,this.capture=!!m,this.ha=N,this.key=++lT,this.da=this.fa=!1}function Jr(r){r.da=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Wr(r){this.src=r,this.g={},this.h=0}Wr.prototype.add=function(r,c,f,m,N){var V=r.toString();r=this.g[V],r||(r=this.g[V]=[],this.h++);var L=Cu(r,c,m,N);return-1<L?(c=r[L],f||(c.fa=!1)):(c=new oT(c,this.src,V,!!m,N),c.fa=f,r.push(c)),c};function Nu(r,c){var f=c.type;if(f in r.g){var m=r.g[f],N=Array.prototype.indexOf.call(m,c,void 0),V;(V=0<=N)&&Array.prototype.splice.call(m,N,1),V&&(Jr(c),r.g[f].length==0&&(delete r.g[f],r.h--))}}function Cu(r,c,f,m){for(var N=0;N<r.length;++N){var V=r[N];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==m)return N}return-1}var Vu="closure_lm_"+(1e6*Math.random()|0),Iu={};function zd(r,c,f,m,N){if(Array.isArray(c)){for(var V=0;V<c.length;V++)zd(r,c[V],f,m,N);return null}return f=kd(f),r&&r[$r]?r.K(c,f,h(m)?!!m.capture:!1,N):uT(r,c,f,!1,m,N)}function uT(r,c,f,m,N,V){if(!c)throw Error("Invalid event type");var L=h(N)?!!N.capture:!!N,mt=Ou(r);if(mt||(r[Vu]=mt=new Wr(r)),f=mt.add(c,f,m,L,V),f.proxy)return f;if(m=cT(),f.proxy=m,m.src=r,m.listener=f,r.addEventListener)dn||(N=L),N===void 0&&(N=!1),r.addEventListener(c.toString(),m,N);else if(r.attachEvent)r.attachEvent(Pd(c.toString()),m);else if(r.addListener&&r.removeListener)r.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function cT(){function r(f){return c.call(r.src,r.listener,f)}const c=hT;return r}function Ld(r,c,f,m,N){if(Array.isArray(c))for(var V=0;V<c.length;V++)Ld(r,c[V],f,m,N);else m=h(m)?!!m.capture:!!m,f=kd(f),r&&r[$r]?(r=r.i,c=String(c).toString(),c in r.g&&(V=r.g[c],f=Cu(V,f,m,N),-1<f&&(Jr(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete r.g[c],r.h--)))):r&&(r=Ou(r))&&(c=r.g[c.toString()],r=-1,c&&(r=Cu(c,f,m,N)),(f=-1<r?c[r]:null)&&Mu(f))}function Mu(r){if(typeof r!="number"&&r&&!r.da){var c=r.src;if(c&&c[$r])Nu(c.i,r);else{var f=r.type,m=r.proxy;c.removeEventListener?c.removeEventListener(f,m,r.capture):c.detachEvent?c.detachEvent(Pd(f),m):c.addListener&&c.removeListener&&c.removeListener(m),(f=Ou(c))?(Nu(f,r),f.h==0&&(f.src=null,c[Vu]=null)):Jr(r)}}}function Pd(r){return r in Iu?Iu[r]:Iu[r]="on"+r}function hT(r,c){if(r.da)r=!0;else{c=new $e(c,this);var f=r.listener,m=r.ha||r.src;r.fa&&Mu(r),r=f.call(m,c)}return r}function Ou(r){return r=r[Vu],r instanceof Wr?r:null}var Uu="__closure_events_fn_"+(1e9*Math.random()>>>0);function kd(r){return typeof r=="function"?r:(r[Uu]||(r[Uu]=function(c){return r.handleEvent(c)}),r[Uu])}function ie(){Ae.call(this),this.i=new Wr(this),this.M=this,this.F=null}I(ie,Ae),ie.prototype[$r]=!0,ie.prototype.removeEventListener=function(r,c,f,m){Ld(this,r,c,f,m)};function he(r,c){var f,m=r.F;if(m)for(f=[];m;m=m.F)f.push(m);if(r=r.M,m=c.type||c,typeof c=="string")c=new Mt(c,r);else if(c instanceof Mt)c.target=c.target||r;else{var N=c;c=new Mt(m,r),A(c,N)}if(N=!0,f)for(var V=f.length-1;0<=V;V--){var L=c.g=f[V];N=tl(L,m,!0,c)&&N}if(L=c.g=r,N=tl(L,m,!0,c)&&N,N=tl(L,m,!1,c)&&N,f)for(V=0;V<f.length;V++)L=c.g=f[V],N=tl(L,m,!1,c)&&N}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var r=this.i,c;for(c in r.g){for(var f=r.g[c],m=0;m<f.length;m++)Jr(f[m]);delete r.g[c],r.h--}}this.F=null},ie.prototype.K=function(r,c,f,m){return this.i.add(String(r),c,!1,f,m)},ie.prototype.L=function(r,c,f,m){return this.i.add(String(r),c,!0,f,m)};function tl(r,c,f,m){if(c=r.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,V=0;V<c.length;++V){var L=c[V];if(L&&!L.da&&L.capture==f){var mt=L.listener,Xt=L.ha||L.src;L.fa&&Nu(r.i,L),N=mt.call(Xt,m)!==!1&&N}}return N&&!m.defaultPrevented}function Bd(r,c,f){if(typeof r=="function")f&&(r=g(r,f));else if(r&&typeof r.handleEvent=="function")r=g(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(r,c||0)}function qd(r){r.g=Bd(()=>{r.g=null,r.i&&(r.i=!1,qd(r))},r.l);const c=r.h;r.h=null,r.m.apply(null,c)}class fT extends Ae{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:qd(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(r){Ae.call(this),this.h=r,this.g={}}I(ds,Ae);var Hd=[];function Gd(r){q(r.g,function(c,f){this.g.hasOwnProperty(f)&&Mu(c)},r),r.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Gd(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=o.JSON.stringify,dT=o.JSON.parse,mT=class{stringify(r){return o.JSON.stringify(r,void 0)}parse(r){return o.JSON.parse(r,void 0)}};function zu(){}zu.prototype.h=null;function Qd(r){return r.h||(r.h=r.i())}function Kd(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lu(){Mt.call(this,"d")}I(Lu,Mt);function Pu(){Mt.call(this,"c")}I(Pu,Mt);var bi={},Fd=null;function el(){return Fd=Fd||new ie}bi.La="serverreachability";function Yd(r){Mt.call(this,bi.La,r)}I(Yd,Mt);function gs(r){const c=el();he(c,new Yd(c))}bi.STAT_EVENT="statevent";function Xd(r,c){Mt.call(this,bi.STAT_EVENT,r),this.stat=c}I(Xd,Mt);function fe(r){const c=el();he(c,new Xd(c,r))}bi.Ma="timingevent";function Zd(r,c){Mt.call(this,bi.Ma,r),this.size=c}I(Zd,Mt);function ps(r,c){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){r()},c)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function gT(r,c,f,m,N,V){r.info(function(){if(r.g)if(V)for(var L="",mt=V.split("&"),Xt=0;Xt<mt.length;Xt++){var rt=mt[Xt].split("=");if(1<rt.length){var ae=rt[0];rt=rt[1];var se=ae.split("_");L=2<=se.length&&se[1]=="type"?L+(ae+"="+rt+"&"):L+(ae+"=redacted&")}}else L=null;else L=V;return"XMLHTTP REQ ("+m+") [attempt "+N+"]: "+c+`
`+f+`
`+L})}function pT(r,c,f,m,N,V,L){r.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+N+"]: "+c+`
`+f+`
`+V+" "+L})}function ea(r,c,f,m){r.info(function(){return"XMLHTTP TEXT ("+c+"): "+_T(r,f)+(m?" "+m:"")})}function yT(r,c){r.info(function(){return"TIMEOUT: "+c})}ys.prototype.info=function(){};function _T(r,c){if(!r.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(r=0;r<f.length;r++)if(Array.isArray(f[r])){var m=f[r];if(!(2>m.length)){var N=m[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var L=1;L<N.length;L++)N[L]=""}}}}return ju(f)}catch{return c}}var nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$d={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ku;function il(){}I(il,zu),il.prototype.g=function(){return new XMLHttpRequest},il.prototype.i=function(){return{}},ku=new il;function jn(r,c,f,m){this.j=r,this.i=c,this.l=f,this.R=m||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jd}function Jd(){this.i=null,this.g="",this.h=!1}var Wd={},Bu={};function qu(r,c,f){r.L=1,r.v=ll(mn(c)),r.m=f,r.P=!0,tm(r,null)}function tm(r,c){r.F=Date.now(),al(r),r.A=mn(r.v);var f=r.A,m=r.R;Array.isArray(m)||(m=[String(m)]),mm(f.i,"t",m),r.C=0,f=r.j.J,r.h=new Jd,r.g=Im(r.j,f?c:null,!r.m),0<r.O&&(r.M=new fT(g(r.Y,r,r.g),r.O)),c=r.U,f=r.g,m=r.ca;var N="readystatechange";Array.isArray(N)||(N&&(Hd[0]=N.toString()),N=Hd);for(var V=0;V<N.length;V++){var L=zd(f,N[V],m||c.handleEvent,!1,c.h||c);if(!L)break;c.g[L.key]=L}c=r.H?y(r.H):{},r.m?(r.u||(r.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.m,c)):(r.u="GET",r.g.ea(r.A,r.u,null,c)),gs(),gT(r.i,r.u,r.A,r.l,r.R,r.m)}jn.prototype.ca=function(r){r=r.target;const c=this.M;c&&gn(r)==3?c.j():this.Y(r)},jn.prototype.Y=function(r){try{if(r==this.g)t:{const se=gn(this.g);var c=this.g.Ba();const aa=this.g.Z();if(!(3>se)&&(se!=3||this.g&&(this.h.h||this.g.oa()||Tm(this.g)))){this.J||se!=4||c==7||(c==8||0>=aa?gs(3):gs(2)),Hu(this);var f=this.g.Z();this.X=f;e:if(em(this)){var m=Tm(this.g);r="";var N=m.length,V=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),_s(this);var L="";break e}this.h.i=new o.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,r+=this.h.i.decode(m[c],{stream:!(V&&c==N-1)});m.length=0,this.h.g+=r,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,pT(this.i,this.u,this.A,this.l,this.R,se,f),this.o){if(this.T&&!this.K){e:{if(this.g){var mt,Xt=this.g;if((mt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(mt)){var rt=mt;break e}}rt=null}if(f=rt)ea(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,f);else{this.o=!1,this.s=3,fe(12),Si(this),_s(this);break t}}if(this.P){f=!0;let Qe;for(;!this.J&&this.C<L.length;)if(Qe=vT(this,L),Qe==Bu){se==4&&(this.s=4,fe(14),f=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Wd){this.s=4,fe(15),ea(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else ea(this.i,this.l,Qe,null),Gu(this,Qe);if(em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||L.length!=0||this.h.h||(this.s=1,fe(16),f=!1),this.o=this.o&&f,!f)ea(this.i,this.l,L,"[Invalid Chunked Response]"),Si(this),_s(this);else if(0<L.length&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.ba&&!ae.M&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Zu(ae),ae.M=!0,fe(11))}}else ea(this.i,this.l,L,null),Gu(this,L);se==4&&Si(this),this.o&&!this.J&&(se==4?Dm(this.j,this):(this.o=!1,al(this)))}else jT(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),Si(this),_s(this)}}}catch{}finally{}};function em(r){return r.g?r.u=="GET"&&r.L!=2&&r.j.Ca:!1}function vT(r,c){var f=r.C,m=c.indexOf(`
`,f);return m==-1?Bu:(f=Number(c.substring(f,m)),isNaN(f)?Wd:(m+=1,m+f>c.length?Bu:(c=c.slice(m,m+f),r.C=m+f,c)))}jn.prototype.cancel=function(){this.J=!0,Si(this)};function al(r){r.S=Date.now()+r.I,nm(r,r.I)}function nm(r,c){if(r.B!=null)throw Error("WatchDog timer not null");r.B=ps(g(r.ba,r),c)}function Hu(r){r.B&&(o.clearTimeout(r.B),r.B=null)}jn.prototype.ba=function(){this.B=null;const r=Date.now();0<=r-this.S?(yT(this.i,this.A),this.L!=2&&(gs(),fe(17)),Si(this),this.s=2,_s(this)):nm(this,this.S-r)};function _s(r){r.j.G==0||r.J||Dm(r.j,r)}function Si(r){Hu(r);var c=r.M;c&&typeof c.ma=="function"&&c.ma(),r.M=null,Gd(r.U),r.g&&(c=r.g,r.g=null,c.abort(),c.ma())}function Gu(r,c){try{var f=r.j;if(f.G!=0&&(f.g==r||Qu(f.h,r))){if(!r.K&&Qu(f.h,r)&&f.G==3){try{var m=f.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var N=m;if(N[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<r.F)dl(f),hl(f);else break t;Xu(f),fe(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=ps(g(f.Za,f),6e3));if(1>=sm(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else wi(f,11)}else if((r.K||f.g==r)&&dl(f),!E(c))for(N=f.Da.g.parse(c),c=0;c<N.length;c++){let rt=N[c];if(f.T=rt[0],rt=rt[1],f.G==2)if(rt[0]=="c"){f.K=rt[1],f.ia=rt[2];const ae=rt[3];ae!=null&&(f.la=ae,f.j.info("VER="+f.la));const se=rt[4];se!=null&&(f.Aa=se,f.j.info("SVER="+f.Aa));const aa=rt[5];aa!=null&&typeof aa=="number"&&0<aa&&(m=1.5*aa,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const Qe=r.g;if(Qe){const gl=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gl){var V=m.h;V.g||gl.indexOf("spdy")==-1&&gl.indexOf("quic")==-1&&gl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ku(V,V.h),V.h=null))}if(m.D){const $u=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;$u&&(m.ya=$u,_t(m.I,m.D,$u))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-r.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var L=r;if(m.qa=Vm(m,m.J?m.ia:null,m.W),L.K){rm(m.h,L);var mt=L,Xt=m.L;Xt&&(mt.I=Xt),mt.B&&(Hu(mt),al(mt)),m.g=L}else wm(m);0<f.i.length&&fl(f)}else rt[0]!="stop"&&rt[0]!="close"||wi(f,7);else f.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?wi(f,7):Yu(f):rt[0]!="noop"&&f.l&&f.l.ta(rt),f.v=0)}}gs(4)}catch{}}var ET=class{constructor(r,c){this.g=r,this.map=c}};function im(r){this.l=r||10,o.PerformanceNavigationTiming?(r=o.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function am(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function sm(r){return r.h?1:r.g?r.g.size:0}function Qu(r,c){return r.h?r.h==c:r.g?r.g.has(c):!1}function Ku(r,c){r.g?r.g.add(c):r.h=c}function rm(r,c){r.h&&r.h==c?r.h=null:r.g&&r.g.has(c)&&r.g.delete(c)}im.prototype.cancel=function(){if(this.i=lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const r of this.g.values())r.cancel();this.g.clear()}};function lm(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let c=r.i;for(const f of r.g.values())c=c.concat(f.D);return c}return M(r.i)}function TT(r){if(r.V&&typeof r.V=="function")return r.V();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(u(r)){for(var c=[],f=r.length,m=0;m<f;m++)c.push(r[m]);return c}c=[],f=0;for(m in r)c[f++]=r[m];return c}function AT(r){if(r.na&&typeof r.na=="function")return r.na();if(!r.V||typeof r.V!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(u(r)||typeof r=="string"){var c=[];r=r.length;for(var f=0;f<r;f++)c.push(f);return c}c=[],f=0;for(const m in r)c[f++]=m;return c}}}function om(r,c){if(r.forEach&&typeof r.forEach=="function")r.forEach(c,void 0);else if(u(r)||typeof r=="string")Array.prototype.forEach.call(r,c,void 0);else for(var f=AT(r),m=TT(r),N=m.length,V=0;V<N;V++)c.call(void 0,m[V],f&&f[V],r)}var um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bT(r,c){if(r){r=r.split("&");for(var f=0;f<r.length;f++){var m=r[f].indexOf("="),N=null;if(0<=m){var V=r[f].substring(0,m);N=r[f].substring(m+1)}else V=r[f];c(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ri(r){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,r instanceof Ri){this.h=r.h,sl(this,r.j),this.o=r.o,this.g=r.g,rl(this,r.s),this.l=r.l;var c=r.i,f=new Ts;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),cm(this,f),this.m=r.m}else r&&(c=String(r).match(um))?(this.h=!1,sl(this,c[1]||"",!0),this.o=vs(c[2]||""),this.g=vs(c[3]||"",!0),rl(this,c[4]),this.l=vs(c[5]||"",!0),cm(this,c[6]||"",!0),this.m=vs(c[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Ri.prototype.toString=function(){var r=[],c=this.j;c&&r.push(Es(c,hm,!0),":");var f=this.g;return(f||c=="file")&&(r.push("//"),(c=this.o)&&r.push(Es(c,hm,!0),"@"),r.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&r.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&r.push("/"),r.push(Es(f,f.charAt(0)=="/"?wT:RT,!0))),(f=this.i.toString())&&r.push("?",f),(f=this.m)&&r.push("#",Es(f,DT)),r.join("")};function mn(r){return new Ri(r)}function sl(r,c,f){r.j=f?vs(c,!0):c,r.j&&(r.j=r.j.replace(/:$/,""))}function rl(r,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);r.s=c}else r.s=null}function cm(r,c,f){c instanceof Ts?(r.i=c,NT(r.i,r.h)):(f||(c=Es(c,xT)),r.i=new Ts(c,r.h))}function _t(r,c,f){r.i.set(c,f)}function ll(r){return _t(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function vs(r,c){return r?c?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Es(r,c,f){return typeof r=="string"?(r=encodeURI(r).replace(c,ST),f&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ST(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var hm=/[#\/\?@]/g,RT=/[#\?:]/g,wT=/[#\?]/g,xT=/[#\?@]/g,DT=/#/g;function Ts(r,c){this.h=this.g=null,this.i=r||null,this.j=!!c}function zn(r){r.g||(r.g=new Map,r.h=0,r.i&&bT(r.i,function(c,f){r.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Ts.prototype,e.add=function(r,c){zn(this),this.i=null,r=na(this,r);var f=this.g.get(r);return f||this.g.set(r,f=[]),f.push(c),this.h+=1,this};function fm(r,c){zn(r),c=na(r,c),r.g.has(c)&&(r.i=null,r.h-=r.g.get(c).length,r.g.delete(c))}function dm(r,c){return zn(r),c=na(r,c),r.g.has(c)}e.forEach=function(r,c){zn(this),this.g.forEach(function(f,m){f.forEach(function(N){r.call(c,N,m,this)},this)},this)},e.na=function(){zn(this);const r=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let m=0;m<c.length;m++){const N=r[m];for(let V=0;V<N.length;V++)f.push(c[m])}return f},e.V=function(r){zn(this);let c=[];if(typeof r=="string")dm(this,r)&&(c=c.concat(this.g.get(na(this,r))));else{r=Array.from(this.g.values());for(let f=0;f<r.length;f++)c=c.concat(r[f])}return c},e.set=function(r,c){return zn(this),this.i=null,r=na(this,r),dm(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[c]),this.h+=1,this},e.get=function(r,c){return r?(r=this.V(r),0<r.length?String(r[0]):c):c};function mm(r,c,f){fm(r,c),0<f.length&&(r.i=null,r.g.set(na(r,c),M(f)),r.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var m=c[f];const V=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var N=V;L[m]!==""&&(N+="="+encodeURIComponent(String(L[m]))),r.push(N)}}return this.i=r.join("&")};function na(r,c){return c=String(c),r.j&&(c=c.toLowerCase()),c}function NT(r,c){c&&!r.j&&(zn(r),r.i=null,r.g.forEach(function(f,m){var N=m.toLowerCase();m!=N&&(fm(this,m),mm(this,N,f))},r)),r.j=c}function CT(r,c){const f=new ys;if(o.Image){const m=new Image;m.onload=_(Ln,f,"TestLoadImage: loaded",!0,c,m),m.onerror=_(Ln,f,"TestLoadImage: error",!1,c,m),m.onabort=_(Ln,f,"TestLoadImage: abort",!1,c,m),m.ontimeout=_(Ln,f,"TestLoadImage: timeout",!1,c,m),o.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=r}else c(!1)}function VT(r,c){const f=new ys,m=new AbortController,N=setTimeout(()=>{m.abort(),Ln(f,"TestPingServer: timeout",!1,c)},1e4);fetch(r,{signal:m.signal}).then(V=>{clearTimeout(N),V.ok?Ln(f,"TestPingServer: ok",!0,c):Ln(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),Ln(f,"TestPingServer: error",!1,c)})}function Ln(r,c,f,m,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),m(f)}catch{}}function IT(){this.g=new mT}function MT(r,c,f){const m=f||"";try{om(r,function(N,V){let L=N;h(N)&&(L=ju(N)),c.push(m+V+"="+encodeURIComponent(L))})}catch(N){throw c.push(m+"type="+encodeURIComponent("_badmap")),N}}function ol(r){this.l=r.Ub||null,this.j=r.eb||!1}I(ol,zu),ol.prototype.g=function(){return new ul(this.l,this.j)},ol.prototype.i=function(r){return function(){return r}}({});function ul(r,c){ie.call(this),this.D=r,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ul,ie),e=ul.prototype,e.open=function(r,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=r,this.A=c,this.readyState=1,bs(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};r&&(c.body=r),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},e.Sa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gm(this)}else r.text().then(this.Ra.bind(this),this.ga.bind(this))};function gm(r){r.j.read().then(r.Pa.bind(r)).catch(r.ga.bind(r))}e.Pa=function(r){if(this.g){if(this.o&&r.value)this.response.push(r.value);else if(!this.o){var c=r.value?r.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!r.done}))&&(this.response=this.responseText+=c)}r.done?As(this):bs(this),this.readyState==3&&gm(this)}},e.Ra=function(r){this.g&&(this.response=this.responseText=r,As(this))},e.Qa=function(r){this.g&&(this.response=r,As(this))},e.ga=function(){this.g&&As(this)};function As(r){r.readyState=4,r.l=null,r.j=null,r.v=null,bs(r)}e.setRequestHeader=function(r,c){this.u.append(r,c)},e.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,r.push(f[0]+": "+f[1]),f=c.next();return r.join(`\r
`)};function bs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});function pm(r){let c="";return q(r,function(f,m){c+=m,c+=":",c+=f,c+=`\r
`}),c}function Fu(r,c,f){t:{for(m in f){var m=!1;break t}m=!0}m||(f=pm(f),typeof r=="string"?f!=null&&encodeURIComponent(String(f)):_t(r,c,f))}function wt(r){ie.call(this),this.headers=new Map,this.o=r||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(wt,ie);var OT=/^https?$/i,UT=["POST","PUT"];e=wt.prototype,e.Ha=function(r){this.J=r},e.ea=function(r,c,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+r);c=c?c.toUpperCase():"GET",this.D=r,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ku.g(),this.v=this.o?Qd(this.o):Qd(ku),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(r),!0),this.B=!1}catch(V){ym(this,V);return}if(r=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var N in m)f.set(N,m[N]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const V of m.keys())f.set(V,m.get(V));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),N=o.FormData&&r instanceof o.FormData,!(0<=Array.prototype.indexOf.call(UT,c,void 0))||m||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,L]of f)this.g.setRequestHeader(V,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Em(this),this.u=!0,this.g.send(r),this.u=!1}catch(V){ym(this,V)}};function ym(r,c){r.h=!1,r.g&&(r.j=!0,r.g.abort(),r.j=!1),r.l=c,r.m=5,_m(r),cl(r)}function _m(r){r.A||(r.A=!0,he(r,"complete"),he(r,"error"))}e.abort=function(r){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=r||7,he(this,"complete"),he(this,"abort"),cl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cl(this,!0)),wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vm(this):this.bb())},e.bb=function(){vm(this)};function vm(r){if(r.h&&typeof l<"u"&&(!r.v[1]||gn(r)!=4||r.Z()!=2)){if(r.u&&gn(r)==4)Bd(r.Ea,0,r);else if(he(r,"readystatechange"),gn(r)==4){r.h=!1;try{const L=r.Z();t:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var m;if(m=L===0){var N=String(r.D).match(um)[1]||null;!N&&o.self&&o.self.location&&(N=o.self.location.protocol.slice(0,-1)),m=!OT.test(N?N.toLowerCase():"")}f=m}if(f)he(r,"complete"),he(r,"success");else{r.m=6;try{var V=2<gn(r)?r.g.statusText:""}catch{V=""}r.l=V+" ["+r.Z()+"]",_m(r)}}finally{cl(r)}}}}function cl(r,c){if(r.g){Em(r);const f=r.g,m=r.v[0]?()=>{}:null;r.g=null,r.v=null,c||he(r,"ready");try{f.onreadystatechange=m}catch{}}}function Em(r){r.I&&(o.clearTimeout(r.I),r.I=null)}e.isActive=function(){return!!this.g};function gn(r){return r.g?r.g.readyState:0}e.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(r){if(this.g){var c=this.g.responseText;return r&&c.indexOf(r)==0&&(c=c.substring(r.length)),dT(c)}};function Tm(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.H){case"":case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function jT(r){const c={};r=(r.g&&2<=gn(r)&&r.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<r.length;m++){if(E(r[m]))continue;var f=x(r[m]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[N]||[];c[N]=V,V.push(f)}v(c,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(r,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[r]||c}function Am(r){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,r),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,r),this.cb=Ss("retryDelaySeedMs",1e4,r),this.Wa=Ss("forwardChannelMaxRetries",2,r),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,r),this.pa=r&&r.xmlHttpFactory||void 0,this.Xa=r&&r.Tb||void 0,this.Ca=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.h=new im(r&&r.concurrentRequestLimit),this.Da=new IT,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=r&&r.Rb||!1,r&&r.xa&&this.j.xa(),r&&r.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&r&&r.detectBufferingProxy||!1,this.ja=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.ja=r.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Am.prototype,e.la=8,e.G=1,e.connect=function(r,c,f,m){fe(0),this.W=r,this.H=c||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Vm(this,null,this.W),fl(this)};function Yu(r){if(bm(r),r.G==3){var c=r.U++,f=mn(r.I);if(_t(f,"SID",r.K),_t(f,"RID",c),_t(f,"TYPE","terminate"),Rs(r,f),c=new jn(r,r.j,c),c.L=2,c.v=ll(mn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&o.Image&&(new Image().src=c.v,f=!0),f||(c.g=Im(c.j,null),c.g.ea(c.v)),c.F=Date.now(),al(c)}Cm(r)}function hl(r){r.g&&(Zu(r),r.g.cancel(),r.g=null)}function bm(r){hl(r),r.u&&(o.clearTimeout(r.u),r.u=null),dl(r),r.h.cancel(),r.s&&(typeof r.s=="number"&&o.clearTimeout(r.s),r.s=null)}function fl(r){if(!am(r.h)&&!r.s){r.s=!0;var c=r.Ga;Z||Nt(),Y||(Z(),Y=!0),yt.add(c,r),r.B=0}}function zT(r,c){return sm(r.h)>=r.h.j-(r.s?1:0)?!1:r.s?(r.i=c.D.concat(r.i),!0):r.G==1||r.G==2||r.B>=(r.Va?0:r.Wa)?!1:(r.s=ps(g(r.Ga,r,c),Nm(r,r.B)),r.B++,!0)}e.Ga=function(r){if(this.s)if(this.s=null,this.G==1){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const N=new jn(this,this.j,r);let V=this.o;if(this.S&&(V?(V=y(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Rm(this,N,c),f=mn(this.I),_t(f,"RID",r),_t(f,"CVER",22),this.D&&_t(f,"X-HTTP-Session-Id",this.D),Rs(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(pm(V)))+"&"+c:this.m&&Fu(f,this.m,V)),Ku(this.h,N),this.Ua&&_t(f,"TYPE","init"),this.P?(_t(f,"$req",c),_t(f,"SID","null"),N.T=!0,qu(N,f,null)):qu(N,f,c),this.G=2}}else this.G==3&&(r?Sm(this,r):this.i.length==0||am(this.h)||Sm(this))};function Sm(r,c){var f;c?f=c.l:f=r.U++;const m=mn(r.I);_t(m,"SID",r.K),_t(m,"RID",f),_t(m,"AID",r.T),Rs(r,m),r.m&&r.o&&Fu(m,r.m,r.o),f=new jn(r,r.j,f,r.B+1),r.m===null&&(f.H=r.o),c&&(r.i=c.D.concat(r.i)),c=Rm(r,f,1e3),f.I=Math.round(.5*r.wa)+Math.round(.5*r.wa*Math.random()),Ku(r.h,f),qu(f,m,c)}function Rs(r,c){r.H&&q(r.H,function(f,m){_t(c,m,f)}),r.l&&om({},function(f,m){_t(c,m,f)})}function Rm(r,c,f){f=Math.min(r.i.length,f);var m=r.l?g(r.l.Na,r.l,r):null;t:{var N=r.i;let V=-1;for(;;){const L=["count="+f];V==-1?0<f?(V=N[0].g,L.push("ofs="+V)):V=0:L.push("ofs="+V);let mt=!0;for(let Xt=0;Xt<f;Xt++){let rt=N[Xt].g;const ae=N[Xt].map;if(rt-=V,0>rt)V=Math.max(0,N[Xt].g-100),mt=!1;else try{MT(ae,L,"req"+rt+"_")}catch{m&&m(ae)}}if(mt){m=L.join("&");break t}}}return r=r.i.splice(0,f),c.D=r,m}function wm(r){if(!r.g&&!r.u){r.Y=1;var c=r.Fa;Z||Nt(),Y||(Z(),Y=!0),yt.add(c,r),r.v=0}}function Xu(r){return r.g||r.u||3<=r.v?!1:(r.Y++,r.u=ps(g(r.Fa,r),Nm(r,r.v)),r.v++,!0)}e.Fa=function(){if(this.u=null,xm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var r=2*this.R;this.j.info("BP detection timer enabled: "+r),this.A=ps(g(this.ab,this),r)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),hl(this),xm(this))};function Zu(r){r.A!=null&&(o.clearTimeout(r.A),r.A=null)}function xm(r){r.g=new jn(r,r.j,"rpc",r.Y),r.m===null&&(r.g.H=r.o),r.g.O=0;var c=mn(r.qa);_t(c,"RID","rpc"),_t(c,"SID",r.K),_t(c,"AID",r.T),_t(c,"CI",r.F?"0":"1"),!r.F&&r.ja&&_t(c,"TO",r.ja),_t(c,"TYPE","xmlhttp"),Rs(r,c),r.m&&r.o&&Fu(c,r.m,r.o),r.L&&(r.g.I=r.L);var f=r.g;r=r.ia,f.L=1,f.v=ll(mn(c)),f.m=null,f.P=!0,tm(f,r)}e.Za=function(){this.C!=null&&(this.C=null,hl(this),Xu(this),fe(19))};function dl(r){r.C!=null&&(o.clearTimeout(r.C),r.C=null)}function Dm(r,c){var f=null;if(r.g==c){dl(r),Zu(r),r.g=null;var m=2}else if(Qu(r.h,c))f=c.D,rm(r.h,c),m=1;else return;if(r.G!=0){if(c.o)if(m==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var N=r.B;m=el(),he(m,new Zd(m,f)),fl(r)}else wm(r);else if(N=c.s,N==3||N==0&&0<c.X||!(m==1&&zT(r,c)||m==2&&Xu(r)))switch(f&&0<f.length&&(c=r.h,c.i=c.i.concat(f)),N){case 1:wi(r,5);break;case 4:wi(r,10);break;case 3:wi(r,6);break;default:wi(r,2)}}}function Nm(r,c){let f=r.Ta+Math.floor(Math.random()*r.cb);return r.isActive()||(f*=2),f*c}function wi(r,c){if(r.j.info("Error code "+c),c==2){var f=g(r.fb,r),m=r.Xa;const N=!m;m=new Ri(m||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||sl(m,"https"),ll(m),N?CT(m.toString(),f):VT(m.toString(),f)}else fe(2);r.G=0,r.l&&r.l.sa(c),Cm(r),bm(r)}e.fb=function(r){r?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Cm(r){if(r.G=0,r.ka=[],r.l){const c=lm(r.h);(c.length!=0||r.i.length!=0)&&(j(r.ka,c),j(r.ka,r.i),r.h.i.length=0,M(r.i),r.i.length=0),r.l.ra()}}function Vm(r,c,f){var m=f instanceof Ri?mn(f):new Ri(f);if(m.g!="")c&&(m.g=c+"."+m.g),rl(m,m.s);else{var N=o.location;m=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var V=new Ri(null);m&&sl(V,m),c&&(V.g=c),N&&rl(V,N),f&&(V.l=f),m=V}return f=r.D,c=r.ya,f&&c&&_t(m,f,c),_t(m,"VER",r.la),Rs(r,m),m}function Im(r,c,f){if(c&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=r.Ca&&!r.pa?new wt(new ol({eb:f})):new wt(r.pa),c.Ha(r.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mm(){}e=Mm.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ml(){}ml.prototype.g=function(r,c){return new be(r,c)};function be(r,c){ie.call(this),this.g=new Am(c),this.l=r,this.h=c&&c.messageUrlParams||null,r=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.o=r,r=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(r?r["X-WebChannel-Content-Type"]=c.messageContentType:r={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(r?r["X-WebChannel-Client-Profile"]=c.va:r={"X-WebChannel-Client-Profile":c.va}),this.g.S=r,(r=c&&c.Sb)&&!E(r)&&(this.g.m=r),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,r=this.h,r!==null&&c in r&&(r=this.h,c in r&&delete r[c])),this.j=new ia(this)}I(be,ie),be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){Yu(this.g)},be.prototype.o=function(r){var c=this.g;if(typeof r=="string"){var f={};f.__data__=r,r=f}else this.u&&(f={},f.__data__=ju(r),r=f);c.i.push(new ET(c.Ya++,r)),c.G==3&&fl(c)},be.prototype.N=function(){this.g.l=null,delete this.j,Yu(this.g),delete this.g,be.aa.N.call(this)};function Om(r){Lu.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var c=r.__sm__;if(c){t:{for(const f in c){r=f;break t}r=void 0}(this.i=r)&&(r=this.i,c=c!==null&&r in c?c[r]:void 0),this.data=c}else this.data=r}I(Om,Lu);function Um(){Pu.call(this),this.status=1}I(Um,Pu);function ia(r){this.g=r}I(ia,Mm),ia.prototype.ua=function(){he(this.g,"a")},ia.prototype.ta=function(r){he(this.g,new Om(r))},ia.prototype.sa=function(r){he(this.g,new Um)},ia.prototype.ra=function(){he(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,S0=function(){return new ml},b0=function(){return el()},A0=bi,Bh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,Zl=nl,$d.COMPLETE="complete",T0=$d,Kd.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Ls=Kd,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,E0=wt}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const _p="@firebase/firestore",vp="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new d0("@firebase/firestore");function ha(){return Gi.logLevel}function B(e,...t){if(Gi.logLevel<=at.DEBUG){const n=t.map(sd);Gi.debug(`Firestore (${us}): ${e}`,...n)}}function Mn(e,...t){if(Gi.logLevel<=at.ERROR){const n=t.map(sd);Gi.error(`Firestore (${us}): ${e}`,...n)}}function Ya(e,...t){if(Gi.logLevel<=at.WARN){const n=t.map(sd);Gi.warn(`Firestore (${us}): ${e}`,...n)}}function sd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+e;throw Mn(t),new Error(t)}function ut(e,t){e||Q()}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends os{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(le.UNAUTHENTICATED))}shutdown(){}}class p2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ut(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,t.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ut(typeof i.accessToken=="string"),new R0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ut(t===null||typeof t=="string"),new le(t)}}class _2{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=le.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v2{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new _2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(le.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ep{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,t2(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){ut(this.o===void 0);const i=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const a=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?a(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ep(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new Ep(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=T2(40);for(let s=0;s<a.length;++s)i.length<20&&a[s]<n&&(i+=t.charAt(a[s]%62))}return i}}function J(e,t){return e<t?-1:e>t?1:0}function qh(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),a=t.codePointAt(n);if(i!==a){if(i<128&&a<128)return J(i,a);{const s=w0(),l=A2(s.encode(Tp(e,n)),s.encode(Tp(t,n)));return l!==0?l:J(i,a)}}n+=i>65535?2:1}return J(e.length,t.length)}function Tp(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function A2(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return J(e[n],t[n]);return J(e.length,t.length)}function Xa(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-62135596800,bp=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*bp);return new Bt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ap)throw new H(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bp}_compareTo(t){return this.seconds===t.seconds?J(this.nanoseconds,t.nanoseconds):J(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ap;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{static fromTimestamp(t){return new F(t)}static min(){return new F(new Bt(0,0))}static max(){return new F(new Bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="__name__";class We{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(),i===void 0?i=t.length-n:i>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return We.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof We?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const s=We.compareSegments(t.get(a),n.get(a));if(s!==0)return s}return J(t.length,n.length)}static compareSegments(t,n){const i=We.isNumericId(t),a=We.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?We.extractNumericId(t).compare(We.extractNumericId(n)):qh(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ui.fromString(t.substring(4,t.length-2))}}class Tt extends We{construct(t,n,i){return new Tt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class te extends We{construct(t,n,i){return new te(t,n,i)}static isValidIdentifier(t){return b2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),te.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sp}static keyField(){return new te([Sp])}static fromServerFormat(t){const n=[];let i="",a=0;const s=()=>{if(i.length===0)throw new H(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new H(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(l=!l,a++):o!=="."||l?(i+=o,a++):(s(),a++)}if(s(),l)throw new H(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new te(n)}static emptyPath(){return new te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(Tt.fromString(t))}static fromName(t){return new G(Tt.fromString(t).popFirst(5))}static empty(){return new G(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new Tt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=-1;function S2(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=F.fromTimestamp(i===1e9?new Bt(n+1,0):new Bt(n,i));return new gi(a,G.empty(),t)}function R2(e){return new gi(e.readTime,e.key,br)}class gi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new gi(F.min(),G.empty(),br)}static max(){return new gi(F.max(),G.empty(),br)}}function w2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:J(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==x2)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new O((i,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):O.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):O.reject(n)}static resolve(t){return new O((n,i)=>{n(t)})}static reject(t){return new O((n,i)=>{i(t)})}static waitFor(t){return new O((n,i)=>{let a=0,s=0,l=!1;t.forEach(o=>{++a,o.next(()=>{++s,l&&s===a&&n()},u=>i(u))}),l=!0,s===a&&n()})}static or(t){let n=O.resolve(!1);for(const i of t)n=n.next(a=>a?O.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,s)=>{i.push(n.call(this,a,s))}),this.waitFor(i)}static mapArray(t,n){return new O((i,a)=>{const s=t.length,l=new Array(s);let o=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{l[h]=d,++o,o===s&&i(l)},d=>a(d))}})}static doWhile(t,n){return new O((i,a)=>{const s=()=>{t()===!0?n().next(()=>{s()},a):i()};s()})}}function N2(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function pu(e){return e==null}function zo(e){return e===0&&1/e==-1/0}function C2(e){return typeof e=="number"&&Number.isInteger(e)&&!zo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="";function V2(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Rp(t)),t=I2(e.get(n),t);return Rp(t)}function I2(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const s=e.charAt(a);switch(s){case"\0":n+="";break;case D0:n+="";break;default:n+=s}}return n}function Rp(e){return e+D0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function N0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,n){this.comparator=t,this.root=n||$t.EMPTY}insert(t,n){return new Rt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(t){return new Rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$t.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Il(this.root,t,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Il(this.root,t,this.comparator,!0)}}class Il{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $t{constructor(t,n,i,a,s){this.key=t,this.value=n,this.color=i??$t.RED,this.left=a??$t.EMPTY,this.right=s??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,s){return new $t(t??this.key,n??this.value,i??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const s=i(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,n,i),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return $t.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,i,a,s){return this}insert(t,n,i){return new $t(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.comparator=t,this.data=new Rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xp(this.data.getIterator())}getIteratorFrom(t){return new xp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new qt(this.comparator);return n.data=t,n}}class xp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.fields=t,t.sort(te.comparator)}static empty(){return new Fe([])}unionWith(t){let n=new qt(te.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Fe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new C0("Invalid base64 string: "+s):s}}(t);return new ne(n)}static fromUint8Array(t){const n=function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s}(t);return new ne(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return J(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ne.EMPTY_BYTE_STRING=new ne("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(e){if(ut(!!e),typeof e=="string"){let t=0;const n=M2.exec(e);if(ut(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function yi(e){return typeof e=="string"?ne.fromBase64String(e):ne.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="server_timestamp",I0="__type__",M0="__previous_value__",O0="__local_write_time__";function ld(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[I0])===null||n===void 0?void 0:n.stringValue)===V0}function yu(e){const t=e.mapValue.fields[M0];return ld(t)?yu(t):t}function Sr(e){const t=pi(e.mapValue.fields[O0].timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n,i,a,s,l,o,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h}}const Lo="(default)";class Rr{constructor(t,n){this.projectId=t,this.database=n||Lo}static empty(){return new Rr("","")}get isDefaultDatabase(){return this.database===Lo}isEqual(t){return t instanceof Rr&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__type__",U2="__max__",Ml={mapValue:{}},j0="__vector__",Po="value";function _i(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ld(e)?4:z2(e)?9007199254740991:j2(e)?10:11:Q()}function on(e,t){if(e===t)return!0;const n=_i(e);if(n!==_i(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sr(e).isEqual(Sr(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=pi(a.timestampValue),o=pi(s.timestampValue);return l.seconds===o.seconds&&l.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return yi(a.bytesValue).isEqual(yi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return It(a.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return It(a.integerValue)===It(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=It(a.doubleValue),o=It(s.doubleValue);return l===o?zo(l)===zo(o):isNaN(l)&&isNaN(o)}return!1}(e,t);case 9:return Xa(e.arrayValue.values||[],t.arrayValue.values||[],on);case 10:case 11:return function(a,s){const l=a.mapValue.fields||{},o=s.mapValue.fields||{};if(wp(l)!==wp(o))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(o[u]===void 0||!on(l[u],o[u])))return!1;return!0}(e,t);default:return Q()}}function wr(e,t){return(e.values||[]).find(n=>on(n,t))!==void 0}function Za(e,t){if(e===t)return 0;const n=_i(e),i=_i(t);if(n!==i)return J(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(s,l){const o=It(s.integerValue||s.doubleValue),u=It(l.integerValue||l.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Dp(e.timestampValue,t.timestampValue);case 4:return Dp(Sr(e),Sr(t));case 5:return qh(e.stringValue,t.stringValue);case 6:return function(s,l){const o=yi(s),u=yi(l);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,l){const o=s.split("/"),u=l.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=J(o[h],u[h]);if(d!==0)return d}return J(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,l){const o=J(It(s.latitude),It(l.latitude));return o!==0?o:J(It(s.longitude),It(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Np(e.arrayValue,t.arrayValue);case 10:return function(s,l){var o,u,h,d;const p=s.fields||{},g=l.fields||{},_=(o=p[Po])===null||o===void 0?void 0:o.arrayValue,I=(u=g[Po])===null||u===void 0?void 0:u.arrayValue,M=J(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:Np(_,I)}(e.mapValue,t.mapValue);case 11:return function(s,l){if(s===Ml.mapValue&&l===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(l===Ml.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),h=l.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=qh(u[p],d[p]);if(g!==0)return g;const _=Za(o[u[p]],h[d[p]]);if(_!==0)return _}return J(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q()}}function Dp(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return J(e,t);const n=pi(e),i=pi(t),a=J(n.seconds,i.seconds);return a!==0?a:J(n.nanos,i.nanos)}function Np(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const s=Za(n[a],i[a]);if(s)return s}return J(n.length,i.length)}function $a(e){return Hh(e)}function Hh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=pi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return yi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const s of n.values||[])a?a=!1:i+=",",i+=Hh(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of i)s?s=!1:a+=",",a+=`${l}:${Hh(n.fields[l])}`;return a+"}"}(e.mapValue):Q()}function $l(e){switch(_i(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yu(e);return t?16+$l(t):16;case 5:return 2*e.stringValue.length;case 6:return yi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,s)=>a+$l(s),0)}(e.arrayValue);case 10:case 11:return function(i){let a=0;return Zi(i.fields,(s,l)=>{a+=s.length+$l(l)}),a}(e.mapValue);default:throw Q()}}function Gh(e){return!!e&&"integerValue"in e}function od(e){return!!e&&"arrayValue"in e}function Cp(e){return!!e&&"nullValue"in e}function Vp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jl(e){return!!e&&"mapValue"in e}function j2(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[U0])===null||n===void 0?void 0:n.stringValue)===j0}function nr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=nr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function z2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.value=t}static empty(){return new Pe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Jl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nr(n)}setAll(t){let n=te.emptyPath(),i={},a=[];t.forEach((l,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}l?i[o.lastSegment()]=nr(l):a.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,a)}delete(t){const n=this.field(t.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return on(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Jl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Zi(n,(a,s)=>t[a]=s);for(const a of i)delete t[a]}clone(){return new Pe(nr(this.value))}}function z0(e){const t=[];return Zi(e.fields,(n,i)=>{const a=new te([n]);if(Jl(i)){const s=z0(i.mapValue).fields;if(s.length===0)t.push(a);else for(const l of s)t.push(a.child(l))}else t.push(a)}),new Fe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n,i,a,s,l,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=s,this.data=l,this.documentState=o}static newInvalidDocument(t){return new oe(t,0,F.min(),F.min(),F.min(),Pe.empty(),0)}static newFoundDocument(t,n,i,a){return new oe(t,1,n,F.min(),i,a,0)}static newNoDocument(t,n){return new oe(t,2,n,F.min(),F.min(),Pe.empty(),0)}static newUnknownDocument(t,n){return new oe(t,3,n,F.min(),F.min(),Pe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(F.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.position=t,this.inclusive=n}}function Ip(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const s=t[a],l=e.position[a];if(s.field.isKeyField()?i=G.comparator(G.fromName(l.referenceValue),n.key):i=Za(l,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Mp(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!on(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,n="asc"){this.field=t,this.dir=n}}function L2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{}class kt extends L0{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new k2(t,n,i):n==="array-contains"?new H2(t,i):n==="in"?new G2(t,i):n==="not-in"?new Q2(t,i):n==="array-contains-any"?new K2(t,i):new kt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new B2(t,i):new q2(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Za(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends L0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new un(t,n)}matches(t){return P0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P0(e){return e.op==="and"}function k0(e){return P2(e)&&P0(e)}function P2(e){for(const t of e.filters)if(t instanceof un)return!1;return!0}function Qh(e){if(e instanceof kt)return e.field.canonicalString()+e.op.toString()+$a(e.value);if(k0(e))return e.filters.map(t=>Qh(t)).join(",");{const t=e.filters.map(n=>Qh(n)).join(",");return`${e.op}(${t})`}}function B0(e,t){return e instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&on(i.value,a.value)}(e,t):e instanceof un?function(i,a){return a instanceof un&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((s,l,o)=>s&&B0(l,a.filters[o]),!0):!1}(e,t):void Q()}function q0(e){return e instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(e):e instanceof un?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(e):"Filter"}class k2 extends kt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class B2 extends kt{constructor(t,n){super(t,"in",n),this.keys=H0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class q2 extends kt{constructor(t,n){super(t,"not-in",n),this.keys=H0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function H0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class H2 extends kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return od(n)&&wr(n.arrayValue,this.value)}}class G2 extends kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wr(this.value.arrayValue,n)}}class Q2 extends kt{constructor(t,n){super(t,"not-in",n)}matches(t){if(wr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!wr(this.value.arrayValue,n)}}class K2 extends kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wr(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n=null,i=[],a=[],s=null,l=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=s,this.startAt=l,this.endAt=o,this.le=null}}function Op(e,t=null,n=[],i=[],a=null,s=null,l=null){return new F2(e,t,n,i,a,s,l)}function ud(e){const t=X(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Qh(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),pu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>$a(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>$a(i)).join(",")),t.le=n}return t.le}function cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!L2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!B0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mp(e.startAt,t.startAt)&&Mp(e.endAt,t.endAt)}function Kh(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n=null,i=[],a=[],s=null,l="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=s,this.limitType=l,this.startAt=o,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y2(e,t,n,i,a,s,l,o){return new _u(e,t,n,i,a,s,l,o)}function G0(e){return new _u(e)}function Up(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function X2(e){return e.collectionGroup!==null}function ir(e){const t=X(e);if(t.he===null){t.he=[];const n=new Set;for(const s of t.explicitOrderBy)t.he.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let o=new qt(te.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.he.push(new Bo(s,i))}),n.has(te.keyField().canonicalString())||t.he.push(new Bo(te.keyField(),i))}return t.he}function rn(e){const t=X(e);return t.Pe||(t.Pe=Z2(t,ir(e))),t.Pe}function Z2(e,t){if(e.limitType==="F")return Op(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Bo(a.field,s)});const n=e.endAt?new ko(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ko(e.startAt.position,e.startAt.inclusive):null;return Op(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Fh(e,t,n){return new _u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vu(e,t){return cd(rn(e),rn(t))&&e.limitType===t.limitType}function Q0(e){return`${ud(rn(e))}|lt:${e.limitType}`}function fa(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>q0(a)).join(", ")}]`),pu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>$a(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>$a(a)).join(",")),`Target(${i})`}(rn(e))}; limitType=${e.limitType})`}function Eu(e,t){return t.isFoundDocument()&&function(i,a){const s=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,a){for(const s of ir(i))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const s of i.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(l,o,u){const h=Ip(l,o,u);return l.inclusive?h<=0:h<0}(i.startAt,ir(i),a)||i.endAt&&!function(l,o,u){const h=Ip(l,o,u);return l.inclusive?h>=0:h>0}(i.endAt,ir(i),a))}(e,t)}function $2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function K0(e){return(t,n)=>{let i=!1;for(const a of ir(e)){const s=J2(a,t,n);if(s!==0)return s;i=i||a.field.isKeyField()}return 0}}function J2(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,l,o){const u=l.data.field(s),h=o.data.field(s);return u!==null&&h!==null?Za(u,h):Q()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,s]of i)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Zi(this.inner,(n,i)=>{for(const[a,s]of i)t(a,s)})}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Rt(G.comparator);function On(){return W2}const F0=new Rt(G.comparator);function Ps(...e){let t=F0;for(const n of e)t=t.insert(n.key,n);return t}function Y0(e){let t=F0;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ii(){return ar()}function X0(){return ar()}function ar(){return new $i(e=>e.toString(),(e,t)=>e.isEqual(t))}const tR=new Rt(G.comparator),eR=new qt(G.comparator);function nt(...e){let t=eR;for(const n of e)t=t.add(n);return t}const nR=new qt(J);function iR(){return nR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(t)?"-0":t}}function Z0(e){return{integerValue:""+e}}function aR(e,t){return C2(t)?Z0(t):hd(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this._=void 0}}function sR(e,t,n){return e instanceof xr?function(a,s){const l={fields:{[I0]:{stringValue:V0},[O0]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&ld(s)&&(s=yu(s)),s&&(l.fields[M0]=s),{mapValue:l}}(n,t):e instanceof Dr?J0(e,t):e instanceof Nr?W0(e,t):function(a,s){const l=$0(a,s),o=jp(l)+jp(a.Ie);return Gh(l)&&Gh(a.Ie)?Z0(o):hd(a.serializer,o)}(e,t)}function rR(e,t,n){return e instanceof Dr?J0(e,t):e instanceof Nr?W0(e,t):n}function $0(e,t){return e instanceof qo?function(i){return Gh(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class xr extends Tu{}class Dr extends Tu{constructor(t){super(),this.elements=t}}function J0(e,t){const n=tE(t);for(const i of e.elements)n.some(a=>on(a,i))||n.push(i);return{arrayValue:{values:n}}}class Nr extends Tu{constructor(t){super(),this.elements=t}}function W0(e,t){let n=tE(t);for(const i of e.elements)n=n.filter(a=>!on(a,i));return{arrayValue:{values:n}}}class qo extends Tu{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function jp(e){return It(e.integerValue||e.doubleValue)}function tE(e){return od(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n){this.field=t,this.transform=n}}function oR(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Dr&&a instanceof Dr||i instanceof Nr&&a instanceof Nr?Xa(i.elements,a.elements,on):i instanceof qo&&a instanceof qo?on(i.Ie,a.Ie):i instanceof xr&&a instanceof xr}(e.transform,t.transform)}class uR{constructor(t,n){this.version=t,this.transformResults=n}}class xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xn}static exists(t){return new xn(void 0,t)}static updateTime(t){return new xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Au{}function eE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iE(e.key,xn.none()):new Kr(e.key,e.data,xn.none());{const n=e.data,i=Pe.empty();let a=new qt(te.comparator);for(let s of t.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?i.delete(s):i.set(s,l),a=a.add(s)}return new Ji(e.key,i,new Fe(a.toArray()),xn.none())}}function cR(e,t,n){e instanceof Kr?function(a,s,l){const o=a.value.clone(),u=Lp(a.fieldTransforms,s,l.transformResults);o.setAll(u),s.convertToFoundDocument(l.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ji?function(a,s,l){if(!Wl(a.precondition,s))return void s.convertToUnknownDocument(l.version);const o=Lp(a.fieldTransforms,s,l.transformResults),u=s.data;u.setAll(nE(a)),u.setAll(o),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(e,t,n):function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function sr(e,t,n,i){return e instanceof Kr?function(s,l,o,u){if(!Wl(s.precondition,l))return o;const h=s.value.clone(),d=Pp(s.fieldTransforms,u,l);return h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ji?function(s,l,o,u){if(!Wl(s.precondition,l))return o;const h=Pp(s.fieldTransforms,u,l),d=l.data;return d.setAll(nE(s)),d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,l,o){return Wl(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):o}(e,t,n)}function hR(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),s=$0(i.transform,a||null);s!=null&&(n===null&&(n=Pe.empty()),n.set(i.field,s))}return n||null}function zp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Xa(i,a,(s,l)=>oR(s,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Kr extends Au{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ji extends Au{constructor(t,n,i,a,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Lp(e,t,n){const i=new Map;ut(e.length===n.length);for(let a=0;a<n.length;a++){const s=e[a],l=s.transform,o=t.data.field(s.field);i.set(s.field,rR(l,o,n[a]))}return i}function Pp(e,t,n){const i=new Map;for(const a of e){const s=a.transform,l=n.data.field(a.field);i.set(a.field,sR(s,l,t))}return i}class iE extends Au{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fR extends Au{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&cR(s,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=sr(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=sr(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=X0();return this.mutations.forEach(a=>{const s=t.get(a.key),l=s.overlayedDocument;let o=this.applyToLocalView(l,s.mutatedFields);o=n.has(a.key)?null:o;const u=eE(l,o);u!==null&&i.set(a.key,u),l.isValidDocument()||l.convertToNoDocument(F.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),nt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,(n,i)=>zp(n,i))&&Xa(this.baseMutations,t.baseMutations,(n,i)=>zp(n,i))}}class fd{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){ut(t.mutations.length===i.length);let a=function(){return tR}();const s=t.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,i[l].version);return new fd(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,it;function pR(e){switch(e){case z.OK:return Q();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Q()}}function aE(e){if(e===void 0)return Mn("GRPC error has no .code"),z.UNKNOWN;switch(e){case Ot.OK:return z.OK;case Ot.CANCELLED:return z.CANCELLED;case Ot.UNKNOWN:return z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return z.INTERNAL;case Ot.UNAVAILABLE:return z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return z.NOT_FOUND;case Ot.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ot.ABORTED:return z.ABORTED;case Ot.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ot.DATA_LOSS:return z.DATA_LOSS;default:return Q()}}(it=Ot||(Ot={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new ui([4294967295,4294967295],0);function kp(e){const t=w0().encode(e),n=new v0;return n.update(t),new Uint8Array(n.digest())}function Bp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ui([n,i],0),new ui([a,s],0)]}class dd{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(i<0)throw new ks(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ui.fromNumber(this.Ee)}Ae(t,n,i){let a=t.add(n.multiply(ui.fromNumber(i)));return a.compare(yR)===1&&(a=new ui([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=kp(t),[i,a]=Bp(n);for(let s=0;s<this.hashCount;s++){const l=this.Ae(i,a,s);if(!this.Re(l))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),l=new dd(s,a,n);return i.forEach(o=>l.insert(o)),l}insert(t){if(this.Ee===0)return;const n=kp(t),[i,a]=Bp(n);for(let s=0;s<this.hashCount;s++){const l=this.Ae(i,a,s);this.Ve(l)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n,i,a,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,Fr.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new bu(F.min(),a,new Rt(J),On(),nt())}}class Fr{constructor(t,n,i,a,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Fr(i,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n,i,a){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=a}}class sE{constructor(t,n){this.targetId=t,this.ge=n}}class rE{constructor(t,n,i=ne.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class qp{constructor(){this.pe=0,this.ye=Hp(),this.we=ne.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=nt(),n=nt(),i=nt();return this.ye.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Q()}}),new Fr(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=Hp()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,ut(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _R{constructor(t){this.ke=t,this.qe=new Map,this.Qe=On(),this.$e=Ol(),this.Ue=Ol(),this.Ke=new Rt(J)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,i=t.ge.count,a=this.Xe(n);if(a){const s=a.target;if(Kh(s))if(i===0){const l=new G(s.path);this.ze(n,l,oe.newNoDocument(l,F.min()))}else ut(i===1);else{const l=this.et(n);if(l!==i){const o=this.tt(t),u=o?this.nt(o,t,l):1;if(u!==0){this.Ye(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=n;let l,o;try{l=yi(i).toUint8Array()}catch(u){if(u instanceof C0)return Ya("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new dd(l,a,s)}catch(u){return Ya(u instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ee===0?null:o}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(s=>{const l=this.ke.it(),o=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.ze(n,s,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((s,l)=>{const o=this.Xe(l);if(o){if(s.current&&Kh(o.target)){const u=new G(o.target.path);this._t(u).has(l)||this.ut(l,u)||this.ze(l,u,oe.newNoDocument(u,t))}s.ve&&(n.set(l,s.Fe()),s.Me())}});let i=nt();this.Ue.forEach((s,l)=>{let o=!0;l.forEachWhile(u=>{const h=this.Xe(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(t));const a=new bu(t,n,this.Ke,this.Qe,i);return this.Qe=On(),this.$e=Ol(),this.Ue=Ol(),this.Ke=new Rt(J),a}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new qp,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new qt(J),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new qt(J),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new qp),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Ol(){return new Rt(G.comparator)}function Hp(){return new Rt(G.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class AR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yh(e,t){return e.useProto3Json||pu(t)?t:{value:t}}function Ho(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bR(e,t){return Ho(e,t.toTimestamp())}function ln(e){return ut(!!e),F.fromTimestamp(function(n){const i=pi(n);return new Bt(i.seconds,i.nanos)}(e))}function md(e,t){return Xh(e,t).canonicalString()}function Xh(e,t){const n=function(a){return new Tt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function oE(e){const t=Tt.fromString(e);return ut(dE(t)),t}function Zh(e,t){return md(e.databaseId,t.path)}function zc(e,t){const n=oE(t);if(n.get(1)!==e.databaseId.projectId)throw new H(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(cE(n))}function uE(e,t){return md(e.databaseId,t)}function SR(e){const t=oE(e);return t.length===4?Tt.emptyPath():cE(t)}function $h(e){return new Tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cE(e){return ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Gp(e,t,n){return{name:Zh(e,t),fields:n.value.mapValue.fields}}function RR(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(ut(d===void 0||typeof d=="string"),ne.fromBase64String(d||"")):(ut(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ne.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,o=l&&function(h){const d=h.code===void 0?z.UNKNOWN:aE(h.code);return new H(d,h.message||"")}(l);n=new rE(i,a,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=zc(e,i.document.name),s=ln(i.document.updateTime),l=i.document.createTime?ln(i.document.createTime):F.min(),o=new Pe({mapValue:{fields:i.document.fields}}),u=oe.newFoundDocument(a,s,l,o),h=i.targetIds||[],d=i.removedTargetIds||[];n=new to(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=zc(e,i.document),s=i.readTime?ln(i.readTime):F.min(),l=oe.newNoDocument(a,s),o=i.removedTargetIds||[];n=new to([],o,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=zc(e,i.document),s=i.removedTargetIds||[];n=new to([],s,a,null)}else{if(!("filter"in t))return Q();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:s}=i,l=new gR(a,s),o=i.targetId;n=new sE(o,l)}}return n}function wR(e,t){let n;if(t instanceof Kr)n={update:Gp(e,t.key,t.value)};else if(t instanceof iE)n={delete:Zh(e,t.key)};else if(t instanceof Ji)n={update:Gp(e,t.key,t.data),updateMask:UR(t.fieldMask)};else{if(!(t instanceof fR))return Q();n={verify:Zh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,l){const o=l.transform;if(o instanceof xr)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dr)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Nr)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qo)return{fieldPath:l.field.canonicalString(),increment:o.Ie};throw Q()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:bR(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(e,t.precondition)),n}function xR(e,t){return e&&e.length>0?(ut(t!==void 0),e.map(n=>function(a,s){let l=a.updateTime?ln(a.updateTime):ln(s);return l.isEqual(F.min())&&(l=ln(s)),new uR(l,a.transformResults||[])}(n,t))):[]}function DR(e,t){return{documents:[uE(e,t.path)]}}function NR(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uE(e,a);const s=function(h){if(h.length!==0)return fE(un.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:da(g.field),direction:IR(g.dir)}}(d))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const o=Yh(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ht:n,parent:a}}function CR(e){let t=SR(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ut(i===1);const d=n.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=hE(p);return g instanceof un&&k0(g)?g.getFilters():[g]}(n.where));let l=[];n.orderBy&&(l=function(p){return p.map(g=>function(I){return new Bo(ma(I.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,pu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new ko(_,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,_=p.values||[];return new ko(_,g)}(n.endAt)),Y2(t,a,l,s,o,"F",u,h)}function VR(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ma(n.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ma(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ma(n.unaryFilter.field);return kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ma(n.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return kt.create(ma(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return un.create(n.compositeFilter.filters.map(i=>hE(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function IR(e){return vR[e]}function MR(e){return ER[e]}function OR(e){return TR[e]}function da(e){return{fieldPath:e.canonicalString()}}function ma(e){return te.fromServerFormat(e.fieldPath)}function fE(e){return e instanceof kt?function(n){if(n.op==="=="){if(Vp(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(Cp(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vp(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(Cp(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:MR(n.op),value:n.value}}}(e):e instanceof un?function(n){const i=n.getFilters().map(a=>fE(a));return i.length===1?i[0]:{compositeFilter:{op:OR(n.op),filters:i}}}(e):Q()}function UR(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n,i,a,s=F.min(),l=F.min(),o=ne.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Jn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.Tt=t}}function zR(e){const t=CR({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.Tn=new PR}addToCollectionParentIndex(t,n){return this.Tn.add(n),O.resolve()}getCollectionParents(t,n){return O.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return O.resolve()}deleteFieldIndex(t,n){return O.resolve()}deleteAllFieldIndexes(t){return O.resolve()}createTargetIndexes(t,n){return O.resolve()}getDocumentsMatchingTarget(t,n){return O.resolve(null)}getIndexType(t,n){return O.resolve(0)}getFieldIndexes(t,n){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,n){return O.resolve(gi.min())}getMinOffsetFromCollectionGroup(t,n){return O.resolve(gi.min())}updateCollectionGroup(t,n,i){return O.resolve()}updateIndexEntries(t,n){return O.resolve()}}class PR{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new qt(Tt.comparator),s=!a.has(i);return this.index[n]=a.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new qt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class ve{static withCacheSize(t){return new ve(t,ve.DEFAULT_COLLECTION_PERCENTILE,ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ve.DEFAULT_COLLECTION_PERCENTILE=10,ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ve.DEFAULT=new ve(mE,ve.DEFAULT_COLLECTION_PERCENTILE,ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ve.DISABLED=new ve(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ja(0)}static Kn(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LruGarbageCollector",kR=1048576;function Fp([e,t],[n,i]){const a=J(e,n);return a===0?J(t,i):a}class BR{constructor(t){this.Hn=t,this.buffer=new qt(Fp),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Fp(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){B(Kp,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hs(n)?B(Kp,"Ignoring IndexedDB error during garbage collection: ",n):await cs(n)}await this.er(3e5)})}}class HR{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return O.resolve(gu.ae);const i=new BR(n);return this.tr.forEachTarget(t,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Qp)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qp):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,a,s,l,o,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),a=this.params.maximumSequenceNumbersToCollect):a=p,l=Date.now(),this.nthSequenceNumber(t,a))).next(p=>(i=p,o=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),ha()<=at.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${a} in `+(o-l)+`ms
	Removed ${s} targets in `+(u-o)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:p})))}}function GR(e,t){return new HR(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changes=new $i(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,oe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?O.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&sr(i.mutation,a,Fe.empty(),Bt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,nt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=nt()){const a=Ii();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(s=>{let l=Ps();return s.forEach((o,u)=>{l=l.insert(o,u.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Ii();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,nt()))}populateOverlays(t,n,i){const a=[];return i.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((l,o)=>{n.set(l,o)})})}computeViews(t,n,i,a){let s=On();const l=ar(),o=function(){return ar()}();return n.forEach((u,h)=>{const d=i.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof Ji)?s=s.insert(h.key,h):d!==void 0?(l.set(h.key,d.mutation.getFieldMask()),sr(d.mutation,h,d.mutation.getFieldMask(),Bt.now())):l.set(h.key,Fe.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>l.set(h,d)),n.forEach((h,d)=>{var p;return o.set(h,new KR(d,(p=l.get(h))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=ar();let a=new Rt((l,o)=>l-o),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const o of l)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Fe.empty();d=o.applyToLocalView(h,d),i.set(u,d);const p=(a.get(o.batchId)||nt()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const l=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,p=X0();d.forEach(g=>{if(!s.has(g)){const _=eE(n.get(g),i.get(g));_!==null&&p.set(g,_),s=s.add(g)}}),l.push(this.documentOverlayCache.saveOverlays(t,h,p))}return O.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(l){return G.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):X2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-s.size):O.resolve(Ii());let o=br,u=s;return l.next(h=>O.forEach(h,(d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(d)?O.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,nt())).next(d=>({batchId:o,changes:Y0(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let a=Ps();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const s=n.collectionGroup;let l=Ps();return this.indexManager.getCollectionParents(t,s).next(o=>O.forEach(o,u=>{const h=function(p,g){return new _u(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(d=>{d.forEach((p,g)=>{l=l.insert(p,g)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,a))).next(l=>{s.forEach((u,h)=>{const d=h.getKey();l.get(d)===null&&(l=l.insert(d,oe.newInvalidDocument(d)))});let o=Ps();return l.forEach((u,h)=>{const d=s.get(u);d!==void 0&&sr(d.mutation,h,Fe.empty(),Bt.now()),Eu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return O.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ln(a.createTime)}}(n)),O.resolve()}getNamedQuery(t,n){return O.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:zR(a.bundledQuery),readTime:ln(a.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.overlays=new Rt(G.comparator),this.Rr=new Map}getOverlay(t,n){return O.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ii();return O.forEach(n,a=>this.getOverlay(t,a).next(s=>{s!==null&&i.set(a,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,s)=>{this.Et(t,n,s)}),O.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),O.resolve()}getOverlaysForCollection(t,n,i){const a=Ii(),s=n.length+1,l=new G(n.child("")),o=this.overlays.getIteratorFrom(l);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&a.set(u.getKey(),u)}return O.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let s=new Rt((h,d)=>h-d);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Ii(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=Ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return O.resolve(o)}Et(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const l=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new mR(n,i));let s=this.Rr.get(n);s===void 0&&(s=nt(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.sessionToken=ne.EMPTY_BYTE_STRING}getSessionToken(t){return O.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Vr=new qt(Gt.mr),this.gr=new qt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Gt(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Gt(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new G(new Tt([])),i=new Gt(n,t),a=new Gt(n,t+1),s=[];return this.gr.forEachInRange([i,a],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new G(new Tt([])),i=new Gt(n,t),a=new Gt(n,t+1);let s=nt();return this.gr.forEachInRange([i,a],l=>{s=s.add(l.key)}),s}containsKey(t){const n=new Gt(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Gt{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return G.comparator(t.key,n.key)||J(t.Cr,n.Cr)}static pr(t,n){return J(t.Cr,n.Cr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Gt.mr)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new dR(s,n,i,a);this.mutationQueue.push(l);for(const o of a)this.Mr=this.Mr.add(new Gt(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return O.resolve(l)}lookupMutationBatch(t,n){return O.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.Nr(i),s=a<0?0:a;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?rd:this.Fr-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,a],l=>{const o=this.Or(l.Cr);s.push(o)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new qt(J);return n.forEach(a=>{const s=new Gt(a,0),l=new Gt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],o=>{i=i.add(o.Cr)})}),O.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const l=new Gt(new G(s),0);let o=new qt(J);return this.Mr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.Cr)),!0)},l),O.resolve(this.Br(o))}Br(t){const n=[];return t.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){ut(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return O.forEach(n.mutations,a=>{const s=new Gt(a.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Gt(n,0),a=this.Mr.firstAfterOrEqual(i);return O.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.kr=t,this.docs=function(){return new Rt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),s=a?a.size:0,l=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return O.resolve(i?i.document.mutableCopy():oe.newInvalidDocument(n))}getEntries(t,n){let i=On();return n.forEach(a=>{const s=this.docs.get(a);i=i.insert(a,s?s.document.mutableCopy():oe.newInvalidDocument(a))}),O.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let s=On();const l=n.path,o=new G(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||w2(R2(d),i)<=0||(a.has(d.key)||Eu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(t,n,i,a){Q()}qr(t,n){return O.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new WR(this)}getSize(t){return O.resolve(this.size)}}class WR extends QR{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(i)}),O.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.persistence=t,this.Qr=new $i(n=>ud(n),cd),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gd,this.targetCount=0,this.Kr=Ja.Un()}forEachTarget(t,n){return this.Qr.forEach((i,a)=>n(a)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),O.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ja(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,O.resolve()}updateTargetData(t,n){return this.zn(n),O.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,n,i){let a=0;const s=[];return this.Qr.forEach((l,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),O.waitFor(s).next(()=>a)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return O.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),O.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(l=>{s.push(a.markPotentiallyOrphaned(t,l))}),O.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),O.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return O.resolve(i)}containsKey(t,n){return O.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new gu(0),this.zr=!1,this.zr=!0,this.jr=new ZR,this.referenceDelegate=t(this),this.Hr=new tw(this),this.indexManager=new LR,this.remoteDocumentCache=function(a){return new JR(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new jR(n),this.Yr=new YR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new XR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new $R(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){B("MemoryPersistence","Starting transaction:",t);const a=new ew(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(s=>this.referenceDelegate.Xr(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}ei(t,n){return O.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class ew extends D2{constructor(t){super(),this.currentSequenceNumber=t}}class pd{constructor(t){this.persistence=t,this.ti=new gd,this.ni=null}static ri(t){return new pd(t)}get ii(){if(this.ni)return this.ni;throw Q()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),O.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),O.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),O.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ii,i=>{const a=G.fromPath(i);return this.si(t,a).next(s=>{s||n.removeEntry(a,F.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return O.or([()=>O.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Go{constructor(t,n){this.persistence=t,this.oi=new $i(i=>V2(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=GR(this,n)}static ri(t,n){return new Go(t,n)}Zr(){}Xr(t){return O.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(a=>i+a))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return O.forEach(this.oi,(i,a)=>this.ar(t,i,a).next(s=>s?O.resolve():n(a)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.qr(t,l=>this.ar(t,l,n).next(o=>{o||(i++,s.removeEntry(l,F.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),O.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),O.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),O.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),O.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$l(t.data.value)),n}ar(t,n,i){return O.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return O.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(t,n){let i=nt(),a=nt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new yd(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $b()?8:N2(Xb())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,a){const s={result:null};return this.rs(t,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(t,n,a,i).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new nw;return this._s(t,n,l).next(o=>{if(s.result=o,this.Xi)return this.us(t,n,l,o.size)})}).next(()=>s.result)}us(t,n,i,a){return i.documentReadCount<this.es?(ha()<=at.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),O.resolve()):(ha()<=at.DEBUG&&B("QueryEngine","Query:",fa(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(ha()<=at.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,rn(n))):O.resolve())}rs(t,n){if(Up(n))return O.resolve(null);let i=rn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fh(n,null,"F"),i=rn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=nt(...s);return this.ns.getDocuments(t,l).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.cs(n,o);return this.ls(n,h,l,u.readTime)?this.rs(t,Fh(n,null,"F")):this.hs(t,h,n,u)}))})))}ss(t,n,i,a){return Up(n)||a.isEqual(F.min())?O.resolve(null):this.ns.getDocuments(t,i).next(s=>{const l=this.cs(n,s);return this.ls(n,l,i,a)?O.resolve(null):(ha()<=at.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fa(n)),this.hs(t,l,n,S2(a,br)).next(o=>o))})}cs(t,n){let i=new qt(K0(t));return n.forEach((a,s)=>{Eu(t,s)&&(i=i.add(s))}),i}ls(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}_s(t,n,i){return ha()<=at.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",fa(n)),this.ns.getDocumentsMatchingQuery(t,n,gi.min(),i)}hs(t,n,i,a){return this.ns.getDocumentsMatchingQuery(t,i,a).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="LocalStore",aw=3e8;class sw{constructor(t,n,i,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new Rt(J),this.Is=new $i(s=>ud(s),cd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function rw(e,t,n,i){return new sw(e,t,n,i)}async function pE(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(s=>(a=s,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],o=[];let u=nt();for(const h of a){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:o}))})})}function lw(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const p=h.batch,g=p.keys();let _=O.resolve();return g.forEach(I=>{_=_.next(()=>d.getEntry(u,I)).next(M=>{const j=h.docVersions.get(I);ut(j!==null),M.version.compareTo(j)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=nt();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function yE(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function ow(e,t){const n=X(e),i=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const o=[];t.targetChanges.forEach((d,p)=>{const g=a.get(p);if(!g)return;o.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,p)));let _=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(ne.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),a=a.insert(p,_),function(M,j,R){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=aw?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(g,_,d)&&o.push(n.Hr.updateTargetData(s,_))});let u=On(),h=nt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(uw(s,l,t.documentUpdates).next(d=>{u=d.Vs,h=d.fs})),!i.isEqual(F.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(d)}return O.waitFor(o).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ts=a,s))}function uw(e,t,n){let i=nt(),a=nt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let l=On();return n.forEach((o,u)=>{const h=s.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(F.min())?(t.removeEntry(o,u.readTime),l=l.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),l=l.insert(o,u)):B(_d,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Vs:l,fs:a}})}function cw(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=rd),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hw(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,t).next(s=>s?(a=s,O.resolve(a)):n.Hr.allocateTargetId(i).next(l=>(a=new Jn(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Jh(e,t,n){const i=X(e),a=i.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!hs(l))throw l;B(_d,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(a.target)}function Yp(e,t,n){const i=X(e);let a=F.min(),s=nt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(u,h,d){const p=X(u),g=p.Is.get(d);return g!==void 0?O.resolve(p.Ts.get(g)):p.Hr.getTargetData(h,d)}(i,l,rn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,o.targetId).next(u=>{s=u})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,n?a:F.min(),n?s:nt())).next(o=>(fw(i,$2(t),o),{documents:o,gs:s})))}function fw(e,t,n){let i=e.Es.get(t)||F.min();n.forEach((a,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Es.set(t,i)}class Xp{constructor(){this.activeTargetIds=iR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dw{constructor(){this.ho=new Xp,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Xp,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="ConnectivityMonitor";class $p{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){B(Zp,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){B(Zp,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=null;function Wh(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="RestConnection",gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Lo?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(t,n,i,a,s){const l=Wh(),o=this.bo(t,n.toUriEncodedString());B(Lc,`Sending RPC '${t}' ${l}:`,o,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,a,s),this.vo(t,o,u,i).then(h=>(B(Lc,`Received RPC '${t}' ${l}: `,h),h),h=>{throw Ya(Lc,`RPC '${t}' ${l} failed with error: `,h,"url: ",o,"request:",i),h})}Co(t,n,i,a,s,l){return this.So(t,n,i,a,s)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+us}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>t[s]=a),i&&i.headers.forEach((a,s)=>t[s]=a)}bo(t,n){const i=gw[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re="WebChannelConnection";class _w extends pw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,a){const s=Wh();return new Promise((l,o)=>{const u=new E0;u.setWithCredentials(!0),u.listenOnce(T0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zl.NO_ERROR:const d=u.getResponseJson();B(re,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),l(d);break;case Zl.TIMEOUT:B(re,`RPC '${t}' ${s} timed out`),o(new H(z.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:const p=u.getStatus();if(B(re,`RPC '${t}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const I=function(j){const R=j.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(R)>=0?R:z.UNKNOWN}(_.status);o(new H(I,_.message))}else o(new H(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new H(z.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(re,`RPC '${t}' ${s} completed.`)}});const h=JSON.stringify(a);B(re,`RPC '${t}' ${s} sending request:`,a),u.send(n,"POST",h,i,15)})}Wo(t,n,i){const a=Wh(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=S0(),o=b0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");B(re,`Creating RPC '${t}' stream ${a}: ${d}`,u);const p=l.createWebChannel(d,u);let g=!1,_=!1;const I=new yw({Fo:j=>{_?B(re,`Not sending because RPC '${t}' stream ${a} is closed:`,j):(g||(B(re,`Opening RPC '${t}' stream ${a} transport.`),p.open(),g=!0),B(re,`RPC '${t}' stream ${a} sending:`,j),p.send(j))},Mo:()=>p.close()}),M=(j,R,E)=>{j.listen(R,w=>{try{E(w)}catch(C){setTimeout(()=>{throw C},0)}})};return M(p,Ls.EventType.OPEN,()=>{_||(B(re,`RPC '${t}' stream ${a} transport opened.`),I.Qo())}),M(p,Ls.EventType.CLOSE,()=>{_||(_=!0,B(re,`RPC '${t}' stream ${a} transport closed`),I.Uo())}),M(p,Ls.EventType.ERROR,j=>{_||(_=!0,Ya(re,`RPC '${t}' stream ${a} transport errored:`,j),I.Uo(new H(z.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ls.EventType.MESSAGE,j=>{var R;if(!_){const E=j.data[0];ut(!!E);const w=E,C=(w==null?void 0:w.error)||((R=w[0])===null||R===void 0?void 0:R.error);if(C){B(re,`RPC '${t}' stream ${a} received error:`,C);const P=C.status;let q=function(T){const A=Ot[T];if(A!==void 0)return aE(A)}(P),v=C.message;q===void 0&&(q=z.INTERNAL,v="Unknown error status: "+P+" with message "+C.message),_=!0,I.Uo(new H(q,v)),p.close()}else B(re,`RPC '${t}' stream ${a} received:`,E),I.Ko(E)}}),M(o,A0.STAT_EVENT,j=>{j.stat===Bh.PROXY?B(re,`RPC '${t}' stream ${a} detected buffering proxy`):j.stat===Bh.NOPROXY&&B(re,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Pc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){return new AR(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,n,i=1e3,a=1.5,s=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=a,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&B("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="PersistentStream";class vE{constructor(t,n,i,a,s,l,o,u){this.Ti=t,this.n_=i,this.r_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _E(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{t(()=>{const a=new H(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return B(Jp,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(B(Jp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vw extends vE{constructor(t,n,i,a,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,l),this.serializer=s}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=RR(this.serializer,t),i=function(s){if(!("targetChange"in s))return F.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?F.min():l.readTime?ln(l.readTime):F.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=$h(this.serializer),n.addTarget=function(s,l){let o;const u=l.target;if(o=Kh(u)?{documents:DR(s,u)}:{query:NR(s,u).ht},o.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){o.resumeToken=lE(s,l.resumeToken);const h=Yh(s,l.expectedCount);h!==null&&(o.expectedCount=h)}else if(l.snapshotVersion.compareTo(F.min())>0){o.readTime=Ho(s,l.snapshotVersion.toTimestamp());const h=Yh(s,l.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=VR(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=$h(this.serializer),n.removeTarget=t,this.I_(n)}}class Ew extends vE{constructor(t,n,i,a,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,l),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return ut(!!t.streamToken),this.lastStreamToken=t.streamToken,ut(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=xR(t.writeResults,t.commitTime),i=ln(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=$h(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>wR(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{}class Aw extends Tw{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new H(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.So(t,Xh(n,i),a,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(z.UNKNOWN,s.toString())})}Co(t,n,i,a,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,o])=>this.connection.Co(t,Xh(n,i),a,l,o,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(z.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mn(n),this.N_=!1):B("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="RemoteStore";class Sw{constructor(t,n,i,a,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{i.enqueueAndForget(async()=>{Wi(this)&&(B(Qi,"Restarting streams for network reachability change."),await async function(u){const h=X(u);h.W_.add(4),await Yr(h),h.j_.set("Unknown"),h.W_.delete(4),await Ru(h)}(this))})}),this.j_=new bw(i,a)}}async function Ru(e){if(Wi(e))for(const t of e.G_)await t(!0)}async function Yr(e){for(const t of e.G_)await t(!1)}function EE(e,t){const n=X(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Ad(n)?Td(n):fs(n).c_()&&Ed(n,t))}function vd(e,t){const n=X(e),i=fs(n);n.K_.delete(t),i.c_()&&TE(n,t),n.K_.size===0&&(i.c_()?i.P_():Wi(n)&&n.j_.set("Unknown"))}function Ed(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(F.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fs(e).y_(t)}function TE(e,t){e.H_.Ne(t),fs(e).w_(t)}function Td(e){e.H_=new _R({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),fs(e).start(),e.j_.B_()}function Ad(e){return Wi(e)&&!fs(e).u_()&&e.K_.size>0}function Wi(e){return X(e).W_.size===0}function AE(e){e.H_=void 0}async function Rw(e){e.j_.set("Online")}async function ww(e){e.K_.forEach((t,n)=>{Ed(e,t)})}async function xw(e,t){AE(e),Ad(e)?(e.j_.q_(t),Td(e)):e.j_.set("Unknown")}async function Dw(e,t,n){if(e.j_.set("Online"),t instanceof rE&&t.state===2&&t.cause)try{await async function(a,s){const l=s.cause;for(const o of s.targetIds)a.K_.has(o)&&(await a.remoteSyncer.rejectListen(o,l),a.K_.delete(o),a.H_.removeTarget(o))}(e,t)}catch(i){B(Qi,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Qo(e,i)}else if(t instanceof to?e.H_.We(t):t instanceof sE?e.H_.Ze(t):e.H_.je(t),!n.isEqual(F.min()))try{const i=await yE(e.localStore);n.compareTo(i)>=0&&await function(s,l){const o=s.H_.ot(l);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.K_.get(h);d&&s.K_.set(h,d.withResumeToken(u.resumeToken,l))}}),o.targetMismatches.forEach((u,h)=>{const d=s.K_.get(u);if(!d)return;s.K_.set(u,d.withResumeToken(ne.EMPTY_BYTE_STRING,d.snapshotVersion)),TE(s,u);const p=new Jn(d.target,u,h,d.sequenceNumber);Ed(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){B(Qi,"Failed to raise snapshot:",i),await Qo(e,i)}}async function Qo(e,t,n){if(!hs(t))throw t;e.W_.add(1),await Yr(e),e.j_.set("Offline"),n||(n=()=>yE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B(Qi,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Ru(e)})}function bE(e,t){return t().catch(n=>Qo(e,n,t))}async function wu(e){const t=X(e),n=vi(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:rd;for(;Nw(t);)try{const a=await cw(t.localStore,i);if(a===null){t.U_.length===0&&n.P_();break}i=a.batchId,Cw(t,a)}catch(a){await Qo(t,a)}SE(t)&&RE(t)}function Nw(e){return Wi(e)&&e.U_.length<10}function Cw(e,t){e.U_.push(t);const n=vi(e);n.c_()&&n.S_&&n.b_(t.mutations)}function SE(e){return Wi(e)&&!vi(e).u_()&&e.U_.length>0}function RE(e){vi(e).start()}async function Vw(e){vi(e).C_()}async function Iw(e){const t=vi(e);for(const n of e.U_)t.b_(n.mutations)}async function Mw(e,t,n){const i=e.U_.shift(),a=fd.from(i,t,n);await bE(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await wu(e)}async function Ow(e,t){t&&vi(e).S_&&await async function(i,a){if(function(l){return pR(l)&&l!==z.ABORTED}(a.code)){const s=i.U_.shift();vi(i).h_(),await bE(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,a)),await wu(i)}}(e,t),SE(e)&&RE(e)}async function Wp(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),B(Qi,"RemoteStore received new credentials");const i=Wi(n);n.W_.add(3),await Yr(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Ru(n)}async function Uw(e,t){const n=X(e);t?(n.W_.delete(2),await Ru(n)):t||(n.W_.add(2),await Yr(n),n.j_.set("Unknown"))}function fs(e){return e.J_||(e.J_=function(n,i,a){const s=X(n);return s.M_(),new vw(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{xo:Rw.bind(null,e),No:ww.bind(null,e),Lo:xw.bind(null,e),p_:Dw.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Ad(e)?Td(e):e.j_.set("Unknown")):(await e.J_.stop(),AE(e))})),e.J_}function vi(e){return e.Y_||(e.Y_=function(n,i,a){const s=X(n);return s.M_(),new Ew(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Vw.bind(null,e),Lo:Ow.bind(null,e),D_:Iw.bind(null,e),v_:Mw.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await wu(e)):(await e.Y_.stop(),e.U_.length>0&&(B(Qi,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,i,a,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,s){const l=Date.now()+i,o=new bd(t,n,l,a,s);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(e,t){if(Mn("AsyncQueue",`${t}: ${e}`),hs(e))return new H(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Ps(),this.sortedSet=new Rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ja;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Z_=new Rt(G.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Q():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Wa{constructor(t,n,i,a,s,l,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,s){const l=[];return n.forEach(o=>{l.push({type:0,doc:o})}),new Wa(t,n,ja.emptySet(n),l,i,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class zw{constructor(){this.queries=ey(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=X(n),s=a.queries;a.queries=ey(),s.forEach((l,o)=>{for(const u of o.ta)u.onError(i)})})(this,new H(z.ABORTED,"Firestore shutting down"))}}function ey(){return new $i(e=>Q0(e),vu)}async function Lw(e,t){const n=X(e);let i=3;const a=t.query;let s=n.queries.get(a);s?!s.na()&&t.ra()&&(i=2):(s=new jw,i=t.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(a,!0);break;case 1:s.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const o=Sd(l,`Initialization of query '${fa(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Rd(n)}async function Pw(e,t){const n=X(e),i=t.query;let a=3;const s=n.queries.get(i);if(s){const l=s.ta.indexOf(t);l>=0&&(s.ta.splice(l,1),s.ta.length===0?a=t.ra()?0:1:!s.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function kw(e,t){const n=X(e);let i=!1;for(const a of t){const s=a.query,l=n.queries.get(s);if(l){for(const o of l.ta)o.oa(a)&&(i=!0);l.ea=a}}i&&Rd(n)}function Bw(e,t,n){const i=X(e),a=i.queries.get(t);if(a)for(const s of a.ta)s.onError(n);i.queries.delete(t)}function Rd(e){e.ia.forEach(t=>{t.next()})}var tf,ny;(ny=tf||(tf={}))._a="default",ny.Cache="cache";class qw{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Wa(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class Hw{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=nt(),this.mutatedKeys=nt(),this.ya=K0(t),this.wa=new ja(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new ty,a=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,p)=>{const g=a.get(d),_=Eu(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let j=!1;g&&_?g.data.isEqual(_.data)?I!==M&&(i.track({type:3,doc:_}),j=!0):this.va(g,_)||(i.track({type:2,doc:_}),j=!0,(u&&this.ya(_,u)>0||h&&this.ya(_,h)<0)&&(o=!0)):!g&&_?(i.track({type:0,doc:_}),j=!0):g&&!_&&(i.track({type:1,doc:g}),j=!0,(u||h)&&(o=!0)),j&&(_?(l=l.add(_),s=M?s.add(d):s.delete(d)):(l=l.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:l,Da:i,ls:o,mutatedKeys:s}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const s=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((d,p)=>function(_,I){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return M(_)-M(I)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(i),a=a!=null&&a;const o=n&&!a?this.Fa():[],u=this.pa.size===0&&this.current&&!a?1:0,h=u!==this.ga;return this.ga=u,l.length!==0||h?{snapshot:new Wa(this.query,t.wa,s,l,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ty,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=nt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new xE(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new wE(i))}),n}Oa(t){this.fa=t.gs,this.pa=nt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Wa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wd="SyncEngine";class Gw{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Qw{constructor(t){this.key=t,this.Ba=!1}}class Kw{constructor(t,n,i,a,s,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new $i(o=>Q0(o),vu),this.qa=new Map,this.Qa=new Set,this.$a=new Rt(G.comparator),this.Ua=new Map,this.Ka=new gd,this.Wa={},this.Ga=new Map,this.za=Ja.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Fw(e,t,n=!0){const i=ME(e);let a;const s=i.ka.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Na()):a=await DE(i,t,n,!0),a}async function Yw(e,t){const n=ME(e);await DE(n,t,!0,!1)}async function DE(e,t,n,i){const a=await hw(e.localStore,rn(t)),s=a.targetId,l=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await Xw(e,t,s,l==="current",a.resumeToken)),e.isPrimaryClient&&n&&EE(e.remoteStore,a),o}async function Xw(e,t,n,i,a){e.Ha=(p,g,_)=>async function(M,j,R,E){let w=j.view.ba(R);w.ls&&(w=await Yp(M.localStore,j.query,!1).then(({documents:v})=>j.view.ba(v,w)));const C=E&&E.targetChanges.get(j.targetId),P=E&&E.targetMismatches.get(j.targetId)!=null,q=j.view.applyChanges(w,M.isPrimaryClient,C,P);return ay(M,j.targetId,q.Ma),q.snapshot}(e,p,g,_);const s=await Yp(e.localStore,t,!0),l=new Hw(t,s.gs),o=l.ba(s.documents),u=Fr.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=l.applyChanges(o,e.isPrimaryClient,u);ay(e,n,h.Ma);const d=new Gw(t,n,l);return e.ka.set(t,d),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),h.snapshot}async function Zw(e,t,n){const i=X(e),a=i.ka.get(t),s=i.qa.get(a.targetId);if(s.length>1)return i.qa.set(a.targetId,s.filter(l=>!vu(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Jh(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&vd(i.remoteStore,a.targetId),ef(i,a.targetId)}).catch(cs)):(ef(i,a.targetId),await Jh(i.localStore,a.targetId,!0))}async function $w(e,t){const n=X(e),i=n.ka.get(t),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vd(n.remoteStore,i.targetId))}async function Jw(e,t,n){const i=sx(e);try{const a=await function(l,o){const u=X(l),h=Bt.now(),d=o.reduce((_,I)=>_.add(I.key),nt());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=On(),M=nt();return u.ds.getEntries(_,d).next(j=>{I=j,I.forEach((R,E)=>{E.isValidDocument()||(M=M.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,I)).next(j=>{p=j;const R=[];for(const E of o){const w=hR(E,p.get(E.key).overlayedDocument);w!=null&&R.push(new Ji(E.key,w,z0(w.value.mapValue),xn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,R,o)}).next(j=>{g=j;const R=j.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(_,j.batchId,R)})}).then(()=>({batchId:g.batchId,changes:Y0(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(l,o,u){let h=l.Wa[l.currentUser.toKey()];h||(h=new Rt(J)),h=h.insert(o,u),l.Wa[l.currentUser.toKey()]=h}(i,a.batchId,n),await Xr(i,a.changes),await wu(i.remoteStore)}catch(a){const s=Sd(a,"Failed to persist write");n.reject(s)}}async function NE(e,t){const n=X(e);try{const i=await ow(n.localStore,t);t.targetChanges.forEach((a,s)=>{const l=n.Ua.get(s);l&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.Ba=!0:a.modifiedDocuments.size>0?ut(l.Ba):a.removedDocuments.size>0&&(ut(l.Ba),l.Ba=!1))}),await Xr(n,i,t)}catch(i){await cs(i)}}function iy(e,t,n){const i=X(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((s,l)=>{const o=l.view.sa(t);o.snapshot&&a.push(o.snapshot)}),function(l,o){const u=X(l);u.onlineState=o;let h=!1;u.queries.forEach((d,p)=>{for(const g of p.ta)g.sa(o)&&(h=!0)}),h&&Rd(u)}(i.eventManager,t),a.length&&i.La.p_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ww(e,t,n){const i=X(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Ua.get(t),s=a&&a.key;if(s){let l=new Rt(G.comparator);l=l.insert(s,oe.newNoDocument(s,F.min()));const o=nt().add(s),u=new bu(F.min(),new Map,new Rt(J),l,o);await NE(i,u),i.$a=i.$a.remove(s),i.Ua.delete(t),xd(i)}else await Jh(i.localStore,t,!1).then(()=>ef(i,t,n)).catch(cs)}async function tx(e,t){const n=X(e),i=t.batch.batchId;try{const a=await lw(n.localStore,t);VE(n,i,null),CE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xr(n,a)}catch(a){await cs(a)}}async function ex(e,t,n){const i=X(e);try{const a=await function(l,o){const u=X(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(ut(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);VE(i,t,n),CE(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Xr(i,a)}catch(a){await cs(a)}}function CE(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function VE(e,t,n){const i=X(e);let a=i.Wa[i.currentUser.toKey()];if(a){const s=a.get(t);s&&(n?s.reject(n):s.resolve(),a=a.remove(t)),i.Wa[i.currentUser.toKey()]=a}}function ef(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||IE(e,i)})}function IE(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(vd(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),xd(e))}function ay(e,t,n){for(const i of n)i instanceof wE?(e.Ka.addReference(i.key,t),nx(e,i)):i instanceof xE?(B(wd,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||IE(e,i.key)):Q()}function nx(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(B(wd,"New document in limbo: "+n),e.Qa.add(i),xd(e))}function xd(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new G(Tt.fromString(t)),i=e.za.next();e.Ua.set(i,new Qw(n)),e.$a=e.$a.insert(n,i),EE(e.remoteStore,new Jn(rn(G0(n.path)),i,"TargetPurposeLimboResolution",gu.ae))}}async function Xr(e,t,n){const i=X(e),a=[],s=[],l=[];i.ka.isEmpty()||(i.ka.forEach((o,u)=>{l.push(i.Ha(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=yd.Yi(u.targetId,h);s.push(p)}}))}),await Promise.all(l),i.La.p_(a),await async function(u,h){const d=X(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(h,g=>O.forEach(g.Hi,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>O.forEach(g.Ji,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!hs(p))throw p;B(_d,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const _=d.Ts.get(g),I=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(I);d.Ts=d.Ts.insert(g,M)}}}(i.localStore,s))}async function ix(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){B(wd,"User change. New user:",t.toKey());const i=await pE(n.localStore,t);n.currentUser=t,function(s,l){s.Ga.forEach(o=>{o.forEach(u=>{u.reject(new H(z.CANCELLED,l))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Xr(n,i.Rs)}}function ax(e,t){const n=X(e),i=n.Ua.get(t);if(i&&i.Ba)return nt().add(i.key);{let a=nt();const s=n.qa.get(t);if(!s)return a;for(const l of s){const o=n.ka.get(l);a=a.unionWith(o.view.Sa)}return a}}function ME(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ax.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ww.bind(null,t),t.La.p_=kw.bind(null,t.eventManager),t.La.Ja=Bw.bind(null,t.eventManager),t}function sx(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ex.bind(null,t),t}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Su(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return rw(this.persistence,new iw,t.initialUser,this.serializer)}Xa(t){return new gE(pd.ri,this.serializer)}Za(t){return new dw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class rx extends Ko{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){ut(this.persistence.referenceDelegate instanceof Go);const i=this.persistence.referenceDelegate.garbageCollector;return new qR(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?ve.withCacheSize(this.cacheSizeBytes):ve.DEFAULT;return new gE(i=>Go.ri(i,n),this.serializer)}}class nf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ix.bind(null,this.syncEngine),await Uw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new zw}()}createDatastore(t){const n=Su(t.databaseInfo.databaseId),i=function(s){return new _w(s)}(t.databaseInfo);return function(s,l,o,u){return new Aw(s,l,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,s,l,o){return new Sw(i,a,s,l,o)}(this.localStore,this.datastore,t.asyncQueue,n=>iy(this.syncEngine,n,0),function(){return $p.D()?new $p:new mw}())}createSyncEngine(t,n){return function(a,s,l,o,u,h,d){const p=new Kw(a,s,l,o,u,h);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const s=X(a);B(Qi,"RemoteStore shutting down."),s.W_.add(5),await Yr(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nf.provider={build:()=>new nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class ox{constructor(t,n,i,a,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=le.UNAUTHENTICATED,this.clientId=x0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async l=>{B(Ei,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(B(Ei,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Sd(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function kc(e,t){e.asyncQueue.verifyOperationInProgress(),B(Ei,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await pE(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ux(e);B(Ei,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Wp(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>Wp(t.remoteStore,a)),e._onlineComponents=t}async function ux(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B(Ei,"Using user provided OfflineComponentProvider");try{await kc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===z.FAILED_PRECONDITION||a.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await kc(e,new Ko)}}else B(Ei,"Using default OfflineComponentProvider"),await kc(e,new rx(void 0));return e._offlineComponents}async function OE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B(Ei,"Using user provided OnlineComponentProvider"),await sy(e,e._uninitializedComponentsProvider._online)):(B(Ei,"Using default OnlineComponentProvider"),await sy(e,new nf))),e._onlineComponents}function cx(e){return OE(e).then(t=>t.syncEngine)}async function hx(e){const t=await OE(e),n=t.eventManager;return n.onListen=Fw.bind(null,t.syncEngine),n.onUnlisten=Zw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Yw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$w.bind(null,t.syncEngine),n}function fx(e,t,n={}){const i=new ci;return e.asyncQueue.enqueueAndForget(async()=>function(s,l,o,u,h){const d=new lx({next:g=>{d.su(),l.enqueueAndForget(()=>Pw(s,p)),g.fromCache&&u.source==="server"?h.reject(new H(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new qw(o,d,{includeMetadataChanges:!0,Ta:!0});return Lw(s,p)}(await hx(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t,n){if(!n)throw new H(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dx(e,t,n,i){if(t===!0&&i===!0)throw new H(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ly(e){if(!G.isDocumentKey(e))throw new H(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oy(e){if(G.isDocumentKey(e))throw new H(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Dd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function Fo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dd(e);throw new H(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",uy=!0;class cy{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new H(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=uy}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:uy;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kR)throw new H(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xu{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new g2;switch(i.type){case"firstParty":return new v2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ry.get(n);i&&(B("ComponentProvider","Removing Datastore"),ry.delete(n),i.terminate())}(this),Promise.resolve()}}function mx(e,t,n,i={}){var a;const s=(e=Fo(e,xu))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==zE&&s.host!==o&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:i});if(!Oo(u,l)&&(e._setSettings(u),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=le.MOCK_USER;else{h=Yb(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new H(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new le(p)}e._authCredentials=new p2(new R0(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class Xe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}}class hi extends Du{constructor(t,n,i){super(t,n,G0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new G(t))}withConverter(t){return new hi(this.firestore,t,this._path)}}function Yo(e,t,...n){if(e=Er(e),jE("collection","path",t),e instanceof xu){const i=Tt.fromString(t,...n);return oy(i),new hi(e,null,i)}{if(!(e instanceof Xe||e instanceof hi))throw new H(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Tt.fromString(t,...n));return oy(i),new hi(e.firestore,null,i)}}function gx(e,t,...n){if(e=Er(e),arguments.length===1&&(t=x0.newId()),jE("doc","path",t),e instanceof xu){const i=Tt.fromString(t,...n);return ly(i),new Xe(e,null,new G(i))}{if(!(e instanceof Xe||e instanceof hi))throw new H(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Tt.fromString(t,...n));return ly(i),new Xe(e.firestore,e instanceof hi?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="AsyncQueue";class fy{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _E(this,"async_queue_retry"),this.Su=()=>{const i=Pc();i&&B(hy,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Pc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Pc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ci;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!hs(t))throw t;B(hy,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const a=function(l){let o=l.message||"";return l.stack&&(o=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),o}(i);throw Mn("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=bd.createAndSchedule(this,t,n,i,s=>this.Fu(s));return this.fu.push(a),a}Du(){this.gu&&Q()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Nd extends xu{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new fy,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fy(t),this._firestoreClient=void 0,await t}}}function px(e,t){const n=typeof e=="object"?e:a2(),i=typeof e=="string"?e:Lo,a=WS(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const s=Kb("firestore");s&&mx(a,...s)}return a}function LE(e){if(e._terminated)throw new H(z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yx(e),e._firestoreClient}function yx(e){var t,n,i;const a=e._freezeSettings(),s=function(o,u,h,d){return new O2(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,UE(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new ox(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ts(ne.fromBase64String(t))}catch(n){throw new H(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ts(ne.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return J(this._lat,t._lat)||J(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==a[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=/^__.*__$/;class vx{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kr(t,this.data,n,this.fieldTransforms)}}function PE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Od{constructor(t,n,i,a,s,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Od(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:i,Qu:!1});return a.$u(t),a}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Xo(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(PE(this.Lu)&&_x.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ex{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Su(t)}ju(t,n,i,a=!1){return new Od({Lu:t,methodName:n,zu:i,path:te.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tx(e){const t=e._freezeSettings(),n=Su(e._databaseId);return new Ex(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ax(e,t,n,i,a,s={}){const l=e.ju(s.merge||s.mergeFields?2:0,t,n,a);HE("Data must be an object, but it was:",l,i);const o=BE(i,l);let u,h;if(s.merge)u=new Fe(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=bx(t,p,n);if(!l.contains(g))throw new H(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Rx(d,g)||d.push(g)}u=new Fe(d),h=l.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=l.fieldTransforms;return new vx(new Pe(o),u,h)}class Ud extends Vd{_toFieldTransform(t){return new lR(t.path,new xr)}isEqual(t){return t instanceof Ud}}function kE(e,t){if(qE(e=Er(e)))return HE("Unsupported field value:",t,e),BE(e,t);if(e instanceof Vd)return function(i,a){if(!PE(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,a){const s=[];let l=0;for(const o of i){let u=kE(o,a.Ku(l));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),l++}return{arrayValue:{values:s}}}(e,t)}return function(i,a){if((i=Er(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aR(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Bt.fromDate(i);return{timestampValue:Ho(a.serializer,s)}}if(i instanceof Bt){const s=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ho(a.serializer,s)}}if(i instanceof Id)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ts)return{bytesValue:lE(a.serializer,i._byteString)};if(i instanceof Xe){const s=a.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw a.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:md(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Md)return function(l,o){return{mapValue:{fields:{[U0]:{stringValue:j0},[Po]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw o.Wu("VectorValues must only contain numeric values.");return hd(o.serializer,h)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Dd(i)}`)}(e,t)}function BE(e,t){const n={};return N0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(e,(i,a)=>{const s=kE(a,t.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function qE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof Id||e instanceof ts||e instanceof Xe||e instanceof Vd||e instanceof Md)}function HE(e,t,n){if(!qE(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Dd(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function bx(e,t,n){if((t=Er(t))instanceof Cd)return t._internalPath;if(typeof t=="string")return GE(e,t);throw Xo("Field path arguments must be of type string or ",e,!1,void 0,n)}const Sx=new RegExp("[~\\*/\\[\\]]");function GE(e,t,n){if(t.search(Sx)>=0)throw Xo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cd(...t.split("."))._internalPath}catch{throw Xo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xo(e,t,n,i,a){const s=i&&!i.isEmpty(),l=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||l)&&(u+=" (found",s&&(u+=` in field ${i}`),l&&(u+=` in document ${a}`),u+=")"),new H(z.INVALID_ARGUMENT,o+e+u)}function Rx(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n,i,a,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(KE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wx extends QE{data(){return super.data()}}function KE(e,t){return typeof t=="string"?GE(e,t):t instanceof Cd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dx{convertValue(t,n="none"){switch(_i(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(yi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Zi(t,(a,s)=>{i[a]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,a;const s=(a=(i=(n=t.fields)===null||n===void 0?void 0:n[Po].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(l=>It(l.doubleValue));return new Md(s)}convertGeoPoint(t){return new Id(It(t.latitude),It(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=yu(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sr(t));default:return null}}convertTimestamp(t){const n=pi(t);return new Bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Tt.fromString(t);ut(dE(i));const a=new Rr(i.get(1),i.get(3)),s=new G(i.popFirst(5));return a.isEqual(n)||Mn(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cx extends QE{constructor(t,n,i,a,s,l){super(t,n,i,a,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class eo extends Cx{data(t={}){return super.data(t)}}class Vx{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new jl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new eo(this._firestore,this._userDataWriter,i.key,i,new jl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(o=>{const u=new eo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new jl(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new eo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new jl(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=l.indexOf(o.doc.key),l=l.delete(o.doc.key)),o.type!==1&&(l=l.add(o.doc),d=l.indexOf(o.doc.key)),{type:Ix(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ix(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class Mx extends Dx{constructor(t){super(),this.firestore=t}convertBytes(t){return new ts(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function FE(e){e=Fo(e,Du);const t=Fo(e.firestore,Nd),n=LE(t),i=new Mx(t);return xx(e._query),fx(n,e._query).then(a=>new Vx(t,i,e,a))}function YE(e,t){const n=Fo(e.firestore,Nd),i=gx(e),a=Nx(e.converter,t);return Ox(n,[Ax(Tx(e.firestore),"addDoc",i._key,a,e.converter!==null,{}).toMutation(i._key,xn.exists(!1))]).then(()=>i)}function Ox(e,t){return function(i,a){const s=new ci;return i.asyncQueue.enqueueAndForget(async()=>Jw(await cx(i),a,s)),s.promise}(LE(e),t)}function Ux(){return new Ud("serverTimestamp")}(function(t,n=!0){(function(a){us=a})(i2),jo(new Tr("firestore",(i,{instanceIdentifier:a,options:s})=>{const l=i.getProvider("app").getImmediate(),o=new Nd(new y2(i.getProvider("auth-internal")),new E2(l,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rr(h.options.projectId,d)}(l,a),l);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ua(_p,vp,t),Ua(_p,vp,"esm2017")})();var jx="firebase",zx="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(jx,zx,"app");const Lx={apiKey:"AIzaSyDmVHZF_qgAn5Gs5Bn4aSturTi3CNmkXas",authDomain:"soul-ki.firebaseapp.com",projectId:"soul-ki",storageBucket:"soul-ki.firebasestorage.app",messagingSenderId:"919924992735",appId:"1:919924992735:web:e3ae699945446044a9176a",measurementId:"G-9T4BHBSNWM"},Px=p0(Lx),Zo=px(Px);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Lt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:s,iconNode:l,...o},u)=>Lt.createElement("svg",{ref:u,...Bx,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:XE("lucide",a),...o},[...l.map(([h,d])=>Lt.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const n=Lt.forwardRef(({className:i,...a},s)=>Lt.createElement(qx,{ref:s,iconNode:t,className:XE(`lucide-${kx(e)}`,i),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=He("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=He("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=He("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),e4=()=>S.jsx("section",{id:"home",className:"w-full bg-gradient-to-r from-teal-50 to-blue-50 py-20 md:py-32",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs("div",{className:"flex flex-col max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-800 mb-4",children:"Restaura tu bienestar natural"}),S.jsx("p",{className:"text-lg text-gray-600 mb-4 max-w-3xl mx-auto",children:"SOUL-KI provee tratamientos personalizados osteopticos no invasivos que se enfocan en combatir la raiz del dolor, no solo los sintomas."}),S.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-3xl mx-auto",children:"Experimenta nuestro enfoque holistico para mejorar la movilidad y el bienestar, adaptado especficamente para aquellos que buscan soluciones completas y naturales para el malestar fsico."}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[S.jsx("a",{href:"#contact",className:"bg-teal-600 hover:bg-teal-700 text-white py-3 px-6 rounded-md transition-colors inline-flex items-center justify-center",children:"Programa una consulta"}),S.jsxs("a",{href:"#about",className:"bg-white hover:bg-gray-100 text-teal-600 border border-teal-600 py-3 px-6 rounded-md transition-colors inline-flex items-center justify-center",children:["Descubre nuestro enfoque"," ",S.jsx(Gx,{size:18,className:"ml-2"})]})]})]}),S.jsx("div",{className:"w-full max-w-3xl mx-auto",children:S.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden shadow-lg",children:S.jsxs("video",{className:"w-full h-full object-cover",controls:!0,poster:"/src/assets/videos/thumbnail3.jpg",children:[S.jsx("source",{src:"/src/assets/videos/video3.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})]})})}),n4=()=>S.jsx("section",{id:"about",className:"w-full bg-white py-20",children:S.jsxs("div",{className:"container mx-auto px-4",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Acerca de SOUL-KI"}),S.jsx("div",{className:"w-24 h-1 bg-teal-500 mx-auto mb-6"}),S.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Fundado a base de experiencia personal y administrado con pasion por la medicina holistica."})]}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center mb-16",children:[S.jsxs("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:[S.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Nuestra Misin y Visin"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"En SOUL-KI, nos dedicamos a brindar servicios profesionales que ayudan a los pacientes a restaurar su bienestar fsico a travs de alternativas no invasivas, ayudndoles a recuperar su movilidad de manera natural y armnica."}),S.jsx("p",{className:"text-gray-600 mb-8",children:"Nuestra vision es ser el centro de bienestar integral lder que ayuda a los pacientes a recuperar su salud y movilidad a travs de un enfoque personalizado y holstico, abordando las causas raz en lugar de solo tratar los sntomas."})]}),S.jsx("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:S.jsx("div",{className:"aspect-[9/16] max-w-[280px] mx-auto bg-gray-100 rounded-lg overflow-hidden shadow-lg",children:S.jsxs("video",{className:"w-full h-full object-contain",controls:!0,poster:"/src/assets/videos/thumbnail1.jpg",children:[S.jsx("source",{src:"/src/assets/videos/video1.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})]}),S.jsx("div",{className:"bg-teal-50 rounded-lg p-8 mb-16",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[S.jsx("div",{className:"w-full md:w-1/3 flex justify-center",children:S.jsx("div",{className:"w-full max-w-[260px] aspect-[2/3] rounded-lg shadow-md overflow-hidden",children:S.jsx("img",{src:"/PedroHead.JPG",alt:"Pedro Martinez Muos - Fundador de SOUL-KI",className:"w-full h-full object-cover object-[35%_15%]"})})}),S.jsxs("div",{className:"w-full md:w-2/3",children:[S.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"El Fundador"}),S.jsx("p",{className:"text-gray-600 mb-4",children:"SOUL-KI fue fundado por Pedro Martinez Muos hace 8 aos, inspirado por su propio viaje a travs la superacion del dolor crnico y el estrs. Despus de descubrir el poder transformador de la osteopata en su propio proceso de sanacin, Pedro hizo la transicin de ser paciente a convertirse en un terapeuta osteopatico."}),S.jsx("p",{className:"text-gray-600",children:"Esta experiencia personal lo llev a fundar SOUL-KI, un centro de bienestar integral que combina su pasin por la medicina holstica con un enfoque profesional y responsable. En SOUL-KI, entendemos que cada paciente es nico y que su bienestar es nuestra prioridad. La experiencia de Pedro como paciente y terapeuta le ha enseado la importancia de un enfoque personalizado y compasivo en la atencin mdica. Su compromiso con la excelencia profesional y su deseo de ayudar a otros a superar sus propios desafos de salud son la base de nuestra misin. En SOUL-KI, creemos que la sanacin va ms all de los tratamientos fsicos; se trata de un viaje hacia el bienestar integral. Nos esforzamos por crear un ambiente acogedor y de apoyo donde cada paciente se sienta valorado y comprendido."})]})]})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{icon:S.jsx(Yx,{size:24,className:"text-teal-600"}),title:"Atencion Personalizada",description:"Atencion individual y adaptada a cada paciente"},{icon:S.jsx(Zx,{size:24,className:"text-teal-600"}),title:"Excelecia Profesional",description:"Estamos comprometidos a tener los estandares mas altos en su cuidado y responsabilidad."},{icon:S.jsx(Jx,{size:24,className:"text-teal-600"}),title:"Enfoque Holstico",description:"Estamos comprometidos a tratar al paciente a no solo tratar los simptomas del paciente sino a tratar a la persona de modo completo, asegurandonos de una sanacion mas completa."},{icon:S.jsx(Fx,{size:24,className:"text-teal-600"}),title:"servicio Eficiente",description:"Somos concientes del valor de tu tiempo, y nos enorgullese nuestro tratado a tiempo."}].map((e,t)=>S.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white rounded-lg shadow-sm",children:[S.jsx("div",{className:"bg-teal-50 p-4 rounded-full mb-4",children:e.icon}),S.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:e.title}),S.jsx("p",{className:"text-sm text-gray-600",children:e.description})]},t))})]})}),i4=()=>S.jsx("section",{id:"services",className:"w-full bg-teal-50 py-20",children:S.jsxs("div",{className:"container mx-auto px-4",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Nuestros Servicios"}),S.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Tratamiento especializado para aquellos que experimentan disconforte fisico, comun devido a la vida moderna."}),S.jsx("div",{className:"w-24 h-1 bg-teal-500 mx-auto mt-4"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md transition-transform hover:transform hover:scale-105",children:[S.jsx("div",{className:"bg-teal-100 p-3 rounded-full w-14 h-14 flex items-center justify-center mb-4",children:S.jsx(Hx,{size:24,className:"text-teal-600"})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Asesoria de postura"}),S.jsx("p",{className:"text-gray-600",children:"Evaluacion comprensiva enfocada en la ergonomia y el movimiento."})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md transition-transform hover:transform hover:scale-105",children:[S.jsx("div",{className:"bg-teal-100 p-3 rounded-full w-14 h-14 flex items-center justify-center mb-4",children:S.jsx(Qx,{size:24,className:"text-teal-600"})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tratamiento de Alivio de Estrs."}),S.jsx("p",{className:"text-gray-600",children:"Tecnicas especializadas para abordar las manifestaciones fisicas del estres y mejorar el bienestar general."})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md transition-transform hover:transform hover:scale-105",children:[S.jsx("div",{className:"bg-teal-100 p-3 rounded-full w-14 h-14 flex items-center justify-center mb-4",children:S.jsx(t4,{size:24,className:"text-teal-600"})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Terapia de Movimiento"}),S.jsx("p",{className:"text-gray-600",children:"Ejercicios y tecnicas personalizadas para aquellos que pasan largas horas sentados o con movilidad limitada."})]}),S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md transition-transform hover:transform hover:scale-105",children:[S.jsx("div",{className:"bg-teal-100 p-3 rounded-full w-14 h-14 flex items-center justify-center mb-4",children:S.jsx(Kx,{size:24,className:"text-teal-600"})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Programa de recuperacion"}),S.jsx("p",{className:"text-gray-600",children:"tratamiento especializado para la recuperacion de esguinces, torceduras y otras condiciones que limitan la movilidad."})]})]}),S.jsxs("div",{className:"mt-16 bg-white p-8 rounded-lg shadow-md",children:[S.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Ayudamos a"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Trabajadores de Oficina"}),S.jsx("p",{className:"text-gray-600",children:"Soluciones para quienes experimentan molestias por estar sentados durante mucho tiempo y el uso de computadoras"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Adultos Activos"}),S.jsx("p",{className:"text-gray-600",children:"Soporte para mantener la movilidad y prevenir lesiones relacionadas por actividad fisica."})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Pacientes en Recuperacion"}),S.jsx("p",{className:"text-gray-600",children:"Cuidado especializado para quienes se recuperan de lesiones o condiciones crnicas."})]})]})]})]})}),a4=()=>S.jsx("section",{id:"treatments",className:"w-full bg-white py-20",children:S.jsxs("div",{className:"container mx-auto px-4",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Metodos de Tratamiento"}),S.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Nuestro enfoque comnina varias tecnicas no invasivas para proporcionar un cuidado holistico para tu cuerpo y mente."}),S.jsx("div",{className:"w-24 h-1 bg-teal-500 mx-auto mt-4"})]}),S.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[S.jsxs("div",{className:"w-full lg:w-2/3",children:[S.jsxs("div",{className:"mb-10",children:[S.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[S.jsx("span",{className:"bg-teal-100 text-teal-700 rounded-full w-8 h-8 inline-flex items-center justify-center mr-3",children:"1"}),"Manipulacion de Tejido Blando"]}),S.jsx("p",{className:"text-gray-600 ml-11",children:"Estiramiento suave, presion y resistencia para liberar tension en los musculos y tejidos conectivos, mejorando la circulacion y movilidad."})]}),S.jsxs("div",{className:"mb-10",children:[S.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[S.jsx("span",{className:"bg-teal-100 text-teal-700 rounded-full w-8 h-8 inline-flex items-center justify-center mr-3",children:"2"}),"Mobilizacion de Articulaciones"]}),S.jsx("p",{className:"text-gray-600 ml-11",children:"Tecnicas para mejorar el rango de movimiento y la funcion de las articulaciones, reduciendo la rigidez y el dolor mientras se mejora la movilidad general."})]}),S.jsxs("div",{className:"mb-10",children:[S.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[S.jsx("span",{className:"bg-teal-100 text-teal-700 rounded-full w-8 h-8 inline-flex items-center justify-center mr-3",children:"3"}),"Manipulacion Viseral"]}),S.jsx("p",{className:"text-gray-600 ml-11",children:"Manipulacion suave de los organos internos para mejorar su funcion y liberar restricciones que pueden estar causando dolor o disfuncion."})]})]}),S.jsx("div",{className:"w-full lg:w-1/3",children:S.jsxs("div",{className:"bg-teal-50 p-6 rounded-lg sticky top-4",children:[S.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Nuestro Enfoque"}),S.jsx("p",{className:"text-gray-600",children:"cada tratamiento en SOUL-KI es adaptado a tus necesidades especificas. Nuestros terapeutas combinan estos metodos para crear un plan de tratamiento integral que aborda tus preocupaciones y objetivos unicos."})]})})]})]})}),s4=()=>{const[e,t]=Lt.useState([]),[n,i]=Lt.useState(!0),[a,s]=Lt.useState(null),[l,o]=Lt.useState(!1),[u,h]=Lt.useState({name:"",quote:"",rating:5});Lt.useEffect(()=>{d()},[]);const d=async()=>{try{const _=(await FE(Yo(Zo,"testimonials"))).docs.map(I=>({id:I.id,...I.data()}));_.sort((I,M)=>!I.timestamp||!M.timestamp?0:M.timestamp.seconds-I.timestamp.seconds),t(_),i(!1)}catch(g){console.error("Error fetching testimonials:",g),s("Failed to load testimonials. Please try again later."),i(!1)}},p=async g=>{g.preventDefault();try{await YE(Yo(Zo,"testimonials"),{...u,timestamp:Ux()}),h({name:"",quote:"",rating:5}),o(!1),d()}catch(_){console.error("Error adding testimonial:",_),s("Failed to submit testimonial. Please try again.")}};return n?S.jsx("section",{id:"testimonials",className:"w-full bg-teal-50 py-20",children:S.jsx("div",{className:"container mx-auto px-4 text-center",children:S.jsx("p",{children:"Loading testimonials..."})})}):a?S.jsx("section",{id:"testimonials",className:"w-full bg-teal-50 py-20",children:S.jsx("div",{className:"container mx-auto px-4 text-center text-red-600",children:a})}):S.jsx("section",{id:"testimonials",className:"w-full bg-teal-50 py-20",children:S.jsxs("div",{className:"container mx-auto px-4",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Testimonios de nuestros pacientes"}),S.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"No solo tome nuestra palabra. Escuche lo que nuestros clientes tienen que decir acerca de sus experiencias con nosotros."}),S.jsx("div",{className:"w-24 h-1 bg-teal-500 mx-auto mt-4"}),S.jsx("button",{onClick:()=>o(!l),className:"mt-8 bg-teal-500 text-white px-6 py-2 rounded-lg hover:bg-teal-600 transition-colors",children:l?"Cancelar":"Compartir tu experiencia"})]}),l&&S.jsx("div",{className:"max-w-2xl mx-auto mb-16 bg-white p-6 rounded-lg shadow-lg",children:S.jsxs("form",{onSubmit:p,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre"}),S.jsx("input",{type:"text",value:u.name,onChange:g=>h({...u,name:g.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700 mb-2",children:"Tu experiencia"}),S.jsx("textarea",{value:u.quote,onChange:g=>h({...u,quote:g.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",rows:4,required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-gray-700 mb-2",children:"Calificacin"}),S.jsx("select",{value:u.rating,onChange:g=>h({...u,rating:Number(g.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md",children:[5,4,3,2,1].map(g=>S.jsxs("option",{value:g,children:[g," estrellas"]},g))})]}),S.jsx("button",{type:"submit",className:"w-full bg-teal-500 text-white py-2 rounded-lg hover:bg-teal-600 transition-colors",children:"Enviar testimonio"})]})}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(g=>S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[S.jsx("div",{className:"mb-4",children:S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:g.name}),S.jsx("div",{className:"flex mb-4",children:[...Array(g.rating)].map((_,I)=>S.jsx($x,{size:16,className:"text-yellow-400 fill-current"},I))})]})}),S.jsxs("p",{className:"text-gray-600 italic",children:['"',g.quote,'"']})]},g.id))})]})})};class Zr{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const r4=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Jt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:r4()},jd=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},l4=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=jd(e);Jt.publicKey=n.publicKey,Jt.blockHeadless=n.blockHeadless,Jt.storageProvider=n.storageProvider,Jt.blockList=n.blockList,Jt.limitRate=n.limitRate,Jt.origin=n.origin||t},ZE=async(e,t,n={})=>{const i=await fetch(Jt.origin+e,{method:"POST",headers:n,body:t}),a=await i.text(),s=new Zr(i.status,a);if(i.ok)return s;throw s},$E=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},o4=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},JE=e=>e.webdriver||!e.languages||e.languages.length===0,WE=()=>new Zr(451,"Unavailable For Headless Browser"),u4=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},c4=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},h4=(e,t)=>e instanceof FormData?e.get(t):e[t],tT=(e,t)=>{if(c4(e))return!1;u4(e.list,e.watchVariable);const n=h4(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},eT=()=>new Zr(403,"Forbidden"),f4=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},d4=async(e,t,n)=>{const i=Number(await n.get(e)||0);return t-Date.now()+i},nT=async(e,t,n)=>{if(!t.throttle||!n)return!1;f4(t.throttle,t.id);const i=t.id||e;return await d4(i,t.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},iT=()=>new Zr(429,"Too Many Requests"),m4=async(e,t,n,i)=>{const a=jd(i),s=a.publicKey||Jt.publicKey,l=a.blockHeadless||Jt.blockHeadless,o=a.storageProvider||Jt.storageProvider,u={...Jt.blockList,...a.blockList},h={...Jt.limitRate,...a.limitRate};return l&&JE(navigator)?Promise.reject(WE()):($E(s,e,t),o4(n),n&&tT(u,n)?Promise.reject(eT()):await nT(location.pathname,h,o)?Promise.reject(iT()):ZE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},g4=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},p4=e=>typeof e=="string"?document.querySelector(e):e,y4=async(e,t,n,i)=>{const a=jd(i),s=a.publicKey||Jt.publicKey,l=a.blockHeadless||Jt.blockHeadless,o=Jt.storageProvider||a.storageProvider,u={...Jt.blockList,...a.blockList},h={...Jt.limitRate,...a.limitRate};if(l&&JE(navigator))return Promise.reject(WE());const d=p4(n);$E(s,e,t),g4(d);const p=new FormData(d);return tT(u,p)?Promise.reject(eT()):await nT(location.pathname,h,o)?Promise.reject(iT()):(p.append("lib_version","4.4.1"),p.append("service_id",e),p.append("template_id",t),p.append("user_id",s),ZE("/api/v1.0/email/send-form",p))},aT={init:l4,send:m4,sendForm:y4,EmailJSResponseStatus:Zr};aT.init("9e_AAuRiLenutUslJ");function _4(){const[e,t]=Lt.useState({name:"",email:"",phone:"",message:""}),[n,i]=Lt.useState(!1),[a,s]=Lt.useState("idle"),l=u=>{const{name:h,value:d}=u.target;t(p=>({...p,[h]:d}))},o=async u=>{u.preventDefault(),i(!0),s("idle");const h=`
Nombre: ${e.name}
Correo Electrnico: ${e.email}
Telfono: ${e.phone}

Mensaje:
${e.message}
`;try{await aT.send("service_9sjmufz","template_bvhxmnb",{to_name:"Soul Ki",from_name:e.name,email:e.email,message:h,reply_to:e.email},"9e_AAuRiLenutUslJ"),s("success"),t({name:"",email:"",phone:"",message:""})}catch(d){console.error("Error sending email:",d),s("error")}finally{i(!1)}};return S.jsx("section",{id:"contact",className:"py-16 bg-gray-50",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs("div",{className:"max-w-2xl mx-auto",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Contctanos"}),S.jsxs("form",{onSubmit:o,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),S.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:l,required:!0,placeholder:"Tu nombre",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),S.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:l,required:!0,placeholder:"tu@email.com",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telfono"}),S.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:l,required:!0,placeholder:"Tu nmero de telfono",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Mensaje"}),S.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:l,required:!0,rows:4,placeholder:"Escribe tu mensaje aqu",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"})]}),S.jsx("button",{type:"submit",disabled:n,className:`w-full bg-teal-600 hover:bg-teal-700 text-white py-3 px-6 rounded-md transition-colors ${n?"opacity-70 cursor-not-allowed":""}`,children:n?"Enviando...":"Enviar Mensaje"}),a==="success"&&S.jsx("p",{className:"text-green-600 text-center mt-4",children:"Mensaje enviado con xito! Nos pondremos en contacto contigo pronto."}),a==="error"&&S.jsx("p",{className:"text-red-600 text-center mt-4",children:"Hubo un error al enviar el mensaje. Por favor, intntalo de nuevo."})]})]})})})}const v4=()=>S.jsx("footer",{className:"w-full bg-gray-800 text-white py-10",children:S.jsxs("div",{className:"container mx-auto px-4",children:[S.jsx("div",{className:"flex flex-col items-center",children:S.jsxs("div",{className:"text-center mb-6",children:[S.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["SOUL",S.jsx("span",{className:"text-teal-400",children:"-KI"})]}),S.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"Bienestar holistico a travs de tratamientos osteopticos no invasivos. Nuestro enfoque integral se centra en la salud fsica y emocional de nuestros pacientes. Su bienestar empieza con SOUL-KI."})]})}),S.jsx("div",{className:"border-t border-gray-700 pt-6 mt-6 text-center",children:S.jsxs("p",{className:"text-gray-400",children:[" ",new Date().getFullYear()," SOUL-KI. Todos los derechos reservados."]})})]})}),E4=()=>{const[e,t]=Lt.useState(!1);return S.jsxs("header",{className:"sticky top-0 z-50 bg-white shadow-sm",children:[S.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[S.jsx("div",{className:"flex items-center",children:S.jsxs("h1",{className:"text-2xl font-bold text-teal-700",children:["SOUL",S.jsx("span",{className:"text-teal-500",children:"-KI"})]})}),S.jsxs("nav",{className:"hidden md:flex space-x-8",children:[S.jsx("a",{href:"#home",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Casa"}),S.jsx("a",{href:"#about",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Sobre nosotros"}),S.jsx("a",{href:"#services",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Nuestros Servicios"}),S.jsx("a",{href:"#treatments",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Metodos de Tratamiento"}),S.jsx("a",{href:"#testimonials",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Testimonios"}),S.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-teal-600 transition-colors",children:"Contactos"})]}),S.jsx("button",{className:"md:hidden focus:outline-none",onClick:()=>t(!e),children:e?S.jsx(Wx,{size:24}):S.jsx(Xx,{size:24})})]}),e&&S.jsx("div",{className:"md:hidden bg-white",children:S.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[S.jsx("a",{href:"#home",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"Hogar"}),S.jsx("a",{href:"#about",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"Sobre nosotros"}),S.jsx("a",{href:"#services",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"Nuestros servicio"}),S.jsx("a",{href:"#treatments",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"metodos de tratamiento"}),S.jsx("a",{href:"#testimonials",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"Testimonios"}),S.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-teal-600 transition-colors",onClick:()=>t(!1),children:"Contactos"})]})})]})};function T4(){const[e,t]=Lt.useState(""),n=async()=>{try{const i=await YE(Yo(Zo,"test"),{message:"Test successful!",timestamp:new Date}),s=(await FE(Yo(Zo,"test"))).docs.map(l=>l.data());t("Firestore test successful! Check your console for details."),console.log("Written document ID:",i.id),console.log("Read documents:",s)}catch(i){t("Error testing Firestore. Check console for details."),console.error("Firestore test error:",i)}};return S.jsxs("div",{className:"min-h-screen bg-white",children:[S.jsxs("div",{className:"fixed top-4 right-4 z-[9999]",children:[S.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg text-lg animate-bounce",children:"Test Firestore"}),e&&S.jsx("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg text-sm border border-gray-200 w-64",children:e})]}),S.jsx(E4,{}),S.jsxs("main",{children:[S.jsx(e4,{}),S.jsx(n4,{}),S.jsx(i4,{}),S.jsx(a4,{}),S.jsx(s4,{}),S.jsx(_4,{})]}),S.jsx(v4,{})]})}const sT=document.getElementById("root");if(!sT)throw new Error("Failed to find the root element");const A4=Ub.createRoot(sT);A4.render(S.jsx(n1.StrictMode,{children:S.jsx(T4,{})}));
